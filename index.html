<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Immersive Audio Model and Formats</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version bf22245b8, updated Tue Apr 18 15:53:37 2023 -0700" name="generator">
  <link href="https://aomediacodec.github.io/iamf/" rel="canonical">
  <meta content="a3c438c688e6c1fccd8b54699ea1fce1e64613bb" name="document-revision">
<style>
.col_border {
  border-left: 1px solid var(--def-border);
}
</style>
   &lt;
<style>/* style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}
</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}
</style>
<style>/* style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.aomedia.org/" style="width: 200px"> <img alt="AOM" height="60" src="https://aomedia.org/assets/images/aomedia-logo-rgb.svg" width="200"> </a> </p>
   <h1 class="p-name no-ref" id="title">Immersive Audio Model and Formats</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">AOM Working Group Draft, <time class="dt-updated" datetime="2023-04-17">17 April 2023</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://aomediacodec.github.io/iamf/">https://aomediacodec.github.io/iamf/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/AOMediaCodec/iamf/issues/">GitHub</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:hshee@samsung.com">SungHee Hwang</a> (<span class="p-org org">Samsung</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:flim@google.com">Felicia Lim</a> (<span class="p-org org">Google</span>)
    </dl>
   </div>
   <div data-fill-with="warning">
    <details class="annoying-warning" open>
     <summary>Warning</summary>
     <p>This specification is still at draft stage and should not be referenced other than as a working draft.</p>
    </details>
   </div>
   <p class="copyright" data-fill-with="copyright">
    <p>Copyright 2023, <a href="https://aomedia.org">AOM</a></p>
    <p>Licensing information is available at <a href="http://aomedia.org/license/">http://aomedia.org/license/</a></p>
    <p>The MATERIALS ARE PROVIDED “AS IS.” The Alliance for Open Media, its members, and its contributors expressly disclaim any warranties (express, implied, or otherwise), including implied warranties of merchantability, non-infringement, fitness for a particular purpose, or title, related to the materials. The entire risk as to implementing or otherwise using the materials is assumed by the implementer and user. IN NO EVENT WILL THE ALLIANCE FOR OPEN MEDIA, ITS MEMBERS, OR CONTRIBUTORS BE LIABLE TO ANY OTHER PARTY FOR LOST PROFITS OR ANY FORM OF INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES OF ANY CHARACTER FROM ANY CAUSES OF ACTION OF ANY KIND WITH RESPECT TO THIS DELIVERABLE OR ITS GOVERNING AGREEMENT, WHETHER BASED ON BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, AND WHETHER OR NOT THE OTHER MEMBER HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
   </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This document specifies an immersive audio (IA) architecture and model, a standalone IA sequence format and an <a data-link-type="biblio" href="#biblio-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">[ISOBMFF]</a>-based IA container format.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#convention"><span class="secno">1</span> <span class="content">Convention</span></a>
     <ol class="toc">
      <li>
       <a href="#convention-syntaxstructure"><span class="secno">1.1</span> <span class="content">Syntax Description</span></a>
       <ol class="toc">
        <li><a href="#convention-data-types"><span class="secno">1.1.1</span> <span class="content">Data types</span></a>
       </ol>
      <li><a href="#convention-arithmetic-operators"><span class="secno">1.2</span> <span class="content">Arithmetic Operators</span></a>
      <li>
       <a href="#convention-function"><span class="secno">1.3</span> <span class="content">Function</span></a>
       <ol class="toc">
        <li><a href="#convention-function-templates"><span class="secno">1.3.1</span> <span class="content">Function templates</span></a>
        <li><a href="#convention-function-mathematical"><span class="secno">1.3.2</span> <span class="content">Mathematical functions</span></a>
        <li><a href="#convention-function-utf8"><span class="secno">1.3.3</span> <span class="content">Function UTF-8 Encoding</span></a>
       </ol>
     </ol>
    <li>
     <a href="#introduction"><span class="secno">2</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#iasequence-components"><span class="secno">2.1</span> <span class="content">IA sequence Components</span></a>
      <li>
       <a href="#use-of-obu"><span class="secno">2.2</span> <span class="content">Use of OBU Syntax</span></a>
       <ol class="toc">
        <li><a href="#descriptors"><span class="secno">2.2.1</span> <span class="content">Descriptors</span></a>
        <li><a href="#data"><span class="secno">2.2.2</span> <span class="content">Data</span></a>
       </ol>
     </ol>
    <li>
     <a href="#obu-syntax"><span class="secno">3</span> <span class="content">Open Bitstream Unit (OBU) Syntax and Semantics</span></a>
     <ol class="toc">
      <li><a href="#audio-obu"><span class="secno">3.1</span> <span class="content">Audio OBU Syntax and Semantics</span></a>
      <li><a href="#obu-header"><span class="secno">3.2</span> <span class="content">OBU Header Syntax and Semantics</span></a>
      <li><a href="#obu-bytealignment"><span class="secno">3.3</span> <span class="content">Byte Alignment Syntax and Semantics</span></a>
      <li><a href="#obu-reserved"><span class="secno">3.4</span> <span class="content">Reserved OBU Syntax and Semantics</span></a>
      <li><a href="#obu-magiccode"><span class="secno">3.5</span> <span class="content">Magic Code OBU Syntax and Semantics</span></a>
      <li><a href="#obu-codecconfig"><span class="secno">3.6</span> <span class="content">Codec Config OBU Syntax and Semantics</span></a>
      <li>
       <a href="#obu-audioelement"><span class="secno">3.7</span> <span class="content">Audio Element OBU Syntax and Semantics</span></a>
       <ol class="toc">
        <li><a href="#parameter-definition"><span class="secno">3.7.1</span> <span class="content">Parameter Definition Syntax and Semantics</span></a>
        <li><a href="#syntax-scalable-channel-layout-config"><span class="secno">3.7.2</span> <span class="content">Scalable Channel Layout Config Syntax and Semantics</span></a>
        <li><a href="#syntax-ambisonics-config"><span class="secno">3.7.3</span> <span class="content">Ambisonics Config Syntax and Semantics</span></a>
       </ol>
      <li>
       <a href="#obu-mixpresentation"><span class="secno">3.8</span> <span class="content">Mix Presentation OBU Syntax and Semantics</span></a>
       <ol class="toc">
        <li><a href="#obu-mixpresentation-annotation"><span class="secno">3.8.1</span> <span class="content">Mix Presentation Annotations Syntax and Semantics</span></a>
        <li><a href="#obu-mixpresentation-elementannotation"><span class="secno">3.8.2</span> <span class="content">Mix Presentation Element Annotations Syntax and Semantics</span></a>
        <li><a href="#syntax-rendering-config"><span class="secno">3.8.3</span> <span class="content">Rendering Config Syntax and Semantics</span></a>
        <li><a href="#syntax-element-mix-config"><span class="secno">3.8.4</span> <span class="content">Element Mix Config Syntax and Semantics</span></a>
        <li><a href="#obu-mixpresentation-outputmix"><span class="secno">3.8.5</span> <span class="content">Output Mix Config Syntax and Semantics</span></a>
        <li><a href="#syntax-layout"><span class="secno">3.8.6</span> <span class="content">Layout Syntax and Semantics</span></a>
        <li><a href="#obu-mixpresentation-loudness"><span class="secno">3.8.7</span> <span class="content">Loudness Info Syntax and Semantics</span></a>
       </ol>
      <li>
       <a href="#obu-parameterblock"><span class="secno">3.9</span> <span class="content">Parameter Block OBU Syntax and Semantics</span></a>
       <ol class="toc">
        <li><a href="#syntax-mix-gain-param"><span class="secno">3.9.1</span> <span class="content">Mix Gain Parameter Data Syntax and Semantics</span></a>
        <li><a href="#syntax-demixing-info"><span class="secno">3.9.2</span> <span class="content">Demixing Info Parameter Data Syntax and Semantics</span></a>
        <li><a href="#syntax-recon-gain-info"><span class="secno">3.9.3</span> <span class="content">Recon Gain Info Parameter Data Syntax and Semantics</span></a>
       </ol>
      <li><a href="#obu-audioframe"><span class="secno">3.10</span> <span class="content">Audio Frame OBU Syntax and Semantics</span></a>
      <li><a href="#obu-temporaldelimiter"><span class="secno">3.11</span> <span class="content">Temporal Delimiter OBU Syntax and Semantics</span></a>
      <li><a href="#obu-sync"><span class="secno">3.12</span> <span class="content">Sync OBU Syntax and Semantics</span></a>
      <li>
       <a href="#codec-specific"><span class="secno">3.13</span> <span class="content">Codec Specific</span></a>
       <ol class="toc">
        <li><a href="#iamf-opus-specific"><span class="secno">3.13.1</span> <span class="content">IAMF-OPUS Specific</span></a>
        <li><a href="#iamf-aac-lc-specific"><span class="secno">3.13.2</span> <span class="content">IAMF-AAC-LC Specific</span></a>
        <li><a href="#iamf-flac-specific"><span class="secno">3.13.3</span> <span class="content">IAMF-FLAC Specific</span></a>
        <li><a href="#iamf-lpcm-specific"><span class="secno">3.13.4</span> <span class="content">IAMF-LPCM Specific</span></a>
       </ol>
     </ol>
    <li>
     <a href="#profiles"><span class="secno">4</span> <span class="content">Profiles</span></a>
     <ol class="toc">
      <li><a href="#profiles-simple"><span class="secno">4.1</span> <span class="content">IA Simple Profile</span></a>
      <li><a href="#profiles-base"><span class="secno">4.2</span> <span class="content">IA Base Profile</span></a>
     </ol>
    <li>
     <a href="#standalone"><span class="secno">5</span> <span class="content">Standalone IAMF Representation</span></a>
     <ol class="toc">
      <li>
       <a href="#standalone-obu-sequence-order"><span class="secno">5.1</span> <span class="content">OBU Sequence Order</span></a>
       <ol class="toc">
        <li><a href="#standalone-descriptor-obus"><span class="secno">5.1.1</span> <span class="content">Descriptor OBUs</span></a>
        <li><a href="#standalone-data-obus"><span class="secno">5.1.2</span> <span class="content">Data OBUs</span></a>
        <li><a href="#standalone-obu-sequence-refreshes"><span class="secno">5.1.3</span> <span class="content">Refreshing Descriptor OBUs</span></a>
       </ol>
      <li><a href="#standalone-synchronizing-data-obus"><span class="secno">5.2</span> <span class="content">Synchronizing Data OBUs</span></a>
     </ol>
    <li>
     <a href="#isobmff"><span class="secno">6</span> <span class="content">ISOBMFF IAMF Encapsulation</span></a>
     <ol class="toc">
      <li><a href="#brands"><span class="secno">6.1</span> <span class="content">General Requirements &amp; Brands</span></a>
      <li>
       <a href="#isobmff-singletrack"><span class="secno">6.2</span> <span class="content">ISOBMFF IAMF Encapsulation with single track</span></a>
       <ol class="toc">
        <li><a href="#isobmff-singletrack-iasequence"><span class="secno">6.2.1</span> <span class="content">Requirement of IA sequence</span></a>
        <li><a href="#isobmff-singletrack-basicencapsulationscheme"><span class="secno">6.2.2</span> <span class="content">Encapsulation Scheme</span></a>
        <li><a href="#iasampleentry-section"><span class="secno">6.2.3</span> <span class="content">IA Sample Entry</span></a>
        <li><a href="#iadescriptors-section"><span class="secno">6.2.4</span> <span class="content">IA Descriptors</span></a>
        <li><a href="#iasampleformat"><span class="secno">6.2.5</span> <span class="content">IA Sample Format</span></a>
       </ol>
      <li><a href="#codecsparameter"><span class="secno">6.3</span> <span class="content">Codecs Parameter String</span></a>
     </ol>
    <li>
     <a href="#isobmff-decapsulation"><span class="secno">7</span> <span class="content">ISOBMFF IAMF Decapsulation</span></a>
     <ol class="toc">
      <li>
       <a href="#isobmff-decapsulation-singletrack"><span class="secno">7.1</span> <span class="content">ISOBMFF IAMF Decapsulation with single track</span></a>
       <ol class="toc">
        <li><a href="#isobmff-decapsulation-singletrack-trimming"><span class="secno">7.1.1</span> <span class="content">Recommended handling of Trimming Information</span></a>
       </ol>
     </ol>
    <li>
     <a href="#processing"><span class="secno">8</span> <span class="content">IAMF processing</span></a>
     <ol class="toc">
      <li><a href="#processing-ambisonics"><span class="secno">8.1</span> <span class="content">Ambisonics decoding</span></a>
      <li>
       <a href="#processing-scalablechannelaudio"><span class="secno">8.2</span> <span class="content">Scalable Channel Audio decoding</span></a>
       <ol class="toc">
        <li><a href="#processing-scalablechannelaudio-gain"><span class="secno">8.2.1</span> <span class="content">Gain</span></a>
        <li><a href="#processing-scalablechannelaudio-demixer"><span class="secno">8.2.2</span> <span class="content">De-mixer</span></a>
        <li><a href="#processing-scalablechannelaudio-recongain"><span class="secno">8.2.3</span> <span class="content">Recon Gain</span></a>
       </ol>
      <li>
       <a href="#processing-mixpresentation"><span class="secno">8.3</span> <span class="content">Mix Presentation</span></a>
       <ol class="toc">
        <li><a href="#processing-mixpresentation-selection"><span class="secno">8.3.1</span> <span class="content">Selecting a Mix Presentation</span></a>
        <li>
         <a href="#processing-mixpresentation-rendering"><span class="secno">8.3.2</span> <span class="content">Rendering an Audio Element</span></a>
         <ol class="toc">
          <li><a href="#processing-mixpresentation-rendering-m2l"><span class="secno">8.3.2.1</span> <span class="content">Rendering a channel-based audio element to loudspeakers</span></a>
          <li><a href="#processing-mixpresentation-rendering-a2l"><span class="secno">8.3.2.2</span> <span class="content">Rendering a scene-based audio element to loudspeakers</span></a>
          <li><a href="#processing-mixpresentation-rendering-m2b"><span class="secno">8.3.2.3</span> <span class="content">Rendering a channel-based audio element to a binaural output</span></a>
          <li><a href="#processing-mixpresentation-rendering-a2b"><span class="secno">8.3.2.4</span> <span class="content">Rendering a scene-based audio element to a binaural output</span></a>
         </ol>
        <li><a href="#processing-mixpresentation-mixing"><span class="secno">8.3.3</span> <span class="content">Mixing Audio Elements</span></a>
       </ol>
      <li><a href="#processing-animated-params"><span class="secno">8.4</span> <span class="content">Animated Parameters</span></a>
      <li>
       <a href="#processing-post"><span class="secno">8.5</span> <span class="content">Post Processing</span></a>
       <ol class="toc">
        <li><a href="#processing-post-loudness"><span class="secno">8.5.1</span> <span class="content">Loudness Normalization</span></a>
        <li><a href="#processing-post-limiter"><span class="secno">8.5.2</span> <span class="content">Limiter</span></a>
       </ol>
      <li>
       <a href="#processing-downmixmatrix"><span class="secno">8.6</span> <span class="content">Down-mix Matrix</span></a>
       <ol class="toc">
        <li><a href="#processing-downmixmatrix-dynamic"><span class="secno">8.6.1</span> <span class="content">Dynamic Down-mix Matrix</span></a>
        <li><a href="#processing-downmixmatrix-static"><span class="secno">8.6.2</span> <span class="content">Static Down-mix Matrix</span></a>
       </ol>
     </ol>
    <li>
     <a href="#iamfgeneration"><span class="secno">9</span> <span class="content">IAMF Generation Process</span></a>
     <ol class="toc">
      <li><a href="#iamfgeneration-ambisonics"><span class="secno">9.1</span> <span class="content">Ambisonics Encoding</span></a>
      <li>
       <a href="#iamfgeneration-scalablechannelaudio"><span class="secno">9.2</span> <span class="content">Scalable Channel Audio Encoding</span></a>
       <ol class="toc">
        <li><a href="#iamfgeneration-scalablechannelaudio-downmixparameter"><span class="secno">9.2.1</span> <span class="content">Down-mix parameter and Loudness</span></a>
        <li><a href="#iamfgeneration-scalablechannelaudio-downmixmechanism"><span class="secno">9.2.2</span> <span class="content">Down-mix Mechanism</span></a>
        <li><a href="#iamfgeneration-scalablechannelaudio-channellayoutgenerationrule"><span class="secno">9.2.3</span> <span class="content">Channel Layout Generation Rule</span></a>
        <li><a href="#iamfgeneration-scalablechannelaudio-recongaingeneration"><span class="secno">9.2.4</span> <span class="content">Recon Gain Generation</span></a>
        <li><a href="#iamfgeneration-scalablechannelaudio-channelgroupgenerationrule"><span class="secno">9.2.5</span> <span class="content">ChannelGroup Generation Rule</span></a>
       </ol>
      <li>
       <a href="#iamfgeneration-mixpresentation"><span class="secno">9.3</span> <span class="content">Mix Presentation Encoding</span></a>
       <ol class="toc">
        <li><a href="#iamfgeneration-mixpresentation-mix"><span class="secno">9.3.1</span> <span class="content">Element Mix Config</span></a>
       </ol>
      <li>
       <a href="#iamfgeneration-multipleaudioelements"><span class="secno">9.4</span> <span class="content">Multiple Audio Elements Encoding</span></a>
       <ol class="toc">
        <li><a href="#iamfgeneration-multipleaudioelements-onecodec"><span class="secno">9.4.1</span> <span class="content">Multiple Audio Elements with One Codec Config</span></a>
       </ol>
      <li>
       <a href="#iamfgeneration-postprocessing"><span class="secno">9.5</span> <span class="content">Post Processing</span></a>
       <ol class="toc">
        <li><a href="#iamfgeneration-postprocessing-loudness"><span class="secno">9.5.1</span> <span class="content">Loudness Information</span></a>
       </ol>
     </ol>
    <li><a href="#iamfconsumption"><span class="secno">10</span> <span class="content">Consumption of IAMF bitstream</span></a>
    <li>
     <a href="#annex"><span class="secno">11</span> <span class="content">Annex</span></a>
     <ol class="toc">
      <li><a href="#annex-a-id-linking-scheme"><span class="secno">11.1</span> <span class="content">Annex A: ID Linking Scheme</span></a>
      <li><a href="#annex-b-short-lived-audio"><span class="secno">11.2</span> <span class="content">Annex B: Short-lived Audio</span></a>
     </ol>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="convention"><span class="secno">1. </span><span class="content">Convention</span><a class="self-link" href="#convention"></a></h2>
   <h3 class="heading settled" data-level="1.1" id="convention-syntaxstructure"><span class="secno">1.1. </span><span class="content">Syntax Description</span><a class="self-link" href="#convention-syntaxstructure"></a></h3>
   <p>All of syntax elements conform to <a data-link-type="dfn" href="https://www.iso.org/standard/55688.html#" id="8fc5d25d0">Syntactic Description Language</a> specified in <a data-link-type="biblio" href="#biblio-mp4-systems" title="Information technology — Coding of audio-visual objects — Part 1: Systems">[MP4-Systems]</a> unless it is explicitly described in the specification.</p>
   <h4 class="heading settled" data-level="1.1.1" id="convention-data-types"><span class="secno">1.1.1. </span><span class="content">Data types</span><a class="self-link" href="#convention-data-types"></a></h4>
   <p><b>leb128()</b> <b>syntaxName</b></p>
   <p><b>leb128()</b> indicates the type of an unsigned integer. It indicates the following unsigned integer <b>syntaxName</b> is encoded by <a data-link-type="dfn" href="https://aomedia.org/av1/specification/conventions/" id="def40fd10">leb128()</a> specified in <a data-link-type="biblio" href="#biblio-av1-convention" title="Conventions">[AV1-Convention]</a>.</p>
   <p><b>syntaxName</b> is an unsigned integer which is encoded by <a data-link-type="dfn" href="https://aomedia.org/av1/specification/conventions/" id="def40fd11">leb128()</a> specified in <a data-link-type="biblio" href="#biblio-av1-convention" title="Conventions">[AV1-Convention]</a>.</p>
   <p><b>sleb128()</b> <b>syntaxName</b></p>
   <p><b>sleb128()</b> indicates the type of an signed integer. It indicates the following signed integer <b>syntaxName</b> is encoded by <a data-link-type="dfn" href="https://aomedia.org/av1/specification/conventions/" id="def40fd12">leb128()</a> specified in <a data-link-type="biblio" href="#biblio-av1-convention" title="Conventions">[AV1-Convention]</a>.</p>
   <p><b>syntaxName</b> is an signed integer which is encoded by <a data-link-type="dfn" href="https://aomedia.org/av1/specification/conventions/" id="def40fd13">leb128()</a> specified in <a data-link-type="biblio" href="#biblio-av1-convention" title="Conventions">[AV1-Convention]</a>.</p>
   <p><b>string</b> <b>syntaxName</b></p>
   <p><b>string</b> indicates the type of a string which is terminated by null of one byte (i.e. 0x00).</p>
   <p><b>syntaxName</b> is a human readable label whose byte representation consists of <b>two-letter primary language subtags</b> and <b>two-letter region subtags</b> which are connected by hyphen("-"), and followed by bytes representation of <a data-link-type="dfn" href="#utf-8_enc-label" id="ref-for-utf-8_enc-label">UTF-8_Enc(label)</a>. Its length in bytes is limited to 128.</p>
   <p>Where, <b>two-letter primary language subtags</b> and <b>two-letter region subtags</b> conform to <a data-link-type="biblio" href="#biblio-bcp47" title="BCP 47">[BCP47]</a>.</p>
   <h3 class="heading settled" data-level="1.2" id="convention-arithmetic-operators"><span class="secno">1.2. </span><span class="content">Arithmetic Operators</span><a class="self-link" href="#convention-arithmetic-operators"></a></h3>
   <table class="def">
    <tbody>
     <tr>
      <td>+
      <td>Addition.
     <tr>
      <td>-
      <td>Subtraction.
     <tr>
      <td>*
      <td>Multiplication.
     <tr>
      <td>÷
      <td>Floating point (arithmetic) division.
     <tr>
      <td>/
      <td>Integer division with truncation of the result toward zero.
     <tr>
      <td>floor(x)
      <td>The largest integer that is smaller than or equal to x.
     <tr>
      <td>sqrt(x)
      <td>The square root of x.
   </table>
   <h3 class="heading settled" data-level="1.3" id="convention-function"><span class="secno">1.3. </span><span class="content">Function</span><a class="self-link" href="#convention-function"></a></h3>
   <h4 class="heading settled" data-level="1.3.1" id="convention-function-templates"><span class="secno">1.3.1. </span><span class="content">Function templates</span><a class="self-link" href="#convention-function-templates"></a></h4>
   <p>When the <b>template</b> keyword is used to decorate the <b>class</b> declaration, it indicates that the code is a template with a placeholder type that can be reused by other classes. Only classes that use the template present in the bitstream; the template itself does not present in the bitstream. Classes that use a function template pass a data type that is specified in either <a data-link-type="biblio" href="#biblio-mp4-systems" title="Information technology — Coding of audio-visual objects — Part 1: Systems">[MP4-Systems]</a> or <a href="#convention-data-types">§ 1.1.1 Data types</a>.</p>
   <p><b>Example</b></p>
<pre>template &lt;class T>
class Foo {
  T t;
}

class Bar {
  Foo&lt;int> f;
}
</pre>
   <h4 class="heading settled" data-level="1.3.2" id="convention-function-mathematical"><span class="secno">1.3.2. </span><span class="content">Mathematical functions</span><a class="self-link" href="#convention-function-mathematical"></a></h4>
   <p><b>Clip3(x, y, z)</b></p>
   <p>It conforms to <a data-link-type="dfn" href="https://aomedia.org/av1/specification/conventions/" id="def40fd10①">Clip3</a> specified in <a data-link-type="biblio" href="#biblio-av1-convention" title="Conventions">[AV1-Convention]</a>.</p>
   <p><b>round(x)</b></p>
   <p>The round() function returns the integer value closest to <code>x</code> and may be implemented as</p>
<pre>round(x) = floor(x + 0.5).
</pre>
   <h4 class="heading settled" data-level="1.3.3" id="convention-function-utf8"><span class="secno">1.3.3. </span><span class="content">Function UTF-8 Encoding</span><a class="self-link" href="#convention-function-utf8"></a></h4>
   <p><b>UTF-8_Enc(label)</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-8_enc-label" values>UTF-8_Enc(label)</dfn> byte representation of the encoded <b>label</b>, which is UTF-8 string as defined in <a data-link-type="biblio" href="#biblio-rfc3629" title="UTF-8, a transformation format of ISO 10646">[RFC3629]</a>, null terminated.</p>
   <h2 class="heading settled" data-level="2" id="introduction"><span class="secno">2. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="immersive-audio">immersive audio</dfn> means the combination of 3D audio signals recreating a sound experience close to that of a natural environment.</p>
   <p>This specification defines a model for representing <a data-link-type="dfn" href="#immersive-audio" id="ref-for-immersive-audio">immersive audio</a> contents based on coded audio substreams contributing to audio elements meant to be rendered and mixed to form one or more immersive presentations as depicted in the figure below.</p>
   <center><img height="361" src="images/decoding_flow_cropped.png" style="width:100%; height:auto;" width="712"></center>
   <center>
    <figcaption>Processing flow to decode, reconstruct, render and mix the audio signals for immersive audio playback.</figcaption>
   </center>
   <p>Based on the model, this specification defines a hypothetical immersive audio model and format (<dfn data-dfn-type="dfn" data-noexport id="iamf">IAMF<a class="self-link" href="#iamf"></a></dfn>) architecture as depicted in the figure below.</p>
   <center><img height="548" src="images/Hypothetical IAMF Architecture.png" style="width:100%; height:auto;" width="2550"></center>
   <center>
    <figcaption>Hypothetical IAMF Architecture</figcaption>
   </center>
   <p>For a given input 3D audio,</p>
   <ul>
    <li data-md>
     <p>Pre-Processor generates Pre-Processed Audio and Codec Agnostic Metadata for <a data-link-type="dfn" href="#immersive-audio" id="ref-for-immersive-audio①">immersive audio</a> (IA).</p>
     <ul>
      <li data-md>
       <p>Pre-Processed Audio is composed of one or more substreams.</p>
      <li data-md>
       <p>Metadata is determined to drive the rendering and mixing</p>
     </ul>
    <li data-md>
     <p>Audio Codec Enc generates Codec-Dependent Bitstream, which consists of the coded substreams.</p>
    <li data-md>
     <p>Bitstream Packager generates IA sequence from Codec-Dependent Bitstream and Codec Agnostic Metadata.</p>
    <li data-md>
     <p>File Packager generates IAMF File by encapsulating IA sequence into <a data-link-type="biblio" href="#biblio-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">[ISOBMFF]</a> tracks.</p>
    <li data-md>
     <p>File Parser reconstructs IA sequence by decapsulating IAMF File.</p>
    <li data-md>
     <p>Bitstream Parser outputs Codec-Dependent Bitstream and Codec Agnostic Metadata.</p>
    <li data-md>
     <p>Audio Codec Dec outputs a decoded Pre-Processed Audio after decoding of Codec-Dependent Bitstream.</p>
    <li data-md>
     <p>Post-Processor outputs Immersive 3D Audio by using the decoded Pre-Processed Audio and Codec Agnostic Metadata.</p>
   </ul>
   <h3 class="heading settled" data-level="2.1" id="iasequence-components"><span class="secno">2.1. </span><span class="content">IA sequence Components</span><a class="self-link" href="#iasequence-components"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ia-sequence">IA sequence</dfn> is a bitstream to represent <a data-link-type="dfn" href="#immersive-audio" id="ref-for-immersive-audio②">immersive audio</a> for presentation on a wide range of devices in both dynamic streaming and offline applications. These applications include internet audio streaming, multicasting/broadcasting services, file download, gaming, communication, virtual and augmented reality, and others. In these applications, audio may be played back on a wide range of devices, e.g. headsets, mobile phones, tablets, TVs, sound bars, home theater systems and big screens.</p>
   <p>The bitstream comprises a number of coded audio substreams and the metadata that describes how to decode, render and mix the substreams to generate an audio signal for playback. The bitstream format itself is codec-agnostic; any supported audio codec may be used to code the audio substreams.</p>
   <p>The IA sequence includes one or more audio elements, each of which consists of one or more audio substreams. The IA sequence further includes mix presentations and parameters.</p>
   <ul>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="audio-substream">Audio substream<a class="self-link" href="#audio-substream"></a></dfn> is the actual audio signal, which may be encoded with any compatible audio codec.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="audio-element">Audio element<a class="self-link" href="#audio-element"></a></dfn> is the 3D representation of the audio signals, and are constructed from one or more audio substreams and the metadata describing them. The audio substreams associated with one audio element use the same audio codec.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="mix-presentations">Mix presentations<a class="self-link" href="#mix-presentations"></a></dfn> contain metadata that describe how the audio elements are rendered and mixed together for playback through physical loudspeakers or headphones. Multiple mix presentations can be defined as alternatives to each other within the same IA sequence. Furthermore, the choice of which mix presentation to use at playback is left to the user. For example, multi-language support is implemented by defining different mix presentations, where the first mix describes the use of the audio element with English dialogue, and the second mix describes the use of the audio element with French dialogue.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="parameters">Parameters<a class="self-link" href="#parameters"></a></dfn> are the values that are associated with the algorithms used for decoding, reconstructing, rendering and mixing. Parameters may change their values over time and may further be animated; for example, any changes in values may be smoothed over some time duration. Their rate of change is specific to its respective algorithm, and is independent of other algorithms and the frame rates associated with the audio substreams. As such, they may be viewed as a 1D signal that have different metadata specified for different time durations.</p>
   </ul>
   <h3 class="heading settled" data-level="2.2" id="use-of-obu"><span class="secno">2.2. </span><span class="content">Use of OBU Syntax</span><a class="self-link" href="#use-of-obu"></a></h3>
   <h4 class="heading settled" data-level="2.2.1" id="descriptors"><span class="secno">2.2.1. </span><span class="content">Descriptors</span><a class="self-link" href="#descriptors"></a></h4>
   <p>The descriptor OBUs contains all the information that is required to setup and configure the decoders, reconstruction algorithms, renderers and mixers.</p>
   <ul>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="magic-code-obu">Magic Code OBU<a class="self-link" href="#magic-code-obu"></a></dfn> indicates the start of a full IA sequence description, version and profile version.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="codec-config-obu">Codec Config OBU<a class="self-link" href="#codec-config-obu"></a></dfn> describes information to set up a decoder for an audio substream.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="audio-element-obu">Audio Element OBU<a class="self-link" href="#audio-element-obu"></a></dfn> describes information to combine one or more audio substreams to reconstruct an audio element.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="mix-presentation-obu">Mix Presentation OBU<a class="self-link" href="#mix-presentation-obu"></a></dfn> describes information to render and mix one or more audio elements to generate the final audio output.</p>
   </ul>
   <h4 class="heading settled" data-level="2.2.2" id="data"><span class="secno">2.2.2. </span><span class="content">Data</span><a class="self-link" href="#data"></a></h4>
   <p>The data OBUs contain the actual time-varying data that is required in the generation of the final audio output.</p>
   <p>The IA sequence supports the description of multiple audio substreams and algorithms, which may have different metadata update rates to each other. The update rate for the audio substreams and audio elements is governed by the frame rates of the audio codec used. Since a single bitstream may support multiple codecs, this may lead to multiple different frame rates. The algorithms for rendering and mixing may have parameters that update at different rates to each other and to the audio frame rates. Therefore, the IA sequence contains information to facilitate the synchronization of the different audio frames and parameters.</p>
   <ul>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="audio-frame-obu">Audio Frame OBU<a class="self-link" href="#audio-frame-obu"></a></dfn> provides the raw coded audio frame for an audio substream.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="parameter-block-obu">Parameter Block OBU<a class="self-link" href="#parameter-block-obu"></a></dfn> provides the time-varying parameter values for an algorithm used in any of the decoding, reconstruction, rendering or mixing steps.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="sync-obu">Sync OBU<a class="self-link" href="#sync-obu"></a></dfn> provides relative timestamp offsets to synchronize audio frames and parameter blocks.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="temporal-delimiter-obu">Temporal Delimiter OBU<a class="self-link" href="#temporal-delimiter-obu"></a></dfn> identifies the temporal units.</p>
   </ul>
   <h2 class="heading settled" data-level="3" id="obu-syntax"><span class="secno">3. </span><span class="content">Open Bitstream Unit (OBU) Syntax and Semantics</span><a class="self-link" href="#obu-syntax"></a></h2>
   <p>The IA sequence uses the OBU syntax.</p>
   <p>This section specifies the OBU syntax elements and their semantics.</p>
   <h3 class="heading settled" data-level="3.1" id="audio-obu"><span class="secno">3.1. </span><span class="content">Audio OBU Syntax and Semantics</span><a class="self-link" href="#audio-obu"></a></h3>
   <p><b>Syntax</b></p>
<pre>class audio_open_bitstream_unit() {
  obu_header();

  if (obu_type == OBU_IA_Magic_Code)
    magic_code_obu();
  else if (obu_type == OBU_IA_Codec_Config)
    codec_config_obu();
  else if (obu_type == OBU_IA_Audio_Element)
    audio_element_obu();
  else if (obu_type == OBU_IA_Mix_Presentation)
    mix_presentation_obu();
  else if (obu_type == OBU_IA_Parameter_Block)
    parameter_block_obu();
  else if (obu_type == OBU_IA_Temporal_Delimiter)
    temporal_delimiter_obu();
  else if (obu_type == OBU_IA_Sync)
    sync_obu();
  else if (obu_type == OBU_IA_Audio_Frame)
    audio_frame_obu_with_no_id();
  else if (obu_type >= 9 and &lt;= 30)
    audio_frame_obu(obu_type - 9);
  else if (obu_type == 6 or 7)
    reserved_obu();

  byte_alignment():
}
</pre>
   <p><b>Semantics</b></p>
   <p>If the syntax element obu_type is equal to OBU_IA_Magic_Code, an ordered series of OBUs is presented to the decoding process as a string of bytes.</p>
   <h3 class="heading settled" data-level="3.2" id="obu-header"><span class="secno">3.2. </span><span class="content">OBU Header Syntax and Semantics</span><a class="self-link" href="#obu-header"></a></h3>
   <p><b>Syntax</b></p>
<pre>class obu_header() {
  unsigned int (5) obu_type;
  unsigned int (1) obu_redundant_copy;
  unsigned int (1) obu_trimming_status_flag;
  unsigned int (1) obu_extension_flag;
  leb128() obu_size;

  if (obu_trimming_status_flag) {
    leb128() num_samples_to_trim_at_end;
    leb128() num_samples_to_trim_at_start;
  }
  if (obu_extension_flag == 1)
    leb128() extension_header_size;
}
</pre>
   <p><b>Semantics</b></p>
   <p>OBUs are structured with a header and a payload.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obu_type">obu_type</dfn> specifies the type of data structure contained in the OBU payload.</p>
<pre class="def">obu_type: Name of obu_type
   0    : OBU_IA_Codec_Config
   1    : OBU_IA_Audio_Element
   2    : OBU_IA_Mix_Presentation
   3    : OBU_IA_Parameter_Block
   4    : OBU_IA_Temporal_Delimiter
   5    : OBU_IA_Sync
  6~7   : Reserved
   8    : OBU_IA_Audio_Frame
  9~30  : OBU_IA_Audio_Frame_ID0 to OBU_IA_Audio_Frame_ID21
   31   : OBU_IA_Magic_Code
</pre>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obu_redundant_copy">obu_redundant_copy</dfn> indicates whether this OBU is a redundant copy of the previous OBU in the IA sequence with the same obu_type. A value of 1 indicates that it is a redundant copy, while a value of 0 indicates that it is not.</p>
   <p>It shall always be set to 0 for the following obu_type values:</p>
   <ul>
    <li data-md>
     <p>OBU_IA_Temporal_Delimiter</p>
    <li data-md>
     <p>OBU_IA_Sync</p>
    <li data-md>
     <p>OBU_IA_Audio_Frame</p>
    <li data-md>
     <p>OBU_IA_Audio_Frame_ID0 to OBU_IA_Audio_Frame_ID21</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obu_trimming_status_flag">obu_trimming_status_flag</dfn> indicates whether this OBU has audio samples to be trimmed or not. If it is set to 0, the <a data-link-type="dfn" href="#num_samples_to_trim_at_start" id="ref-for-num_samples_to_trim_at_start">num_samples_to_trim_at_start</a> and <a data-link-type="dfn" href="#num_samples_to_trim_at_end" id="ref-for-num_samples_to_trim_at_end">num_samples_to_trim_at_end</a> fields shall not be present. Otherwise, the <a data-link-type="dfn" href="#num_samples_to_trim_at_start" id="ref-for-num_samples_to_trim_at_start①">num_samples_to_trim_at_start</a> and <a data-link-type="dfn" href="#num_samples_to_trim_at_end" id="ref-for-num_samples_to_trim_at_end①">num_samples_to_trim_at_end</a> fields shall be present.</p>
   <p>For a given substream,</p>
   <ul>
    <li data-md>
     <p>If the substream contains audio samples to be trimmed, then they shall only be at the start and/or end of the substream. Thus, <a data-link-type="dfn" href="#obu_trimming_status_flag" id="ref-for-obu_trimming_status_flag">obu_trimming_status_flag</a> shall be set to 1 only for one or more consecutive Audio Frame OBUs at the start of the substream and/or only for one or more consecutive Audio Frame OBUs at the end of the substream.</p>
    <li data-md>
     <p>Otherwise, then <a data-link-type="dfn" href="#obu_trimming_status_flag" id="ref-for-obu_trimming_status_flag①">obu_trimming_status_flag</a> shall be set to 0 for every Audio Frame OBU of the substream.</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obu_extension_flag">obu_extension_flag</dfn> indicates whether the <a data-link-type="dfn" href="#extension_header_size" id="ref-for-extension_header_size">extension_header_size</a> field presents or not. If it set to 0, the <a data-link-type="dfn" href="#extension_header_size" id="ref-for-extension_header_size①">extension_header_size</a> field shall not be present. Otherwise, the <a data-link-type="dfn" href="#extension_header_size" id="ref-for-extension_header_size②">extension_header_size</a> field shall be present.</p>
   <p>This flag shall be set to 0 for the current version of the specification (i.e. <a data-link-type="dfn" href="#version" id="ref-for-version">version</a> = 0). An IAMF-OBU parser which is conformant with the current version of the specification shall be able to parse this flag and <a data-link-type="dfn" href="#extension_header_size" id="ref-for-extension_header_size③">extension_header_size</a>.</p>
   <p class="note" role="note"><span class="marker">NOTE:</span> A future version of specification may use this flag to specify an extension header field by setting <a data-link-type="dfn" href="#obu_extension_flag" id="ref-for-obu_extension_flag">obu_extension_flag</a> = 1 and setting the size of extended header to <a data-link-type="dfn" href="#extension_header_size" id="ref-for-extension_header_size④">extension_header_size</a>.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="obu_size">obu_size<a class="self-link" href="#obu_size"></a></dfn> indicates the size in bytes of the OBU immediately following the obu_size field of the OBU.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_samples_to_trim_at_start">num_samples_to_trim_at_start</dfn> indicates the number of samples that needs to be trimmed from the start of the samples in this Audio Frame OBU.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_samples_to_trim_at_end">num_samples_to_trim_at_end</dfn> indicates the number of samples that needs to be trimmed from the end of the samples in this Audio Frame OBU.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="extension_header_size">extension_header_size</dfn> indicates the size in bytes of the extension header including this field.</p>
   <h3 class="heading settled" data-level="3.3" id="obu-bytealignment"><span class="secno">3.3. </span><span class="content">Byte Alignment Syntax and Semantics</span><a class="self-link" href="#obu-bytealignment"></a></h3>
   <p><b>Syntax</b></p>
<pre>class byte_alignment() {
  while (get_position() &amp; 7)
    unsigned int (1) zero_bit;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="zero_bit">zero_bit<a class="self-link" href="#zero_bit"></a></dfn> shall be equal to 0 and is inserted into the bitstream to align the bit position to a multiple of 8 bits.</p>
   <h3 class="heading settled" data-level="3.4" id="obu-reserved"><span class="secno">3.4. </span><span class="content">Reserved OBU Syntax and Semantics</span><a class="self-link" href="#obu-reserved"></a></h3>
   <p>The reserved OBU allows the extension of this specification with additional OBU types in a way that allows IAMF-OBU parsers compliant to this version of specification to ignore them.</p>
   <h3 class="heading settled" data-level="3.5" id="obu-magiccode"><span class="secno">3.5. </span><span class="content">Magic Code OBU Syntax and Semantics</span><a class="self-link" href="#obu-magiccode"></a></h3>
   <p>This section specifies obu payload of OBU_IA_Magic_Code.</p>
   <p><b>Syntax</b></p>
<pre>class magic_code_obu() {
  unsigned int (32) ia_code;
  unsigned int (8) version;
  unsigned int (8) profile_version
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="ia_code">ia_code<a class="self-link" href="#ia_code"></a></dfn> indicates a ‘four-character code’ (4CC) to identify the start of the IA sequence. It shall be ‘iamf’.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="version">version</dfn> indicates the version of an IA sequence. It shall be set to 0 for this version of the specification. Implementations should treat IA sequences where the MSB four bits of the version number match that of a recognized specification as backwards compatible with that specification. That is, the version number can be split into "major" and "minor" version sub-fields, with changes to the minor sub-field (in the LSB four bits) signaling compatible changes. For example, an implementation of this specification should accept any stream with a version number of ’15’ or less, and should assume any stream with a version number ’16’ or
greater is incompatible.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="profile_version">profile_version</dfn> indicates the profile of an IA sequence. The MSB four bits indicates the profile of an IA sequence. Implementations should treat IA sequences where the MSB four bits of the version number match that of a recognized profile as backwards compatible with that specification. That is, the version number can be split into "profile major" and "profile minor" version sub-fields, with changes to the minor sub-field (in the LSB four bits) signaling compatible changes with the profile major version. The semantic of this field is only valid when the MSB four bits of <a data-link-type="dfn" href="#version" id="ref-for-version①">version</a> = 0.</p>
   <h3 class="heading settled" data-level="3.6" id="obu-codecconfig"><span class="secno">3.6. </span><span class="content">Codec Config OBU Syntax and Semantics</span><a class="self-link" href="#obu-codecconfig"></a></h3>
   <p>This section specifies the OBU payload of OBU_IA_Codec_Config.</p>
   <p><b>Syntax</b></p>
<pre>class codec_config_obu() {
  leb128() codec_config_id;  
  codec_config();
}

class codec_config() {
  unsigned int (32) codec_id;
  leb128() num_samples_per_frame;
  signed int (16) roll_distance;
  decoder_config(codec_id);
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="codec_config_id">codec_config_id</dfn> indicates an unique obu_id with <a data-link-type="dfn" href="#obu_type" id="ref-for-obu_type">obu_type</a> = OBU_IA_Codec_Config in IA sequences for a given codec config.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="codec_id">codec_id</dfn> indicates a ‘four-character code’ (4CC) to identify the codec used to generate the audio substreams. It shall be <a class="property css" data-link-type="property" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408280">Opus</a> for IAMF-OPUS, <a class="property css" data-link-type="property" href="https://www.iso.org/standard/79110.html#" id="9220e6060">mp4a</a> for IAMF-AAC-LC, <a class="property css" data-link-type="property" href="https://xiph.org/flac/format.html" id="df20f7020">fLaC</a> for IAMF-FLAC and <a class="property css" data-link-type="property" href="https://www.iso.org/standard/77752.html#" id="d4ce8e260">ipcm</a> for IAMF-LPCM.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_samples_per_frame">num_samples_per_frame</dfn> indicates the frame length, in samples, of the raw coded audio provided in by audio_frame_obu(). It shall not be set to zero.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="roll_distance">roll_distance</dfn> is a signed integer that gives the number of frames that need to be decoded in order for a frame to be decoded correctly. A negative value indicates the number of frames before the frame to be decoded corrently.</p>
   <ul>
    <li data-md>
     <p>It shall be set to -1 for IAMF-AAC-LC and -R (R = 4 when the frame size = 960) for IAMF-OPUS. IAMF-FLAC may ignore this field. Where, R is the smallest integer greater than or equal to 3840 divided by the frame size.</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="decoder_config">decoder_config()</dfn> specifies the set of codec parameters required to decode an audio substream for the given codec_id. It is byte aligned.</p>
   <ul>
    <li data-md>
     <p>The codec_id and decoder_config() for IAMF-OPUS shall conform to <a data-link-type="dfn" href="#codec_specific_info" id="ref-for-codec_specific_info">Codec_Specific_Info</a> of <a href="#iamf-opus-specific">§ 3.13.1 IAMF-OPUS Specific</a></p>
    <li data-md>
     <p>The codec_id and decoder_config() for IAMF-AAC-LC shall conform to <a data-link-type="dfn" href="#codec_specific_info" id="ref-for-codec_specific_info①">Codec_Specific_Info</a> of <a href="#iamf-aac-lc-specific">§ 3.13.2 IAMF-AAC-LC Specific</a>.</p>
    <li data-md>
     <p>The codec_id and decoder_config() for IAMF-FLAC shall conform to <a data-link-type="dfn" href="#codec_specific_info" id="ref-for-codec_specific_info②">Codec_Specific_Info</a> of <a href="#iamf-flac-specific">§ 3.13.3 IAMF-FLAC Specific</a></p>
    <li data-md>
     <p>The codec_id and decoder_config() for IAMF-LPCM shall conform to <a data-link-type="dfn" href="#codec_specific_info" id="ref-for-codec_specific_info③">Codec_Specific_Info</a> of <a href="#iamf-lpcm-specific">§ 3.13.4 IAMF-LPCM Specific</a>.</p>
   </ul>
   <h3 class="heading settled" data-level="3.7" id="obu-audioelement"><span class="secno">3.7. </span><span class="content">Audio Element OBU Syntax and Semantics</span><a class="self-link" href="#obu-audioelement"></a></h3>
   <p>This section specifies the OBU payload of OBU_IA_Audio_Element.</p>
   <p><b>Syntax</b></p>
<pre>class audio_element_obu() {
  leb128() audio_element_id;
  unsigned int (3) audio_element_type;
  unsigned int (5) reserved;
  
  leb128() codec_config_id;  

  leb128() num_substreams;
  for (i = 0; i &lt; num_substreams; i++) {
    leb128() audio_substream_id;
  }
  
  leb128() num_parameters;
  for (i = 0; i &lt; num_parameters; i++) {
    leb128() param_definition_type;
    if (param_definition_type == PARAMETER_DEFINITION_DEMIXING) {
        DemixingParamDefinition demixing_info;
    }
    if (param_definition_type == PARAMETER_DEFINITION_RECON_GAIN) {
        ReconGainParamDefinition recon_gain_info;
    }
  }

  if (audio_element_type == CHANNEL_BASED) {
    scalable_channel_layout_config();
  } else if (audio_element_type == SCENE_BASED) {
    ambisonics_config();
  }  
}
</pre>
<pre>class DemixingParamDefinition() extends ParamDefinition() {
}
</pre>
<pre>class ReconGainParamDefinition() extends ParamDefinition() {
}

</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="audio_element_id">audio_element_id</dfn> indicates an unique obu_id with <a data-link-type="dfn" href="#obu_type" id="ref-for-obu_type①">obu_type</a> = OBU_IA_Audio_Element in IA sequences for a given audio element.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="audio_element_type">audio_element_type<a class="self-link" href="#audio_element_type"></a></dfn> specifies the audio representation of this audio element which is constructed from one or more audio substreams.</p>
<pre class="def">audio_element_type: The type of audio representation.
   0    : CHANNEL_BASED
   1    : SCENE_BASED
  2~7   : Reserved
</pre>
   <p><dfn class="css" data-dfn-for="audio_element_obu()" data-dfn-type="value" data-noexport id="valdef-audio_element_obu-codec_config_id">codec_config_id<a class="self-link" href="#valdef-audio_element_obu-codec_config_id"></a></dfn> indicates the obu_id for the codec config which this audio element refers to.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_substreams">num_substreams</dfn> specifies the number of audio substreams that are used to reconstruct this audio element.</p>
   <p><dfn class="css" data-dfn-for="audio_element_obu()" data-dfn-type="value" data-noexport id="valdef-audio_element_obu-audio_substream_id">audio_substream_id<a class="self-link" href="#valdef-audio_element_obu-audio_substream_id"></a></dfn> specifies the obu_id associated with the audio substream that is used to reconstruct this audio element.</p>
   <p>Let a particular ChannelGroup’s substream be indexed as [<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="c">c</dfn>, <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="n_c">n_c</dfn>], where</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#c" id="ref-for-c">c</a> = [1, ..., C] is the ChannelGroup index and C is the number of ChannelGroups.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#n_c" id="ref-for-n_c">n_c</a> = [1, ..., N_c] is the substream index in the c-th ChannelGroup and N_c is the number of substreams in the c-th ChannelGroup.</p>
    <li data-md>
     <p>The i-th audio_substream_id maps to a ChannelGroup’s substream as follows, where i is the index of the array:</p>
   </ul>
<pre>[[1, 1], [1, 2], ..., [1, N_1], [2, 1], [2, 2], ..., [2, N_2], ..., [C, 1], [C, 2], ..., [C, N_c]]
</pre>
   <p>A ChannelGroup is defined in <a href="#iamfgeneration">§ 9 IAMF Generation Process</a>. The order of the substreams in each ChannelGroup., i.e. the semantics of n_c, is specified in <a href="#syntax-scalable-channel-layout-config">§ 3.7.2 Scalable Channel Layout Config Syntax and Semantics</a>.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="num_parameters">num_parameters<a class="self-link" href="#num_parameters"></a></dfn> specifies the number of parameters that are used by the algorithms specified in this audio element.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="param_definition_type">param_definition_type<a class="self-link" href="#param_definition_type"></a></dfn> specifies the type of the parameter definition. All parameter definition types described in this version of the specification are listed in the table below, along with their associated parameter definitions.</p>
   <table class="def">
    <tbody>
     <tr>
      <th>param_definition_type
      <th>Parameter definition type
      <th>Parameter definition
     <tr>
      <td>0
      <td>PARAMETER_DEFINITION_MIX_GAIN
      <td>MixGainParamDefinition
     <tr>
      <td>1
      <td>PARAMETER_DEFINITION_DEMIXING
      <td>DemixingParamDefinition
     <tr>
      <td>2
      <td>PARAMETER_DEFINITION_RECON_GAIN
      <td>ReconGainParamDefinition
   </table>
   <p><dfn data-dfn-type="dfn" data-noexport id="demixing_info">demixing_info<a class="self-link" href="#demixing_info"></a></dfn> provides the parameter definition for the demixing information to reconstruct channel audios according to <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout">loudspeaker_layout</a> from scalable channel audio. The parameter definition is provided by DemixingParamDefinition() and the corresponding parameter data to be provided in parameter blocks is specified in demixing_info_parameter_data().</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="recon_gain_info">recon_gain_info<a class="self-link" href="#recon_gain_info"></a></dfn> provides the parameter definition for the gain value to reconstruct channel audios according to <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①">loudspeaker_layout</a> from scalable channel audio. The parameter definition is provided by ReconGainParamDefinition() and the corresponding parameter data to be provided in parameter blocks is specified in recon_gain_info_parameter_data().</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="scalable_channel_layout_config">scalable_channel_layout_config()</dfn> is a class that provides the metadata required for combining the substreams identified here in order to reconstruct a scalable channel layout.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ambisonics_config">ambisonics_config()</dfn> is a class that provides the metadata required for combining the substreams identified here in order to reconstruct an Ambisonics layout.</p>
   <h4 class="heading settled" data-level="3.7.1" id="parameter-definition"><span class="secno">3.7.1. </span><span class="content">Parameter Definition Syntax and Semantics</span><a class="self-link" href="#parameter-definition"></a></h4>
   <p>Parameter definition classes inherits from the abstract <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="paramdefinition">ParamDefinition()</dfn> class.</p>
   <p><b>Syntax</b></p>
<pre>abstract class ParamDefinition() {
  leb128() parameter_id;
  leb128() parameter_rate;
  unsigned int (1) param_definition_mode;
  unsigned int (7) reserved;
  if (param_definition_mode == 0) {
    leb128() duration;
    leb128() num_subblocks;
    leb128() constant_subblock_duration;
    if (constant_subblock_duration == 0) {
      for (i=0; i&lt; num_subblocks; i++) {
        leb128() subblock_duration;
      }
    }
    
  }
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="css" data-dfn-for="ParamDefinition()" data-dfn-type="value" data-noexport id="valdef-paramdefinition-parameter_id">parameter_id<a class="self-link" href="#valdef-paramdefinition-parameter_id"></a></dfn> indicates the obu_id in an IA sequence for a given parameter.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parameter_rate">parameter_rate</dfn> specifies the rate used by this parameter, expressed as ticks per second. Time-related fields associated with this parameter, such as durations, shall be expressed in the number of ticks.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="param_definition_mode">param_definition_mode</dfn> indicates if this parameter definition specifies duration, num_subblocks, constant_subblock_duration and subblock_duration fields for the parameter blocks associated to the <a data-link-type="dfn" href="#parameter_id" id="ref-for-parameter_id">parameter_id</a>.</p>
   <ul>
    <li data-md>
     <p>When this field is set to 0, all of duration, num_subblocks, constant_subblock_duration and subblock_duration fields shall be specified in this parameter definition mapped to the <a data-link-type="dfn" href="#parameter_id" id="ref-for-parameter_id①">parameter_id</a>. In that case, none of parameter blocks associated to this parameter definition shall specify duration, num_subblocks, constant_subblock_duration and subblock_duration fields.</p>
    <li data-md>
     <p>When this field is set to 1, none of duration, num_subblocks, constant_subblock_duration and subblock_duration fields shall be specificed in this parameter definition. In that case, each of parameter blocks associated to this parameter definition shall specify its own duration, num_subblocks, constant_subblock_duration and subblock_duration fields.</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="duration">duration</dfn> specifies the duration for which all of parameter blocks associated to this parameter definition are valid and applicable.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_subblocks">num_subblocks</dfn> specifies the number of different sets of parameter values specified in all of parameter blocks associated to this parameter definition, where each set describes a different subblock of the timeline, contiguously.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="constant_subblock_duration">constant_subblock_duration</dfn> specifies the duration of each subblock, in the case where all subblocks except the last subblock have equal durations. If all subblocks except the last subblock do not have equal durations, the value of constant_subblock_duration shall be set to 0.</p>
   <p>When it defines <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="d">D</dfn> = the value of <a data-link-type="dfn" href="#duration" id="ref-for-duration">duration</a>, <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ns">NS</dfn> = the value of <a data-link-type="dfn" href="#num_subblocks" id="ref-for-num_subblocks">num_subblocks</a>, <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="csi">CSI</dfn> = the value of <a data-link-type="dfn" href="#constant_subblock_duration" id="ref-for-constant_subblock_duration">constant_subblock_duration</a> and <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="si">SI</dfn> = the value of <a data-link-type="dfn" href="#subblock_duration" id="ref-for-subblock_duration">subblock_duration</a>.</p>
   <ul>
    <li data-md>
     <p>When <a data-link-type="dfn" href="#csi" id="ref-for-csi">CSI</a> != 0, <a data-link-type="dfn" href="#ns" id="ref-for-ns">NS</a> x <a data-link-type="dfn" href="#csi" id="ref-for-csi①">CSI</a> shall be equal to or greater than <a data-link-type="dfn" href="#d" id="ref-for-d">D</a>.</p>
     <ul>
      <li data-md>
       <p>If <a data-link-type="dfn" href="#ns" id="ref-for-ns①">NS</a> x <a data-link-type="dfn" href="#csi" id="ref-for-csi②">CSI</a> > <a data-link-type="dfn" href="#d" id="ref-for-d①">D</a>, the actual duration of the last subblock shall be <a data-link-type="dfn" href="#d" id="ref-for-d②">D</a> - (<a data-link-type="dfn" href="#ns" id="ref-for-ns②">NS</a> - 1) x <a data-link-type="dfn" href="#csi" id="ref-for-csi③">CSI</a>.</p>
     </ul>
    <li data-md>
     <p>When <a data-link-type="dfn" href="#csi" id="ref-for-csi④">CSI</a> = 0, the summation of all <a data-link-type="dfn" href="#si" id="ref-for-si">SI</a>s in this parameter block shall be equal to <a data-link-type="dfn" href="#d" id="ref-for-d③">D</a>.</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="subblock_duration">subblock_duration</dfn> specifies the duration for the given subblock.</p>
   <p>Each value of <a data-link-type="dfn" href="#duration" id="ref-for-duration①">duration</a>, <a data-link-type="dfn" href="#constant_subblock_duration" id="ref-for-constant_subblock_duration①">constant_subblock_duration</a> and <a data-link-type="dfn" href="#subblock_duration" id="ref-for-subblock_duration①">subblock_duration</a> shall be expressed as the number of ticks at the <a data-link-type="dfn" href="#parameter_rate" id="ref-for-parameter_rate">parameter_rate</a> specified in the corresponding parameter definition.</p>
   <h4 class="heading settled" data-level="3.7.2" id="syntax-scalable-channel-layout-config"><span class="secno">3.7.2. </span><span class="content">Scalable Channel Layout Config Syntax and Semantics</span><a class="self-link" href="#syntax-scalable-channel-layout-config"></a></h4>
   <p><a data-link-type="dfn" href="#scalable_channel_layout_config" id="ref-for-scalable_channel_layout_config">scalable_channel_layout_config()</a> contains information regarding the configuration of scalable channel audio.</p>
   <p><b>Syntax</b></p>
<pre>class scalable_channel_layout_config() {
  unsigned int (3) num_layers;
  unsigned int (5) reserved;
  for (i = 1; i &lt;= num_layers; i++) {
    channel_audio_layer_config(i);
  }
}

class channel_audio_layer_config(i) {
  unsigned int (4) loudspeaker_layout(i);
  unsigned int (1) output_gain_is_present_flag(i);
  unsigned int (1) recon_gain_is_present_flag(i);
  unsigned int (2) reserved;
  unsigned int (8) substream_count(i);
  unsigned int (8) coupled_substream_count(i);
  if (output_gain_is_present_flag(i) == 1) {
    unsigned int (6) output_gain_flag(i);
    unsigned int (2) reserved;
    signed int (16) output_gain(i);
  }
}
</pre>
   <p>When an audio element is composed of G(r) number of substreams, scalable channel audio for the audio element is layered into <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers">num_layers</a> = r number of ChannelGroups.</p>
   <ul>
    <li data-md>
     <p>The order of ChannelGroups in each temporal unit shall be same as the order of channel_audio_layer_config()s in scalable_channel_layout_config().</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="channelgroup">ChannelGroup<a class="self-link" href="#channelgroup"></a></dfn> is a set of substreams which is able to provide a spatial resolution of audio contents by itself or which is able to provide an enhanced spatial resolution of audio contents by combining with the preceding ChannelGroups within the audio frames.</p>
    <li data-md>
     <p>ChannelGroup #q consists of G(q)-G(q-1) number of substreams. Where, q = 1, 2, ..., r and G(0) = 0.</p>
    <li data-md>
     <p>IA frame is a set of audio_frame_obus with the same sync offsets of the single audio element for scalable channel audio. Each of them comes from each substream.</p>
    <li data-md>
     <p>Every IA frame shall have the same number of audio_frame_obus.</p>
    <li data-md>
     <p>When r > 1, parameter_block_obu() may present with IA frame.</p>
   </ul>
   <center><img height="423" src="images/Immersive Audio Bitstream with scalable channel audio (before OBU packing).png" style="width:100%; height:auto;" width="1729"></center>
   <center>
    <figcaption>Immersive Audio Sequence with scalable channel audio (before OBU packing)</figcaption>
   </center>
   <p>The IA decoder shall select one of one or more channel audios provided by scalable channel audio. The IA decoder should select the appropriate channel audio according to the following rules, in order:</p>
   <ul>
    <li data-md>
     <p>The IA decoder should first attempt to select the channel audio whose loudspeaker layout matches the physical playback layout.</p>
    <li data-md>
     <p>If there is no match, the IA decoder should select the channel audio with the closest specified loudspeaker layout to the physical layout and then apply up or down-mixing appropriately, after decoding and reconstruction of the channel audio. <a href="#iamfgeneration-scalablechannelaudio-downmixmechanism">§ 9.2.2 Down-mix Mechanism</a> and <a href="#processing-downmixmatrix">§ 8.6 Down-mix Matrix</a> provide examples of dynamic and static down-mixing matrices for some common layouts that may be used.</p>
   </ul>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_layers">num_layers</dfn> indicates the number of ChannelGroups for scalable channel audio. It shall not be set to zero and its maximum number shall be limited to 6.</p>
   <ul>
    <li data-md>
     <p>For Binaural, this field shall be set to 1.</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="channel_audio_layer_config">channel_audio_layer_config()</dfn> is a class that provides the information regarding the configuration of ChannelGroup for scalable channel audio. channel_audio_layer_config(i) provides information regarding the configuration of ChannelGroup #i.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="loudspeaker_layout">loudspeaker_layout</dfn> indicates the channel layout for the channels to be reconstructed from the precedent ChannelGroups and the current ChannelGroup among ChannelGroups for scalable channel audio.</p>
   <p>In the current version of the specification, <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout②">loudspeaker_layout</a> indicates one of 10 channel layouts including Mono, Stereo, 5.1ch, 5.1.2ch, 5.1.4ch, 7.1ch, 7.1.2ch, 7.1.4ch, 3.1.2ch and Binaural. Where,</p>
   <ul>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="stereo">Stereo<a class="self-link" href="#stereo"></a></dfn> is the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a0">Loudspeaker configuration for Sound System A (0+2+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="51ch">5.1ch<a class="self-link" href="#51ch"></a></dfn> is the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a1">Loudspeaker configuration for Sound System B (0+5+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="512ch">5.1.2ch<a class="self-link" href="#512ch"></a></dfn> is the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a2">Loudspeaker configuration for Sound System C (2+5+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="514ch">5.1.4ch<a class="self-link" href="#514ch"></a></dfn> is the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a3">Loudspeaker configuration for Sound System D (4+5+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="71ch">7.1ch<a class="self-link" href="#71ch"></a></dfn> is the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a4">Loudspeaker configuration for Sound System I (0+7+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="712ch">7.1.2ch<a class="self-link" href="#712ch"></a></dfn> is the combination of the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a5">Loudspeaker configuration for Sound System I (0+7+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a> and the left and right top front pair of the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a6">Loudspeaker configuration for Sound System J (4+7+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="714ch">7.1.4ch</dfn> is the loudspeaker configuration as depicted in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a7">Loudspeaker configuration for Sound System J (4+7+0)</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="312ch">3.1.2ch<a class="self-link" href="#312ch"></a></dfn> is the front subset (L/C/R/Ltf/Rtf/LFE) of <a data-link-type="dfn" href="#714ch" id="ref-for-714ch">7.1.4ch</a>.</p>
   </ul>
<pre class="def">Loudspeaker Layout (4 bits) :  Channel Layout  : Loudspeaker Location Ordering
             0000           :       Mono       : C
             0001           :      Stereo      : L/R
             0010           :      5.1ch       : L/C/R/Ls/Rs/LFE
             0011           :     5.1.2ch      : L/C/R/Ls/Rs/Ltf/Rtf/LFE
             0100           :     5.1.4ch      : L/C/R/Ls/Rs/Ltf/Rtf/Ltr/Rtr/LFE
             0101           :      7.1ch       : L/C/R/Lss/Rss/Lrs/Rrs/LFE
             0110           :     7.1.2ch      : L/C/R/Lss/Rss/Lrs/Rrs/Ltf/Rtf/LFE
             0111           :     7.1.4ch      : L/C/R/Lss/Rss/Lrs/Rrs/Ltf/Rtf/Ltb/Rtb/LFE
             1000           :     3.1.2ch      : L/C/R//Ltf/Rtf/LFE
             1001           :     Binaural     : L/R
            others          :     reserved     :
</pre>
<pre>Where, C: Center, L: Left, R: Right, Ls: Left Surround, Lss: Left Side Surround, 
Rs: Right Surround, Rss: Right Side Surround, 
Ltf: Left Top Front, Rtf: Right Top Front, Ltr: Left Top Rear, Rtr: Right Top Rear, 
Ltb: Left Top Back, Rtb: Right Top Back, LFE: Low-Frequency Effects
</pre>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="output_gain_is_present_flag">output_gain_is_present_flag</dfn> indicates if output_gain information fields for the ChannelGroup presents .</p>
   <ul>
    <li data-md>
     <p>0: No output_gain information fields for the ChannelGroup shall be present.</p>
    <li data-md>
     <p>1: output_gain information fields for the ChannelGroup present. In this case, output_gain_flags and output_gain fields shall be present.</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="recon_gain_is_present_flag">recon_gain_is_present_flag</dfn> indicates if recon_gain information fields for the ChannelGroup presents in recon_gain_info_parameter_data().</p>
   <ul>
    <li data-md>
     <p>0: No recon_gain information fields for the ChannelGroup shall be present in recon_gain_info_parameter_data().</p>
    <li data-md>
     <p>1: recon_gain information fields for the ChannelGroup present in recon_gain_info_parameter_data(). In this case, recon_gain_flags and recon_gain fields shall be present.</p>
   </ul>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="substream_count">substream_count</dfn> specifies the number of audio substreams. It must be the same as <a data-link-type="dfn" href="#num_substreams" id="ref-for-num_substreams">num_substreams</a> in its corresponding audio_element().</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="coupled_substream_count">coupled_substream_count</dfn> specifies the number of referenced substreams that are coded as coupled stereo channels.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="output_gain_flags">output_gain_flags</dfn> indicates the channels which output_gain is applied to. If a bit set to 1, output_gain shall be applied to the channel. Otherwise, output_gain shall not be applied to the channel.</p>
<pre class="def">Bit position : Channel Name
    b5(MSB)  : Left channel (L1, L2, L3)
      b4     : Right channel (R2, R3)
      b3     : Left Surround channel (Ls5)
      b2     : Right Surround channel (Rs5)
      b1     : Left Top Front channel (Ltf)
      b0     : Right Top Front channel (Rtf)

</pre>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="output_gain">output_gain</dfn> indicates the gain value to be applied to the mixed channels which are indicated by output_gain_flags. It is 20*log10 of the factor by which to scale the mixed channels. It is stored in a 16-bit, signed, two’s complement fixed-point value with 8 fractional bits (i.e. Q7.8 in <a data-link-type="biblio" href="#biblio-q-format" title="Q (number format)">[Q-Format]</a>). Where, each mixed channel is generated by downmixing two or more input channels.</p>
   <h4 class="heading settled" data-level="3.7.3" id="syntax-ambisonics-config"><span class="secno">3.7.3. </span><span class="content">Ambisonics Config Syntax and Semantics</span><a class="self-link" href="#syntax-ambisonics-config"></a></h4>
   <p><a data-link-type="dfn" href="#ambisonics_config" id="ref-for-ambisonics_config">ambisonics_config()</a> contains information regarding the configuration of Ambisonics. In this specification, the <a data-link-type="biblio" href="#biblio-ambix" title="AMBIX - A SUGGESTED AMBISONICS FORMAT">[AmbiX]</a> format is adopted, which uses Ambisonics Channel Number (ACN) channel ordering and normalizes the channels with Schmidt Semi-Normalization (SN3D).</p>
   <p><b>Syntax</b></p>
<pre>class ambisonics_config() {
  leb128() ambisonics_mode;
  if (ambisonics_mode == MONO) {
    ambisonics_mono_config();
  } else if (ambisonics_mode == PROJECTION) {
    ambisonics_projection_config();
  }
}

class ambisonics_mono_config() {
  unsigned int (8) output_channel_count (C);
  unsigned int (8) substream_count (N);
  unsigned int (8 * C) channel_mapping;
}

class ambisonics_projection_config() {
  unsigned int (8) output_channel_count (C);
  unsigned int (8) substream_count (N);
  unsigned int (8) coupled_substream_count (M);
  unsigned int (16 * (N + M) * C) demixing_matrix;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ambisonics_mode">ambisonics_mode</dfn> specifies the method of coding Ambisonics.</p>
<pre class="def">ambisonics_mode: Method of coding Ambisonics.
   0    : MONO
   1    : PROJECTION
</pre>
   <p>If ambisonics_mode is equal to MONO, this indicates that the Ambisonics channels are coded as individual mono substreams. For IAMF-LPCM, <a data-link-type="dfn" href="#ambisonics_mode" id="ref-for-ambisonics_mode">ambisonics_mode</a> shall be equal to MONO.</p>
   <p>If ambisonics_mode is equal to PROJECTION, this indicates that the Ambisonics channels are first linearly projected onto another subspace before coding as a mix of coupled stereo and mono substreams.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="output_channel_count">output_channel_count</dfn> complies with <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8486#" id="76d5a13e0">channel count</a> in <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a> with following restrictions:</p>
   <ul>
    <li data-md>
     <p>The allowed numbers of <a data-link-type="dfn" href="#output_channel_count" id="ref-for-output_channel_count">output_channel_count</a> are (1+n)^2, where n = 0, 1, 2, ..., 14.</p>
    <li data-md>
     <p>In other words, the scene-based audio element shall not include non-diegetic channels.</p>
   </ul>
   <p><a data-link-type="dfn" href="#substream_count" id="ref-for-substream_count">substream_count</a> specifies the number of audio substreams. It must be the same as <a data-link-type="dfn" href="#num_substreams" id="ref-for-num_substreams①">num_substreams</a> in its corresponding audio_element().</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="channel_mapping">channel_mapping</dfn> complies with the one for <a data-link-type="dfn" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408280①">ChannelMappingFamily</a> = 2 in <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a>.</p>
   <p><a data-link-type="dfn" href="#coupled_substream_count" id="ref-for-coupled_substream_count">coupled_substream_count</a> specifies the number of referenced substreams that are coded as coupled stereo channels, where M &lt;= N.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="demixing_matrix">demixing_matrix</dfn> complies with the one for <a data-link-type="dfn" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408281">ChannelMappingFamily</a> = 3 in <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a> except the byte order of each of matrix coefficients is converted to big endian.</p>
   <h3 class="heading settled" data-level="3.8" id="obu-mixpresentation"><span class="secno">3.8. </span><span class="content">Mix Presentation OBU Syntax and Semantics</span><a class="self-link" href="#obu-mixpresentation"></a></h3>
   <p>This section specifies the OBU payload of OBU_IA_Mix_Presentation.</p>
   <p>The metadata in mix_presentation() specifies how to render, process and mix one or more audio elements, with details provided in <a href="#processing-mixpresentation">§ 8.3 Mix Presentation</a>.</p>
   <p>An IA sequence may have one or more mix presentations specified. The IA parser shall select the appropriate mix presentation to process according to the rules specified in <a href="#processing-mixpresentation-selection">§ 8.3.1 Selecting a Mix Presentation</a>.</p>
   <p>A mix presentation may contain one or more sub-mixes. Common use-cases may specify only one sub-mix, which includes all rendered and processed audio elements used in the mix presentation. The use-case for specifying more than one sub-mix arises if an IA multiplexer is merging two or more IA sequences. In this case, it may choose to capture the loudness information from the original IA sequences in multiple sub-mixes, instead of recomputing the loudness information for the final mix.</p>
   <p><b>Syntax</b></p>
<pre>class mix_presentation_obu() {
  leb128() mix_presentation_id;
  mix_presentation_annotations();

  leb128() num_sub_mixes;
  for (i = 0; i &lt; num_sub_mixes; i++) {	  
    leb128() num_audio_elements;
    for (j = 0; j &lt; num_audio_elements; j++) {
      leb128() audio_element_id;
      mix_presentation_element_annotations();
      rendering_config();
      element_mix_config();
    }
    output_mix_config();
    
    leb128() num_layouts;
    for (j = 0; j &lt; num_layouts; j++) {
      layout loudness_layout;
      loudness_info loudness; 
    }
  }
}  
</pre>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="mix_presentation_id">mix_presentation_id<a class="self-link" href="#mix_presentation_id"></a></dfn> indicates an unique obu_id with <a data-link-type="dfn" href="#obu_type" id="ref-for-obu_type②">obu_type</a> = OBU_IA_Mix_Presentation in IA sequences for a given mix presentation.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="mix_presentation_annotations">mix_presentation_annotations()<a class="self-link" href="#mix_presentation_annotations"></a></dfn> is a class that provides informational metadata that an IA parser should refer to when selecting the mix presentation to use. The metadata may also be used by the playback system to display information to the user, but is not used in the rendering or mixing process to generate the final output audio signal.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_sub_mixes">num_sub_mixes</dfn> specifies the number of sub-mixes.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_audio_elements">num_audio_elements</dfn> specifies the number of audio elements that are used in this mix presentation to generate the final output audio signal for playback.</p>
   <p><dfn class="css" data-dfn-for="mix_presentation_obu()" data-dfn-type="value" data-noexport id="valdef-mix_presentation_obu-audio_element_id">audio_element_id<a class="self-link" href="#valdef-mix_presentation_obu-audio_element_id"></a></dfn> indicates the obu_id associated with a specific audio element that is used in this mix presentation.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="rendering_config">rendering_config()</dfn> is a class that provides the metadata required for rendering the referenced audio element.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="element_mix_config">element_mix_config()</dfn> is a class that provides the metadata required for applying any processing to the referenced and rendered audio element before being summed with other processed audio elements.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="output_mix_config">output_mix_config()</dfn> is a class that provides the metadata required for post-processing the mixed audio signal to generate the audio signal for playback.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="num_layouts">num_layouts</dfn> specifies the number of layouts for this sub-mix which the loudness informations were measured on.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="loudness_layout">loudness_layout</dfn> identifies the layout that was used to measure the loudness information provided in this sub-mix.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="loudness">loudness</dfn> provides the loudness information which was measured on <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout">loudness_layout</a> for the mixed audio elements by this sub-mix.</p>
   <p>The layout specified in <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①">loudness_layout</a> should not be higher than the highest layout among layouts provided by the audio elements. In other words, rendering from an audio element with the highest layout to the <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout②">loudness_layout</a> should not require an upmix.</p>
   <p>If one sub-mix of Mix Presentation OBU includes only one single scalable channel audio, then it complies with as follows:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_layouts" id="ref-for-num_layouts">num_layouts</a> shall be greater than or equal to <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①">num_layers</a> specified in <a data-link-type="dfn" href="#scalable_channel_layout_config" id="ref-for-scalable_channel_layout_config①">scalable_channel_layout_config()</a> of Audio Element OBU for the <a data-link-type="dfn" href="#audio_element_id" id="ref-for-audio_element_id">audio_element_id</a>.</p>
    <li data-md>
     <p>The set of <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout③">loudness_layout</a>s shall include all of <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout③">loudspeaker_layout</a>s specified in the <a data-link-type="dfn" href="#channel_audio_layer_config" id="ref-for-channel_audio_layer_config">channel_audio_layer_config()</a>s of Audio Element OBU for the <a data-link-type="dfn" href="#audio_element_id" id="ref-for-audio_element_id①">audio_element_id</a>.</p>
   </ul>
   <p>The highest <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout④">loudness_layout</a> specified in one sub-mix is the layout which was used for authoring the sub-mix.</p>
   <p>Each sub-mix shall include <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout⑤">loudness_layout</a> to identify <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a0①">Loudspeaker configuration for Sound System A (0+2+0)</a> (i.e. Stereo). In other words, each sub-mix shall include loudness_info() for Stereo.</p>
   <h4 class="heading settled" data-level="3.8.1" id="obu-mixpresentation-annotation"><span class="secno">3.8.1. </span><span class="content">Mix Presentation Annotations Syntax and Semantics</span><a class="self-link" href="#obu-mixpresentation-annotation"></a></h4>
   <p><b>Syntax</b></p>
<pre>class mix_presentation_annotations() {
  string mix_presentation_friendly_label;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="mix_presentation_friendly_label">mix_presentation_friendly_label</dfn> specifies a human-friendly label to describe this mix presentation.</p>
   <h4 class="heading settled" data-level="3.8.2" id="obu-mixpresentation-elementannotation"><span class="secno">3.8.2. </span><span class="content">Mix Presentation Element Annotations Syntax and Semantics</span><a class="self-link" href="#obu-mixpresentation-elementannotation"></a></h4>
   <p><b>Syntax</b></p>
<pre>class mix_presentation_element_annotations() {
  string audio_element_friendly_label;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="audio_element_friendly_label">audio_element_friendly_label<a class="self-link" href="#audio_element_friendly_label"></a></dfn> specifies a human-friendly label to describe the referenced audio element.</p>
   <h4 class="heading settled" data-level="3.8.3" id="syntax-rendering-config"><span class="secno">3.8.3. </span><span class="content">Rendering Config Syntax and Semantics</span><a class="self-link" href="#syntax-rendering-config"></a></h4>
   <p>During playback, an audio element should be rendered using a pre-defined renderer according to <a href="#processing-mixpresentation-rendering">§ 8.3.2 Rendering an Audio Element</a>. In this version of the specification, no additional metadata is required to configure the renderers, and as such, <code>rendering_config()</code> has an empty payload.</p>
   <p><b>Syntax</b></p>
<pre>class rendering_config() {
}
</pre>
   <p><b>Semantics</b></p>
   <h4 class="heading settled" data-level="3.8.4" id="syntax-element-mix-config"><span class="secno">3.8.4. </span><span class="content">Element Mix Config Syntax and Semantics</span><a class="self-link" href="#syntax-element-mix-config"></a></h4>
   <p><a data-link-type="dfn" href="#element_mix_config" id="ref-for-element_mix_config">element_mix_config()</a> provides a gain value to be applied to the rendered audio element signal.</p>
   <p><b>Syntax</b></p>
<pre>class element_mix_config() {
  MixGainParamDefinition mix_gain;
}
</pre>
<pre>class MixGainParamDefinition() extends ParamDefinition() {
  signed int (16) default_mix_gain;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="mix_gain">mix_gain</dfn> provides the parameter definition for the gain value that is applied to all channels of the rendered audio element signal. The parameter definition is provided by MixGainParamDefinition() and the corresponding parameter data to be provided in parameter blocks is specified in mix_gain_parameter_data().</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="default_mix_gain">default_mix_gain<a class="self-link" href="#default_mix_gain"></a></dfn> specifies the default mix gain value to apply when there are no mix gain parameter blocks provided. This value is expressed in dB and shall be applied to all channels in the rendered audio element. It is stored as a 16-bit, signed, two’s complement fixed-point value with 8 fractional bits (i.e. Q7.8 in <a data-link-type="biblio" href="#biblio-q-format" title="Q (number format)">[Q-Format]</a>).</p>
   <h4 class="heading settled" data-level="3.8.5" id="obu-mixpresentation-outputmix"><span class="secno">3.8.5. </span><span class="content">Output Mix Config Syntax and Semantics</span><a class="self-link" href="#obu-mixpresentation-outputmix"></a></h4>
   <p>output_mix_config() provides a gain value to be applied to the mixed audio signal.</p>
   <p><b>Syntax</b></p>
<pre>class output_mix_config() {
  MixGainParamDefinition output_mix_gain;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="output_mix_gain">output_mix_gain</dfn> provides the parameter definition for the gain value that is applied to all channels of the mixed audio signal. The parameter definition is provided by MixGainParamDefinition() and the corresponding parameter data to be provided in parameter blocks is specified in mix_gain_parameter_data().</p>
   <h4 class="heading settled" data-level="3.8.6" id="syntax-layout"><span class="secno">3.8.6. </span><span class="content">Layout Syntax and Semantics</span><a class="self-link" href="#syntax-layout"></a></h4>
   <p>The layout class specifies either a binaural system or the list of physical loudspeaker positions according to <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
   <p><b>Syntax</b></p>
<pre>class layout() {
  unsigned int (2) layout_type;
  
  if (layout_type == LOUDSPEAKERS_SP_LABEL) {
    unsigned int (6) num_loudspeakers;
    for (i = 0; i &lt; num_loudspeakers; i++) {
      unsigned int (8) sp_label;
    }
  } 
  else if (layout_type == LOUDSPEAKERS_SS_CONVENTION) {
    unsigned int (4) sound_system;
    unsigned int (2) reserved;
  }
  else if (layout_type == BINAURAL or NOT_DEFINED) {
    unsigned int (6) reserved;
  }
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="layout_type">layout_type<a class="self-link" href="#layout_type"></a></dfn> specifies the layout type.</p>
<pre class="def">layout_type : Layout type
     0      : NOT_DEFINED
     1      : LOUDSPEAKERS_SP_LABEL
     2      : LOUDSPEAKERS_SS_CONVENTION
     3      : BINAURAL
</pre>
   <ul>
    <li data-md>
     <p>A value of 0 indicates no specific layout.</p>
    <li data-md>
     <p>A value of 1 indicates that the layout is defined using the <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a0②">SP Label</a> of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p>A value of 2 indicates that the layout is defined using the sound system convention of <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
    <li data-md>
     <p>A value of 3 indicates that the layout is binaural.</p>
   </ul>
   <p><dfn data-dfn-type="dfn" data-noexport id="num_loudspeakers">num_loudspeakers<a class="self-link" href="#num_loudspeakers"></a></dfn> specifies the number of loudspeakers.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="sp_label">sp_label<a class="self-link" href="#sp_label"></a></dfn> defines the <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a1①">SP Label</a> as specified in <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>.</p>
   <table class="def">
    <tbody>
     <tr>
      <th>sp_label
      <th>SP label
      <th class="col_border">sp_label
      <th>SP label
      <th class="col_border">sp_label
      <th>SP label
     <tr>
      <td>0
      <td>M+000
      <td class="col_border">18
      <td>U+000
      <td class="col_border">36
      <td>B+000
     <tr>
      <td>1
      <td>M+022
      <td class="col_border">19
      <td>U+022
      <td class="col_border">37
      <td>B+022
     <tr>
      <td>2
      <td>M-022
      <td class="col_border">20
      <td>U-022
      <td class="col_border">38
      <td>B-022
     <tr>
      <td>3
      <td>M+SC
      <td class="col_border">21
      <td>U+030
      <td class="col_border">39
      <td>B+030
     <tr>
      <td>4
      <td>M-SC
      <td class="col_border">22
      <td>U-030
      <td class="col_border">40
      <td>B-030
     <tr>
      <td>5
      <td>M+030
      <td class="col_border">23
      <td>U+045
      <td class="col_border">41
      <td>B+045
     <tr>
      <td>6
      <td>M-030
      <td class="col_border">24
      <td>U-045
      <td class="col_border">42
      <td>B-045
     <tr>
      <td>7
      <td>M+045
      <td class="col_border">25
      <td>U+060
      <td class="col_border">43
      <td>B+060
     <tr>
      <td>8
      <td>M-045
      <td class="col_border">26
      <td>U-060
      <td class="col_border">44
      <td>B-060
     <tr>
      <td>9
      <td>M+060
      <td class="col_border">27
      <td>U+090
      <td class="col_border">45
      <td>B+090
     <tr>
      <td>10
      <td>M-060
      <td class="col_border">28
      <td>U-090
      <td class="col_border">46
      <td>B-090
     <tr>
      <td>11
      <td>M+090
      <td class="col_border">29
      <td>U+110
      <td class="col_border">47
      <td>B+110
     <tr>
      <td>12
      <td>M-090
      <td class="col_border">30
      <td>U-110
      <td class="col_border">48
      <td>B-110
     <tr>
      <td>13
      <td>M+110
      <td class="col_border">31
      <td>U+135
      <td class="col_border">49
      <td>B+135
     <tr>
      <td>14
      <td>M-110
      <td class="col_border">32
      <td>U-135
      <td class="col_border">50
      <td>B-135
     <tr>
      <td>15
      <td>M+135
      <td class="col_border">33
      <td>U+180
      <td class="col_border">51
      <td>B+180
     <tr>
      <td>16
      <td>M-135
      <td class="col_border">34
      <td>UH+180
      <td class="col_border">52
      <td>LFE1
     <tr>
      <td>17
      <td>M+180
      <td class="col_border">35
      <td>T+000
      <td class="col_border">53
      <td>LFE2
     <tr>
      <td>
      <td>
      <td class="col_border">
      <td>
      <td class="col_border">54 ~ 256
      <td>Reserved
   </table>
   <p><dfn data-dfn-type="dfn" data-noexport id="sound_system">sound_system<a class="self-link" href="#sound_system"></a></dfn> specifies the sound system A to J as specified in <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>, 7.1.2ch and 3.1.2ch of <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout④">loudspeaker_layout</a> as follows:</p>
   <ul>
    <li data-md>
     <p>0: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a2①">Loudspeaker configuration for Sound System A (0+2+0)</a></p>
    <li data-md>
     <p>1: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a3①">Loudspeaker configuration for Sound System B (0+5+0)</a></p>
    <li data-md>
     <p>2: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a4①">Loudspeaker configuration for Sound System C (2+5+0)</a></p>
    <li data-md>
     <p>3: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a5①">Loudspeaker configuration for Sound System D (4+5+0)</a></p>
    <li data-md>
     <p>4: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a6①">Loudspeaker configuration for Sound System E (4+5+1)</a></p>
    <li data-md>
     <p>5: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a7①">Loudspeaker configuration for Sound System F (3+7+0)</a></p>
    <li data-md>
     <p>6: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a8">Loudspeaker configuration for Sound System G (4+9+0)</a></p>
    <li data-md>
     <p>7: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a9">Loudspeaker configuration for Sound System H (9+10+3)</a></p>
    <li data-md>
     <p>8: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a10">Loudspeaker configuration for Sound System I (0+7+0)</a></p>
    <li data-md>
     <p>9: It indicates <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#" id="dc50a12a11">Loudspeaker configuration for Sound System J (4+7+0)</a></p>
    <li data-md>
     <p>10: It indicates the same loudspeaker configuration as <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout⑤">loudspeaker_layout</a> = 0110 (i.e. 7.1.2ch)</p>
    <li data-md>
     <p>11: It indicates the same loudspeaker configuration as <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout⑥">loudspeaker_layout</a> = 1000 (i.e. 3.1.2ch)</p>
    <li data-md>
     <p>12 ~ 15: Reserved</p>
   </ul>
   <h4 class="heading settled" data-level="3.8.7" id="obu-mixpresentation-loudness"><span class="secno">3.8.7. </span><span class="content">Loudness Info Syntax and Semantics</span><a class="self-link" href="#obu-mixpresentation-loudness"></a></h4>
   <p>loudness_info() provides loudness information for a given audio signal.</p>
   <p>All signed values are stored as signed Q7.8 fixed-point values (in <a data-link-type="biblio" href="#biblio-q-format" title="Q (number format)">[Q-Format]</a>).</p>
   <p><b>Syntax</b></p>
<pre>class loudness_info() {
  unsigned int (8) info_type;
  signed int (16) integrated_loudness;
  signed int (16) digital_peak;

  if (info_type &amp; 1) {
    signed int (16) true_peak;
  }
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="info_type">info_type<a class="self-link" href="#info_type"></a></dfn> is a bitmask that specifies the type of optional loudness information provided. The bits are set as follows, where the first bit is the LSB:</p>
<pre class="def">Bit : Type of information provided
 0  : True peak
1~7 : Reserved
</pre>
   <p><dfn data-dfn-type="dfn" data-noexport id="integrated_loudness">integrated_loudness<a class="self-link" href="#integrated_loudness"></a></dfn> provides the integrated loudness information, specified in <a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf#" id="006211a60">LKFS</a> as defined in <a data-link-type="biblio" href="#biblio-itu1770-4" title="Algorithms to measure audio programme loudness and true-peak audio level">[ITU1770-4]</a>, and measured according to <a data-link-type="biblio" href="#biblio-itu1770-4" title="Algorithms to measure audio programme loudness and true-peak audio level">[ITU1770-4]</a>.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="digital_peak">digital_peak<a class="self-link" href="#digital_peak"></a></dfn> specifies the digital (sampled) peak value of the audio signal, specified in dBFS.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="true_peak">true_peak<a class="self-link" href="#true_peak"></a></dfn> specifies the true peak of the audio signal, specified in dBFS and measured according to <a data-link-type="biblio" href="#biblio-itu1770-4" title="Algorithms to measure audio programme loudness and true-peak audio level">[ITU1770-4]</a>.</p>
   <p class="note" role="note"><span class="marker">NOTE:</span> <a data-link-type="biblio" href="#biblio-itu1770-4" title="Algorithms to measure audio programme loudness and true-peak audio level">[ITU1770-4]</a> adopts the convention of using the dBov unit for dBFS, where the RMS value of a full-scale square wave is 0 dBov. The same convention is adopted here.</p>
   <h3 class="heading settled" data-level="3.9" id="obu-parameterblock"><span class="secno">3.9. </span><span class="content">Parameter Block OBU Syntax and Semantics</span><a class="self-link" href="#obu-parameterblock"></a></h3>
   <p>This section specifies the OBU payload of OBU_IA_Parameter_Block.</p>
   <p>The metadata specified in this OBU defines the parameter values for an algorithm for an indicated duration, including any animation of the parameter values over this duration. The metadata are used in conjunction with a corresponding parameter definition and parameter data specification. The parameter definition is specified based on <a data-link-type="dfn" href="#paramdefinition" id="ref-for-paramdefinition">ParamDefinition()</a>. The parameter data provides the values to apply in each parameter block. These are specified using the <a data-link-type="dfn" href="#animatedparameterdata" id="ref-for-animatedparameterdata">AnimatedParameterData()</a> function template if parameter animation is supported.</p>
   <p><b>Syntax</b></p>
<pre>class parameter_block_obu() {
  leb128() parameter_id;
  
  (param_definition_type, param_definition_mode, duration, num_subblocks, constant_subblock_duration, subblock_duration) = get_param_definition(parameter_id);
  
  if (param_definition_mode) {
    leb128() duration;
    leb128() num_subblocks;
    leb128() constant_subblock_duration;
  }

  for (i = 0; i &lt; num_subblocks; i++) {
    if (param_definition_mode) {
      if (constant_subblock_duration == 0) {
        leb128() subblock_duration;
      }
    }

    if (param_definition_type == PARAMETER_DEFINITION_MIX_GAIN) {
      mix_gain_parameter_data();
    }
    if (param_definition_type == PARAMETER_DEFINITION_DEMIXING) {
      demixing_info_parameter_data();
    }
    if (param_definition_type == PARAMETER_DEFINITION_RECON_GAIN) {
      recon_gain_info_parameter_data();
    }
  }
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parameter_id">parameter_id</dfn> indicates an unique obu_id with <a data-link-type="dfn" href="#obu_type" id="ref-for-obu_type③">obu_type</a> = OBU_IA_Parameter_Block that is associated with a specific parameter definition. All parameter blocks that provide data for that parameter definition shall have the same parameter_id.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="get_param_definition">get_param_definition()<a class="self-link" href="#get_param_definition"></a></dfn> is a run-time function to get the parameter definition type, the parameter definition mode, duration, num_subblocks, constant_subblock_duration and subblock_duration mapped to the parameter_id.</p>
   <p><dfn class="css" data-dfn-for="parameter_block_obu()" data-dfn-type="value" data-noexport id="valdef-parameter_block_obu-duration">duration<a class="self-link" href="#valdef-parameter_block_obu-duration"></a></dfn> specifies the duration for which this parameter block is valid and applicable.</p>
   <p><dfn class="css" data-dfn-for="parameter_block_obu()" data-dfn-type="value" data-noexport id="valdef-parameter_block_obu-num_subblocks">num_subblocks<a class="self-link" href="#valdef-parameter_block_obu-num_subblocks"></a></dfn> specifies the number of different sets of parameter values specified in this parameter block, where each set describes a different subblock of the timeline, contiguously.</p>
   <p><dfn class="css" data-dfn-for="parameter_block_obu()" data-dfn-type="value" data-noexport id="valdef-parameter_block_obu-constant_subblock_duration">constant_subblock_duration<a class="self-link" href="#valdef-parameter_block_obu-constant_subblock_duration"></a></dfn> specifies the duration of each subblock, in the case where all subblocks except the last subblock have equal durations. If all subblocks except the last subblock do not have equal durations, the value of constant_subblock_duration shall be set to 0.</p>
   <p>Audio Element OBU and/or Mix Presentation OBU is mapping a parameter_id to the parameter definition type. So, IA decoders can know the definition type mapped to the parameter_id.</p>
   <p><dfn class="css" data-dfn-for="parameter_block_obu()" data-dfn-type="value" data-noexport id="valdef-parameter_block_obu-subblock_duration">subblock_duration<a class="self-link" href="#valdef-parameter_block_obu-subblock_duration"></a></dfn> specifies the duration for the given subblock.</p>
   <p>Each value of duration, constant_subblock_duration and subblock_duration shall be expressed as the number of ticks at the <a data-link-type="dfn" href="#parameter_rate" id="ref-for-parameter_rate①">parameter_rate</a> specified in the corresponding parameter definition.</p>
   <h4 class="heading settled" data-level="3.9.1" id="syntax-mix-gain-param"><span class="secno">3.9.1. </span><span class="content">Mix Gain Parameter Data Syntax and Semantics</span><a class="self-link" href="#syntax-mix-gain-param"></a></h4>
   <p><b>Syntax</b></p>
<pre>class mix_gain_parameter_data() {
  leb128() animation_type;
  AnimatedParameterData&lt;signed int (16)> param_data;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="animation_type">animation_type</dfn> specifies the type of animation applied to the parameter values.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="param_data">param_data<a class="self-link" href="#param_data"></a></dfn> uses the AnimatedParameterData function template. Each of the values defined within this instance (start_point_value, end_point_value and control_point_value) is expressed in dB and shall be applied to all channels in the rendered audio element. They are stored as 16-bit, signed, two’s complement fixed-point values with 8 fractional bits (i.e. Q7.8 in <a data-link-type="biblio" href="#biblio-q-format" title="Q (number format)">[Q-Format]</a>).</p>
<pre class="def">animation_type : Animation Type
       0       : STEP
       1       : LINEAR
       2       : BEZIER
</pre>
   <p>Classes that take <a data-link-type="dfn" href="#animation_type" id="ref-for-animation_type">animation_type</a> as an input argument use the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="animatedparameterdata">AnimatedParameterData()</dfn> function template. The method of applying the animation is described in <a href="#processing-animated-params">§ 8.4 Animated Parameters</a>.</p>
<pre>template &lt;class T>
class AnimatedParameterData(animation_type) {
  if (animation_type == STEP) {
    T start_point_value;
  }
  if (animation_type == LINEAR) {
    T start_point_value;
    T end_point_value;
  }
  if (animation_type == BEZIER) {
    T start_point_value;
    T end_point_value;
    T control_point_value;
    unsigned int (8) control_point_relative_time;
  }
}
</pre>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="start_point_value">start_point_value</dfn> specifies the parameter value that is applied at the start of the subblock.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="end_point_value">end_point_value</dfn> specifies the parameter value that is applied at the end of the subblock.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="control_point_value">control_point_value<a class="self-link" href="#control_point_value"></a></dfn> specifies the parameter value of the middle control point of a quadratic Bezier curve, i.e. its y-axis value.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="control_point_relative_time">control_point_relative_time<a class="self-link" href="#control_point_relative_time"></a></dfn> specifies the time of the middle control point of a quadratic Bezier curve, i.e. its x-axis value. This value is expressed as a fraction of the parameter subblock duration with valid values in the range of 0 and 1, inclusively. A value equal to 0 or 1 indicates that this animation implements a linear Bezier curve, in which case control_point_value shall be ignored by the IA parser. It is stored as an 8-bit, unsigned, fixed-point value with 8 fractional bits (i.e. Q0.8 in <a data-link-type="biblio" href="#biblio-q-format" title="Q (number format)">[Q-Format]</a>).</p>
   <h4 class="heading settled" data-level="3.9.2" id="syntax-demixing-info"><span class="secno">3.9.2. </span><span class="content">Demixing Info Parameter Data Syntax and Semantics</span><a class="self-link" href="#syntax-demixing-info"></a></h4>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="demixing_info_parameter_data">demixing_info_parameter_data()</dfn> specifies demixing parameter mode to be used to reconstruct output channel audio according to its <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout⑦">loudspeaker_layout</a>.</p>
   <p><b>Syntax</b></p>
<pre>class demixing_info_parameter_data() {
  unsigned int (3) dmixp_mode;
  unsigned int (5) reserved;
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dmixp_mode">dmixp_mode</dfn> indicates a mode of pre-defined combinations of five demix parameters.</p>
   <ul>
    <li data-md>
     <p>0: mode1, (alpha, beta, gamma, delta, w_idx_offset) = (1, 1, 0.707, 0.707, -1)</p>
    <li data-md>
     <p>1: mode2, (alpha, beta, gamma, delta, w_idx_offset) = (0.707, 0.707, 0.707, 0.707, -1)</p>
    <li data-md>
     <p>2: mode3, (alpha, beta, gamma, delta, w_idx_offset) = (1, 0.866, 0.866, 0.866, -1)</p>
    <li data-md>
     <p>3: reserved</p>
    <li data-md>
     <p>4: mode1, (alpha, beta, gamma, delta, w_idx_offset) = (1, 1, 0.707, 0.707, 1)</p>
    <li data-md>
     <p>5: mode2, (alpha, beta, gamma, delta, w_idx_offset) = (0.707, 0.707, 0.707, 0.707, 1)</p>
    <li data-md>
     <p>6: mode3, (alpha, beta, gamma, delta, w_idx_offset) = (1, 0.866, 0.866, 0.866, 1)</p>
    <li data-md>
     <p>7: reserved</p>
   </ul>
   <p><dfn data-dfn-type="dfn" data-noexport id="alpha">alpha<a class="self-link" href="#alpha"></a></dfn> and <dfn data-dfn-type="dfn" data-noexport id="beta">beta<a class="self-link" href="#beta"></a></dfn> are gain values used for S7to5 down-mixer, <dfn data-dfn-type="dfn" data-noexport id="gamma">gamma<a class="self-link" href="#gamma"></a></dfn> for T4to2 down-mixer, <dfn data-dfn-type="dfn" data-noexport id="delta">delta<a class="self-link" href="#delta"></a></dfn> for S5to3 down-mixer and <dfn data-dfn-type="dfn" data-noexport id="w_idx_offset">w_idx_offset<a class="self-link" href="#w_idx_offset"></a></dfn> is the offset to generate a gain value <dfn data-dfn-type="dfn" data-noexport id="w">w<a class="self-link" href="#w"></a></dfn> used for T2toTF2 down-mixer.</p>
   <center><img height="373" src="images/Down-mix Mechanism.png" style="width:100%; height:auto;" width="800"></center>
   <center>
    <figcaption>IA Down-mix Mechanism</figcaption>
   </center>
   <h4 class="heading settled" data-level="3.9.3" id="syntax-recon-gain-info"><span class="secno">3.9.3. </span><span class="content">Recon Gain Info Parameter Data Syntax and Semantics</span><a class="self-link" href="#syntax-recon-gain-info"></a></h4>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="recon_gain_info_parameter_data">recon_gain_info_parameter_data()</dfn> contains recon gain values for demixed channels.</p>
   <p class="note" role="note"><span class="marker">NOTE:</span> <a data-link-type="dfn" href="#recon_gain_info_parameter_data" id="ref-for-recon_gain_info_parameter_data">recon_gain_info_parameter_data()</a> is required to compensate the propagated errors by De-mixer and Gain modules specified in <a href="#processing-scalablechannelaudio-demixer">§ 8.2.2 De-mixer</a> and <a href="#processing-scalablechannelaudio-gain">§ 8.2.1 Gain</a> due to the error caused by lossy codecs such as IAMF-OPUS and IAMF-AAC-LC. However, it is not required for lossless codecs such as IAMF-FLAC and IAMF-LPCM because the propagated errors are negligible.</p>
   <p><b>Syntax</b></p>
<pre>class recon_gain_info_parameter_data() {
  for (i=0; i&lt; num_layers; i++) {
    if (recon_gain_is_present_flag(i) == 1) {
      leb128() recon_gain_flags(i);
      for (j=0; j&lt; n(i); j++) {
        if (recon_gain_flag(i)(j) == 1)
          unsigned int (8) recon_gain;
      }
    }
  }
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="recon_gain_flags">recon_gain_flags</dfn> indicates the channels which recon_gain is applied to.</p>
   <left><img height="94" src="images/Recon_Gain_Flags.png" style="width:100%; height:auto;" width="800"></left>
   <center>
    <figcaption>Table for Recon Gain Flags</figcaption>
   </center>
   <p>The each bit of <a data-link-type="dfn" href="#recon_gain_flags" id="ref-for-recon_gain_flags">recon_gain_flags</a> indicates the presence of <a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain">recon_gain</a> applied to the channel as depicted in the above figure.</p>
   <ul>
    <li data-md>
     <p>0: It indicates that no <a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain①">recon_gain</a> presents for the channel.</p>
    <li data-md>
     <p>1: It indicates that <a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain②">recon_gain</a> presents for the channel.</p>
   </ul>
   <p><dfn data-dfn-type="dfn" data-noexport id="n-i">n(i)<a class="self-link" href="#n-i"></a></dfn> indicates the number of bits for recon_gain_flag(i). It shall be 7 or 12 as depicted in the above figure. Where, i = 0, 1, ..., <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②">num_layers</a> - 1.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="recon_gain">recon_gain</dfn> indicates the gain value to be applied to the channel, which is indicated by <a data-link-type="dfn" href="#recon_gain_flags" id="ref-for-recon_gain_flags①">recon_gain_flags</a>, after decoding of the associated frames and demixing operation. Where, the channel is indicated by recon_gain_flags. Detailed operation by using this value is specified in <a href="#processing-scalablechannelaudio-recongain">§ 8.2.3 Recon Gain</a>.</p>
   <h3 class="heading settled" data-level="3.10" id="obu-audioframe"><span class="secno">3.10. </span><span class="content">Audio Frame OBU Syntax and Semantics</span><a class="self-link" href="#obu-audioframe"></a></h3>
   <p>This section specifies OBU payloads of OBU_IA_Audio_Frame and OBU_IA_Audio_Frame_ID0 to OBU_IA_Audio_Frame_ID21.</p>
   <p>The first 22 audio substreams in an IA sequence may use the OBU types OBU_IA_Audio_Frame_ID0 to OBU_IA_Audio_Frame_ID21, which have predefined audio substream obu_ids associated with them. This avoids the need to manually specify an <a data-link-type="dfn" href="#audio_substream_id" id="ref-for-audio_substream_id">audio_substream_id</a>.</p>
   <p><a data-link-type="dfn" href="#audio_substream_id" id="ref-for-audio_substream_id①">audio_substream_id</a> = 0 to <a data-link-type="dfn" href="#audio_substream_id" id="ref-for-audio_substream_id②">audio_substream_id</a> = 21 shall be assigned to Audio Frame OBUs with the OBU types OBU_IA_Audio_Frame_ID0 to OBU_IA_Audio_Frame_ID21, respectively.</p>
   <p><b>Syntax</b></p>
<pre>class audio_frame_obu_with_no_id() {
  leb128() audio_substream_id;
  audio_frame_obu(audio_substream_id);
}
</pre>
<pre>class audio_frame_obu() {
  unsigned int (8*coded_frame_size) audio_frame();
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="audio_substream_id">audio_substream_id</dfn> indicates an unique obu_id with <a data-link-type="dfn" href="#obu_type" id="ref-for-obu_type④">obu_type</a> = OBU_IA_Audio_Frame in IA sequences for a given substream. All Audio Frame OBUs of the same substream shall have the same audio_substream_id.</p>
   <p>This value must be greater or equal to 22, in order to avoid collision with the reserved IDs for the OBU types OBU_IA_Audio_Frame_ID0 to OBU_IA_Audio_Frame_ID21.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="coded_frame_size">coded_frame_size<a class="self-link" href="#coded_frame_size"></a></dfn> is the size of <a data-link-type="dfn" href="#audio_frame" id="ref-for-audio_frame">audio_frame()</a> in bytes.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="audio_frame">audio_frame()</dfn> is the raw coded audio data for the frame. It shall be <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc6716#" id="f1604df20">opus packet</a> of <a data-link-type="biblio" href="#biblio-rfc6716" title="Definition of the Opus Audio Codec">[RFC6716]</a> for IAMF-OPUS, <a data-link-type="dfn" href="https://www.iso.org/standard/43345.html#" id="246d99870">raw_data_block()</a> of <a data-link-type="biblio" href="#biblio-aac" title="Information technology — Generic coding of moving pictures and associated audio information — Part 7: Advanced Audio Coding (AAC)">[AAC]</a> for IAMF-AAC-LC and <a data-link-type="dfn" href="https://xiph.org/flac/format.html" id="df20f7020①">FRAME</a> of <a data-link-type="biblio" href="#biblio-flac" title="Free Lossless Audio Codec">[FLAC]</a> for IAMF-FLAC.</p>
   <p>For IAMF-LPCM, <a data-link-type="dfn" href="#audio_frame" id="ref-for-audio_frame①">audio_frame()</a> shall be LPCM samples. When more than one byte is used to represent a LPCM sample, the byte order is indicated in <a data-link-type="dfn" href="#sample_format_flags" id="ref-for-sample_format_flags">sample_format_flags</a>.</p>
   <h3 class="heading settled" data-level="3.11" id="obu-temporaldelimiter"><span class="secno">3.11. </span><span class="content">Temporal Delimiter OBU Syntax and Semantics</span><a class="self-link" href="#obu-temporaldelimiter"></a></h3>
   <p>This section specifies the OBU payload of OBU_IA_Temporal_Delimiter.</p>
   <p><b>Syntax</b></p>
<pre>class temporal_delimiter_obu() {
}
</pre>
   <p class="note" role="note"><span class="marker">NOTE:</span> The Temporal Delimiter OBU has an empty payload.</p>
   <h3 class="heading settled" data-level="3.12" id="obu-sync"><span class="secno">3.12. </span><span class="content">Sync OBU Syntax and Semantics</span><a class="self-link" href="#obu-sync"></a></h3>
   <p>This section specifies the OBU payload of OBU_IA_Sync.</p>
   <p><b>Syntax</b></p>
<pre>class sync_obu() {
  leb128() global_offset;
  leb128() num_obu_ids;
  for (i = 0; i &lt; num_obu_ids; i++) {
    leb128() obu_id;
    unsigned int (1) obu_data_type;
    unsigned int (1) reinitialize_decoder;
    unsigned int (6) reserved;
    sleb128() relative_offset;
  }
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="global_offset">global_offset<a class="self-link" href="#global_offset"></a></dfn> specifies the offset that is applied to all substreams and parameters specified in this Sync OBU, in addition to their individual relative offsets.</p>
   <p>For this version of the specification, the value of global_offset shall be set to 0.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="num_obu_ids">num_obu_ids<a class="self-link" href="#num_obu_ids"></a></dfn> specifies the number of substream and parameter IDs that this Sync OBU specifies the offset for.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obu_id">obu_id</dfn> specifies the unique ID associated with the substream or parameter that is being referred to.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="obu_data_type">obu_data_type<a class="self-link" href="#obu_data_type"></a></dfn> specifies the type of data that is being referred to.</p>
<pre class="def">obu_data_type : Type of OBU data
      0       : SUBSTREAM
      1       : PARAMETER
</pre>
   <p><dfn data-dfn-type="dfn" data-noexport id="reinitialize_decoder">reinitialize_decoder<a class="self-link" href="#reinitialize_decoder"></a></dfn> is used to specify the behaviour of a decoder when encountering gaps in the audio substream, where the gap is identified as described in <a href="#standalone-synchronizing-data-obus">§ 5.2 Synchronizing Data OBUs</a>. If obu_data_type does not equal SUBSTREAM, an IAMF-OBU parser shall ignore this field.</p>
   <p>If reinitialize_decoder = 0, the decoder shall not be reinitialized before decoding the audio frames after the gap. This may be used in the case where it is preferable for the decoder to fill the gap with silence instead.</p>
   <p>If reinitialize_decoder = 1, the decoder shall be reinitialized before decoding the audio frames after the gap. If a pre-skip is specified in the relevant Codec Config OBU, it is applicable after reinitializing the decoder.</p>
   <p>For this version of the specification, the value of reinitialize_decoder shall be set to 0. If a value of 1 is seen, the IA sequence shall be rejected as invalid.</p>
   <p><dfn class="css" data-dfn-for="sync_obu()" data-dfn-type="value" data-noexport id="valdef-sync_obu-reserved">reserved<a class="self-link" href="#valdef-sync_obu-reserved"></a></dfn> shall be set to 0. Reserved units are for future use and shall be ignored by an IAMF-OBU parser.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="relative_offset">relative_offset</dfn> is the offset to position the first audio frame (before trimming) or parameter block with the referenced obu_id that comes after this Sync OBU with respect to the timeline generated before this Sync OBU. If this Sync OBU is the first one, it is the offset from 0. Otherwise, it is the offset from the end of the timeline of Substreams generated from the previous Sync OBU.</p>
   <p>The difference, <a data-link-type="dfn" href="#relative_offset" id="ref-for-relative_offset">relative_offset</a>(P) - <a data-link-type="dfn" href="#relative_offset" id="ref-for-relative_offset①">relative_offset</a>(A), shall be the offset to position the first audio sample where the first parameter value of the first parameter block that comes after this Sync OBU is applied to.</p>
   <ul>
    <li data-md>
     <p>Where, <a data-link-type="dfn" href="#relative_offset" id="ref-for-relative_offset②">relative_offset</a>(P) is <a data-link-type="dfn" href="#relative_offset" id="ref-for-relative_offset③">relative_offset</a> of <a data-link-type="dfn" href="#obu_id" id="ref-for-obu_id">obu_id</a> for the parameter and <a data-link-type="dfn" href="#relative_offset" id="ref-for-relative_offset④">relative_offset</a>(A) is <a data-link-type="dfn" href="#relative_offset" id="ref-for-relative_offset⑤">relative_offset</a> of <a data-link-type="dfn" href="#obu_id" id="ref-for-obu_id①">obu_id</a> for the substream which the parameter is applied to.</p>
   </ul>
   <p>The offset shall be indicated in the number of ticks at the sample rate specified in the corresponding substream or Codec Config OBU. For IAMF-OPUS, the sample rate is 48000Hz.</p>
   <p>IA encoder and decoder operations related to this field are specified in <a href="#standalone-synchronizing-data-obus">§ 5.2 Synchronizing Data OBUs</a>.</p>
   <h3 class="heading settled" data-level="3.13" id="codec-specific"><span class="secno">3.13. </span><span class="content">Codec Specific</span><a class="self-link" href="#codec-specific"></a></h3>
   <p>This section defines codec specific information for Codec_Specific_Info and Substream.</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="codec_specific_info">Codec_Specific_Info</dfn> is composed of <a data-link-type="dfn" href="#codec_id" id="ref-for-codec_id">Codec_ID</a> and <a data-link-type="dfn" href="#decoder_config" id="ref-for-decoder_config">Decoder_Config()</a>. Codec_ID indicates the codec which has been used to generate a given substream within IA sequence and Decoder_Config() indicates the decoding parameters which are applied to the substream within IA sequence.</p>
   </ul>
   <p>For legacy codecs, Decoder_Config() shall be exactly the same information as the conventional file parser feeds to the codec decoders for decoding of the substream. For future codecs, Decoder_Config() shall include all of decoding parameters which are required to decode Substreams.</p>
   <ul>
    <li data-md>
     <p>Substream is a raw coded stream for one or more channels. Substream format is exactly the same as the sample format (before packing OBU and except parameter blocks) for the audio file which consists of only one single coded stream by the Codec_ID.</p>
   </ul>
   <h4 class="heading settled" data-level="3.13.1" id="iamf-opus-specific"><span class="secno">3.13.1. </span><span class="content">IAMF-OPUS Specific</span><a class="self-link" href="#iamf-opus-specific"></a></h4>
   <p><a data-link-type="dfn" href="#codec_id" id="ref-for-codec_id①">Codec_ID</a> shall be <a class="property css" data-link-type="property" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408280②">Opus</a>.</p>
   <p><a data-link-type="dfn" href="#decoder_config" id="ref-for-decoder_config①">Decoder_Config()</a> for IAMF-OPUS conforms to <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7845#" id="52fa5dda0">ID Header</a> with <a data-link-type="dfn" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408281①">ChannelMappingFamily</a> = 0 of <a data-link-type="biblio" href="#biblio-rfc7845" title="Ogg Encapsulation for the Opus Audio Codec">[RFC7845]</a> with following constraints:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7845#" id="52fa5dda1">Magic Signature</a> shall not be present.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7845#" id="52fa5dda2">Output Channel Count</a> must be set to 2. <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7845#" id="52fa5dda3">Output Channel Count</a> can be ignored because the real value can be determined from the Audio Element OBU and from the opus packet header.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7845#" id="52fa5dda4">Pre-skip</a> shall be same as the number of audio samples to be trimmed at the start of substreams.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7845#" id="52fa5dda5">Output Gain</a> shall not be used. In other words, it shall be set to 0dB.</p>
    <li data-md>
     <p>The byte order of each field in <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7845#" id="52fa5dda6">ID Header</a> is converted to big endian.</p>
   </ul>
   <p>Substream format is <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc6716#" id="f1604df20①">opus packet</a> of <a data-link-type="biblio" href="#biblio-rfc6716" title="Definition of the Opus Audio Codec">[RFC6716]</a> which contains only one single frame of mono or stereo channels and which has non-delimiting frame structure.</p>
   <h4 class="heading settled" data-level="3.13.2" id="iamf-aac-lc-specific"><span class="secno">3.13.2. </span><span class="content">IAMF-AAC-LC Specific</span><a class="self-link" href="#iamf-aac-lc-specific"></a></h4>
   <p><a data-link-type="dfn" href="#codec_id" id="ref-for-codec_id②">Codec_ID</a> shall be <a class="property css" data-link-type="property" href="https://www.iso.org/standard/79110.html#" id="9220e6060①">mp4a</a>.</p>
   <p><a data-link-type="dfn" href="#decoder_config" id="ref-for-decoder_config②">Decoder_Config()</a> for IAMF-AAC-LC is <a data-link-type="dfn" href="https://www.iso.org/standard/55688.html#" id="8fc5d25d0①">DecoderConfigDescriptor()</a> of <a data-link-type="biblio" href="#biblio-mp4-systems" title="Information technology — Coding of audio-visual objects — Part 1: Systems">[MP4-Systems]</a>, which is a subset of <a data-link-type="dfn" href="https://www.iso.org/standard/79110.html#" id="9220e6061">ESDBox</a> for <a data-link-type="biblio" href="#biblio-mp4-audio" title="Information technology — Coding of audio-visual objects — Part 3: Audio">[MP4-Audio]</a>, with following constraints:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="https://www.iso.org/standard/55688.html#" id="8fc5d25d1">objectTypeIndication</a> = 0x40</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://www.iso.org/standard/55688.html#" id="8fc5d25d2">streamType</a> = 0x05 (Audio Stream)</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://www.iso.org/standard/55688.html#" id="8fc5d25d3">upstream</a> = 0</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://www.iso.org/standard/55688.html#" id="8fc5d25d4">decSpecificInfo()</a>: The syntax and values conforms to <a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d440">AudioSpecificConfig()</a> of <a data-link-type="biblio" href="#biblio-mp4-audio" title="Information technology — Coding of audio-visual objects — Part 3: Audio">[MP4-Audio]</a> with following constraints:</p>
     <ul>
      <li data-md>
       <p><a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d441">audioObjectType</a> = 2</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d442">channelConfiguration</a> must be set to 2. The real value can be implied from the Audio Element OBU.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d443">GASpecificConfig()</a>: The syntax and values conform to <a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d444">GASpecificConfig()</a> of <a data-link-type="biblio" href="#biblio-mp4-audio" title="Information technology — Coding of audio-visual objects — Part 3: Audio">[MP4-Audio]</a> with following constraints:</p>
       <ul>
        <li data-md>
         <p><a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d445">frameLengthFlag</a> = 0 (1024 lines IMDCT)</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d446">dependsOnCoreCoder</a> = 0</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://www.iso.org/standard/76383.html#" id="d40c9d447">extensionFlag</a> = 0</p>
       </ul>
     </ul>
   </ul>
   <p>Substream format is one single <a data-link-type="dfn" href="https://www.iso.org/standard/43345.html#" id="246d99870①">raw_data_block()</a> of <a data-link-type="biblio" href="#biblio-aac" title="Information technology — Generic coding of moving pictures and associated audio information — Part 7: Advanced Audio Coding (AAC)">[AAC]</a> which contains only one single frame of mono or stereo channels.</p>
   <h4 class="heading settled" data-level="3.13.3" id="iamf-flac-specific"><span class="secno">3.13.3. </span><span class="content">IAMF-FLAC Specific</span><a class="self-link" href="#iamf-flac-specific"></a></h4>
   <p><a data-link-type="dfn" href="#codec_id" id="ref-for-codec_id③">Codec_ID</a> shall be <a class="property css" data-link-type="property" href="https://xiph.org/flac/format.html" id="df20f7020②">fLaC</a>, the FLAC stream marker in ASCII, meaning byte 0 of the stream is 0x66, followed by 0x4C 0x61 0x43.</p>
   <p><a data-link-type="dfn" href="#decoder_config" id="ref-for-decoder_config③">Decoder_Config()</a> for IAMF-FLAC is <a data-link-type="dfn" href="https://xiph.org/flac/format.html" id="df20f7021">METADATA_BLOCK</a> of <a data-link-type="biblio" href="#biblio-flac" title="Free Lossless Audio Codec">[FLAC]</a>.</p>
   <p>Substream format is <a data-link-type="dfn" href="https://xiph.org/flac/format.html" id="df20f7022">FRAME</a> of <a data-link-type="biblio" href="#biblio-flac" title="Free Lossless Audio Codec">[FLAC]</a>, which is composed of <a data-link-type="dfn" href="https://xiph.org/flac/format.html" id="df20f7023">FRAME_HEADER</a>, followed by <a data-link-type="dfn" href="https://xiph.org/flac/format.html" id="df20f7024">SUBFRAME</a>(s) (one <a data-link-type="dfn" href="https://xiph.org/flac/format.html" id="df20f7025">SUBFRAME</a> per channel) and followed by <a data-link-type="dfn" href="https://xiph.org/flac/format.html" id="df20f7026">FRAME_FOOTER</a>.</p>
   <h4 class="heading settled" data-level="3.13.4" id="iamf-lpcm-specific"><span class="secno">3.13.4. </span><span class="content">IAMF-LPCM Specific</span><a class="self-link" href="#iamf-lpcm-specific"></a></h4>
   <p><a data-link-type="dfn" href="#codec_id" id="ref-for-codec_id④">Codec_ID</a> shall be <a class="property css" data-link-type="property" href="https://www.iso.org/standard/77752.html#" id="d4ce8e260①">ipcm</a>.</p>
   <p><a data-link-type="dfn" href="#decoder_config" id="ref-for-decoder_config④">Decoder_Config()</a> for IAMF-LPCM is as follows:</p>
<pre>class decoder_config(ipcm) {
  unsigned int (8) sample_format_flags;
  unsigned int (8) sample_size;
  unsigned int (32) sample_rate;
}
</pre>
   <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sample_format_flags">sample_format_flags</dfn> complies with <a data-link-type="dfn" href="https://www.iso.org/standard/77752.html#" id="d4ce8e261">format_flags</a> specified in <a data-link-type="biblio" href="#biblio-mp4-pcm" title="Information technology — MPEG audio technologies — Part 5: Uncompressed audio in MPEG-4 file format">[MP4-PCM]</a>. In other words, 0x01 indicates little-endian PCM sample format and 0x00 indicates big-endian PCM sample format. 
   <p><dfn data-dfn-type="dfn" data-noexport id="sample_size">sample_size<a class="self-link" href="#sample_size"></a></dfn> complies with <a data-link-type="dfn" href="https://www.iso.org/standard/77752.html#" id="d4ce8e262">PCM_sample_size</a> specified in <a data-link-type="biblio" href="#biblio-mp4-pcm" title="Information technology — MPEG audio technologies — Part 5: Uncompressed audio in MPEG-4 file format">[MP4-PCM]</a>. In other words, it shall take a value from the set 16, 24 and 32.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="sample_rate">sample_rate<a class="self-link" href="#sample_rate"></a></dfn> indicates the sample rate of the input audio in Hz. It shall take a value from the set 44.1k, 16k, 32k, 48k and 96k.</p>
   <p>Substream format is one <a data-link-type="dfn" href="#audio_frame" id="ref-for-audio_frame②">audio_frame()</a> of Audio_Frame_OBU which contains only one single PCM audio frame of mono or stereo channels.</p>
   <ul>
    <li data-md>
     <p>In case of that <a data-link-type="dfn" href="#audio_frame" id="ref-for-audio_frame③">audio_frame()</a> contains one single PCM audio frame of stereo channels, the ith audio sample of the left channel is followed by the ith audio sample of the right channel, and then the (i+1)th audio sample of the left channel is followed by the (i+1)th audio sample of the right channel, where i = 1, 2, ..., <a data-link-type="dfn" href="#num_samples_per_frame" id="ref-for-num_samples_per_frame">num_samples_per_frame</a>.</p>
   </ul>
   <h2 class="heading settled" data-level="4" id="profiles"><span class="secno">4. </span><span class="content">Profiles</span><a class="self-link" href="#profiles"></a></h2>
   <p>The IA Profiles define a set of capabilities that are required to parse, decode and process the corresponding IA sequence.</p>
   <p class="note" role="note"><span class="marker">NOTE:</span> In this section and subsections, the meaning of an unique OBU is that it is still unique if it only varies by reduntant flag.</p>
   <h3 class="heading settled" data-level="4.1" id="profiles-simple"><span class="secno">4.1. </span><span class="content">IA Simple Profile</span><a class="self-link" href="#profiles-simple"></a></h3>
   <p>This section specifies the conformance points of the simple profile.</p>
   <p>Restrictions on the IA sequence:</p>
   <ul>
    <li data-md>
     <p>There shall be only one unique Codec Config OBU.</p>
    <li data-md>
     <p>There shall be only one unique Audio Element OBU.</p>
     <ul>
      <li data-md>
       <p>All of substreams shall have the same trimming information.</p>
     </ul>
    <li data-md>
     <p>There shall be only one unique set of Descriptor OBUs.</p>
    <li data-md>
     <p>There shall be only one Sync OBU placed immediately after each set of Descriptor OBUs, and no additional new Sync OBUs inserted anywhere in the sequence of data OBUs that follow.</p>
    <li data-md>
     <p>There shall not be any Temporal Delimiter OBUs present.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#version" id="ref-for-version②">version</a> shall be set to 0 for this version of specification.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#profile_version" id="ref-for-profile_version">profile_version</a> shall be set to 0 for this version of specification.</p>
     <ul>
      <li data-md>
       <p><a data-link-type="dfn" href="#num_sub_mixes" id="ref-for-num_sub_mixes">num_sub_mixes</a> shall be set to 1 for this profile.</p>
     </ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers③">num_layers</a> shall be set to 1 or up to 6 for Channel-based audio element (i.e. scalable channel audio).</p>
     <ul>
      <li data-md>
       <p>In this case, <a data-link-type="dfn" href="#demixing_info_parameter_data" id="ref-for-demixing_info_parameter_data">demixing_info_parameter_data()</a> and <a data-link-type="dfn" href="#recon_gain_info_parameter_data" id="ref-for-recon_gain_info_parameter_data①">recon_gain_info_parameter_data()</a> may be present in the IA sequence.</p>
      <li data-md>
       <p>In case of simple scalable channel audio (e.g. mono for layer 1 &amp; stereo for layer 2), demixing_info() and recon_gain_info() shall not be present in the bitstream.</p>
      <li data-md>
       <p>When num_layers = 1, OBU_IA_Parameter_Block including demixing_info() may be present in the IA sequence and IA decoders may use the demixing_info() for dynamic down-mixing.</p>
     </ul>
    <li data-md>
     <p>All audio frames shall have aligned frame boundaries.</p>
    <li data-md>
     <p>All parameter definitons shall have the same <a data-link-type="dfn" href="#param_definition_mode" id="ref-for-param_definition_mode">param_definition_mode</a>.</p>
     <ul>
      <li data-md>
       <p>When <a data-link-type="dfn" href="#param_definition_mode" id="ref-for-param_definition_mode①">param_definition_mode</a> = 0, duration, num_subblocks, constant_subblock_duration and subblock_duration shall be same in all parameter definitions, respectively.</p>
     </ul>
   </ul>
   <p>Capabilities of the IA parser, decoder and processor:</p>
   <ul>
    <li data-md>
     <p>They shall be able to parse an IA sequence with the MSB four bits of <a data-link-type="dfn" href="#profile_version" id="ref-for-profile_version①">profile_version</a> = 0 and the MSB four bits of <a data-link-type="dfn" href="#version" id="ref-for-version③">version</a> = 0 (i.e., profile_version = 0 to 15 and version = 0 to 15).</p>
    <li data-md>
     <p>They shall be able to decode and process up to 16 channels.</p>
    <li data-md>
     <p>They shall be able to reconstruct one audio element.</p>
    <li data-md>
     <p>They may use demixing_info_parameter_data() to do down-mixing.</p>
   </ul>
   <h3 class="heading settled" data-level="4.2" id="profiles-base"><span class="secno">4.2. </span><span class="content">IA Base Profile</span><a class="self-link" href="#profiles-base"></a></h3>
   <p>This section specifies the conformance points of the base profile.</p>
   <p>Restrictions on IA sequence:</p>
   <ul>
    <li data-md>
     <p>There shall be only one unique Codec Config OBU.</p>
    <li data-md>
     <p>There shall be at most two unique Audio Element OBUs at any one time.</p>
     <ul>
      <li data-md>
       <p>There shall be at most one Channel-based Audio Element having <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers④">num_layers</a> > 1 at any one time.</p>
      <li data-md>
       <p>There shall be at most one Scene-based Audio Element at any one time.</p>
      <li data-md>
       <p>In other words, following combinations of two Audio Elements are only allowed.</p>
       <ul>
        <li data-md>
         <p>Channel-based Audio Element having <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers⑤">num_layers</a> = 1 + Channel-based Audio Element having <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers⑥">num_layers</a> = 1.</p>
        <li data-md>
         <p>Channel-based Audio Element having <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers⑦">num_layers</a> = 1 + Channel-based Audio Element having <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers⑧">num_layers</a> > 1.</p>
        <li data-md>
         <p>Scene-based Audio Element + Channel-based Audio Element having <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers⑨">num_layers</a> = 1.</p>
        <li data-md>
         <p>Scene-based Audio Element + Channel-based Audio Element having <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①⓪">num_layers</a> > 1.</p>
       </ul>
      <li data-md>
       <p>All of substreams shall have the same trimming information.</p>
     </ul>
    <li data-md>
     <p>There may be more than one unique set of Descriptor OBUs.</p>
    <li data-md>
     <p>There shall be only one Sync OBU placed immediately after each set of Descriptor OBUs, and no additional new Sync OBUs inserted anywhere in the sequence of data OBUs that follow.</p>
    <li data-md>
     <p>There may be Temporal Delimiter OBUs present.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#version" id="ref-for-version④">version</a> shall be set to 0 for this version of specification.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#profile_version" id="ref-for-profile_version②">profile_version</a> shall be set to 16 for this version of specification.</p>
     <ul>
      <li data-md>
       <p><a data-link-type="dfn" href="#num_sub_mixes" id="ref-for-num_sub_mixes①">num_sub_mixes</a> shall be set to 1 for this profile.</p>
      <li data-md>
       <p>For a given Mix Presentation OBU, it shall include at most one scene-based audio element and it shall include at most one channel-based audio element with <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①①">num_layers</a> > 1 for this profile.</p>
     </ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①②">num_layers</a> shall be set to 1 or up to 6 for Channel-based audio element (i.e. scalable channel audio)</p>
     <ul>
      <li data-md>
       <p>In this case, <a data-link-type="dfn" href="#demixing_info_parameter_data" id="ref-for-demixing_info_parameter_data①">demixing_info_parameter_data()</a> and <a data-link-type="dfn" href="#recon_gain_info_parameter_data" id="ref-for-recon_gain_info_parameter_data②">recon_gain_info_parameter_data()</a> may be present in the IA sequence.</p>
      <li data-md>
       <p>In case of simple scalable channel audio (e.g. mono for layer 1 &amp; stereo for layer 2), <a data-link-type="dfn" href="#demixing_info_parameter_data" id="ref-for-demixing_info_parameter_data②">demixing_info_parameter_data()</a> and <a data-link-type="dfn" href="#recon_gain_info_parameter_data" id="ref-for-recon_gain_info_parameter_data③">recon_gain_info_parameter_data()</a> shall not be present in the bitstream.</p>
      <li data-md>
       <p>When num_layers = 1, OBU_IA_Parameter_Block including <a data-link-type="dfn" href="#demixing_info_parameter_data" id="ref-for-demixing_info_parameter_data③">demixing_info_parameter_data()</a> may be present in the IA sequence and IA decoders may use the <a data-link-type="dfn" href="#demixing_info_parameter_data" id="ref-for-demixing_info_parameter_data④">demixing_info_parameter_data()</a> for dynamic down-mixing.</p>
     </ul>
    <li data-md>
     <p>All audio frames shall have aligned frame boundaries.</p>
    <li data-md>
     <p>All parameter definitons shall have the same <a data-link-type="dfn" href="#param_definition_mode" id="ref-for-param_definition_mode②">param_definition_mode</a>.</p>
     <ul>
      <li data-md>
       <p>When <a data-link-type="dfn" href="#param_definition_mode" id="ref-for-param_definition_mode③">param_definition_mode</a> = 0, duration, num_subblocks, constant_subblock_duration and subblock_duration shall be same in all parameter definitions, respectively.</p>
     </ul>
   </ul>
   <p>Capabilities of the IA parser, decoder and processor:</p>
   <ul>
    <li data-md>
     <p>They shall be able to parse an IA sequence with the MSB four bits of <a data-link-type="dfn" href="#profile_version" id="ref-for-profile_version③">profile_version</a> = 0 or 1 and the MSB four bits of <a data-link-type="dfn" href="#version" id="ref-for-version⑤">version</a> = 0 (i.e., profile_version = 0 to 31 and version = 0 to 15).</p>
    <li data-md>
     <p>They shall be able to support the capabilities of the Simple Profile.</p>
    <li data-md>
     <p>They shall be able to decode and process up to 18 channels.</p>
     <ul>
      <li data-md>
       <p>Where, 18 channels means not the number of channels after mixing of two Audio Elements but the total sum of channels before mixing of two Audio Elements .</p>
      <li data-md>
       <p>One specific example of 18 channels is 3rd-order Ambisonics (16 channels) + non-diegetic stereo (2 channels).</p>
     </ul>
    <li data-md>
     <p>They shall be able to reconstruct two audio elements.</p>
    <li data-md>
     <p>They shall be able to mix two audio elements.</p>
    <li data-md>
     <p>They shall be able to process short-lived audio elements.</p>
   </ul>
   <h2 class="heading settled" data-level="5" id="standalone"><span class="secno">5. </span><span class="content">Standalone IAMF Representation</span><a class="self-link" href="#standalone"></a></h2>
   <p>This section details the order in which the OBUs are sequenced in a standalone IAMF representation. It further specifies how the Data OBUs are synchronized, with the aid of the Sync OBUs.</p>
   <h3 class="heading settled" data-level="5.1" id="standalone-obu-sequence-order"><span class="secno">5.1. </span><span class="content">OBU Sequence Order</span><a class="self-link" href="#standalone-obu-sequence-order"></a></h3>
   <p>An IA sequence is composed of a series of OBUs in the sequence of a set of descriptor OBUs followed by their associated data OBUs, and where this pattern is repeated as many times as needed.</p>
   <h4 class="heading settled" data-level="5.1.1" id="standalone-descriptor-obus"><span class="secno">5.1.1. </span><span class="content">Descriptor OBUs</span><a class="self-link" href="#standalone-descriptor-obus"></a></h4>
    A set of Descriptor OBUs shall be placed in the following order regardless of where they appear in the bitstream: 
   <ol>
    <li data-md>
     <p>One Magic Code OBU</p>
    <li data-md>
     <p>All Codec Config OBUs</p>
    <li data-md>
     <p>All Audio Element OBUs</p>
    <li data-md>
     <p>All Mix Presentation OBUs</p>
   </ol>
   <h4 class="heading settled" data-level="5.1.2" id="standalone-data-obus"><span class="secno">5.1.2. </span><span class="content">Data OBUs</span><a class="self-link" href="#standalone-data-obus"></a></h4>
   <p>One Sync OBU shall be placed immediately after the Descriptor OBUs. This shall be followed by a sequence of Audio Frame OBUs, Parameter Block OBUs and Temporal Delimiter OBUs (if present), according to the rules below:</p>
   <ul>
    <li data-md>
     <p>Audio Frame OBUs and Parameter Block OBUs must be ordered by their implied timestamp in the timeline, and may be interleaved.</p>
    <li data-md>
     <p>If there are multiple Audio Frame OBUs that have the same implied start timestamp, they must be grouped by audio elements.</p>
    <li data-md>
     <p>Between two Sync OBUs, a sequence of audio frames or parameter blocks must be gapless.</p>
    <li data-md>
     <p>If an Audio Frame OBU or Parameter Block OBU has a substream or parameter ID that is not defined in the most recent Sync OBU, it must not appear in the bitstream, until a new Sync OBU is provided that specifies them.</p>
    <li data-md>
     <p>A Temporal Delimiter OBU may be inserted at the beginning of a temporal unit, defined as a set of all audio frames with the same start timestamp and the same duration from all substreams and all non-redundant parameter blocks with the start timestamp within the duration. A temporal unit may include redundant parameter blocks.</p>
    <li data-md>
     <p>If Temporal Delimiter OBUs are present, they shall be inserted at the beginning of every temporal unit.</p>
   </ul>
   <p>Additionally, the following constraints apply to the Audio Frame and Parameter Block OBUs:</p>
   <ul>
    <li data-md>
     <p>Audio Frame OBUs shall be provided non-redundantly, such that for each substream, there shall not be two audio frames that are overlapping in time.</p>
    <li data-md>
     <p>Parameter Block OBUs may be provided redundantly, such that they contain the same data as a previously provided Parameter Block OBU for the same time region. In this case, the "obu_redundant_copy" field in the OBU header shall be set to 1.</p>
    <li data-md>
     <p>Redundant Parameter Block OBUs do not need to be ordered by their implied timestamp in the timeline. The implied timestamp should be inferred from the initial non-redundant version.</p>
    <li data-md>
     <p>Non-redundant Parameter Block OBUs must not provide data for overlapping time regions.</p>
   </ul>
   <h4 class="heading settled" data-level="5.1.3" id="standalone-obu-sequence-refreshes"><span class="secno">5.1.3. </span><span class="content">Refreshing Descriptor OBUs</span><a class="self-link" href="#standalone-obu-sequence-refreshes"></a></h4>
   <p>The above describes the full sequence of OBUs for a given set of descriptor OBUs and their associated data OBUs. If the IAMF configuration changes, a new set of descriptor OBUs is required. In that case, a new sequence of the complete set of descriptor OBUs, a Sync OBU and their corresponding data OBUs shall follow, in the same order as described above.</p>
   <p>The descriptor OBUs may additionally be repeated redundantly and as frequently as necessary. In this case, the "obu_redundant_copy" field in the OBU header of each of the descriptor OBUs shall be set to 1.</p>
   <p>If there is set of descriptor OBUs placed mid-stream, there may be parameter blocks that came before them which are still valid and applicable for the duration after the descriptor OBUs. In this case, these parameter blocks must be redundantly copied and placed after the first Sync OBU that follows the descriptor OBUs. This ensures that any receiver joining mid-stream and encountering a set of descriptor OBU is guaranteed to be able to receive the complete set of metadata that is applicable to all audio frames that come after.</p>
   <h3 class="heading settled" data-level="5.2" id="standalone-synchronizing-data-obus"><span class="secno">5.2. </span><span class="content">Synchronizing Data OBUs</span><a class="self-link" href="#standalone-synchronizing-data-obus"></a></h3>
   <p>The audio frames and parameter data provided in the Data OBUs may be asynchronous; different audio substreams may have different audio frame sizes, parameter blocks may have different durations from the audio frames, or there may be gaps in a parameter’s timeline. This section details how these Data OBUs may be synchronized, based on their duration and the information provided in the Sync OBUs.</p>
   <p>The Sync OBU contains two pieces of information that apply to all substream and parameters that follow it:</p>
   <p>1) a relative offset for each of the substreams and parameters, and</p>
   <p>2) a global offset.</p>
   <p>The relative offsets describe how the substreams and parameters are positioned with respect to the timeline of Substreams generated from the previous Sync OBU. For example, from the previous Sync OBU, Substream 1 has a end timestamp 960 units, Substream 2 has a end timestamp 1024 units, Parameter 1 has a end timestamp 900 units and Parameter 2 has a end timestamp 1100 units. The relative offsets are calculated with respect to the maximum timeline of Substreams (i.e. 1024 units). So, Substream 1 has a relative offset that is 64 units before Substream 2, Substream 2 has  a relative offset that is 0 unit, Parameter 1 has a relative offset that is 124 units before Substream 2 and Parameter 2 has a relative offset that is 76 after Substream 2.</p>
   <table class="def">
    <tbody>
     <tr>
      <th>ID (name)
      <th>end timestamp
      <th>Relative offset
     <tr>
      <td>N/A (Global offset)
      <td>0
      <td>0
     <tr>
      <td>1 (Substream 1)
      <td>960
      <td>-64
     <tr>
      <td>2 (Substream 2)
      <td>1024
      <td>+0
     <tr>
      <td>3 (Parameter 1)
      <td>900
      <td>-124
     <tr>
      <td>4 (Parameter 2)
      <td>1100
      <td>+76
   </table>
   <p>The global offset defines an additional offset that is applied to all substreams and parameters, and can be used to express intentional gaps between the local frames associated with two Sync OBUs.</p>
   <p>The local frame of reference can be positioned in a global frame of reference by using the concatenation rule provided below. This rule specify how two timelines associated with different Sync OBUs are aligned.</p>
   <p><dfn data-dfn-type="dfn" data-noexport id="concatenation-rule">Concatenation Rule<a class="self-link" href="#concatenation-rule"></a></dfn></p>
   <p>Ignoring the global offset, the new timeline after a Sync OBU is extended based on the timeline generated from the previous Sync OBU and relative offsets in the current Sync OBU. Then, the global offset is applied to additionally shift the new timeline.</p>
   <p>The algorithm below may be used to implement the concatenation rule. But, the result shall comply with this.</p>
<pre>For a given ID, end_timestamp[ID][0] = 0 (i.e. initial value = 0)

Encoder operation for the Nth Sync OBU 
// Encoders know the position of an OBU on global timeline. 
// So, they know start_timestamp[ID][N] and global_offset[N].

For each ID in the Nth Sync OBU.

relative_offset[ID][N] = start_timestamp[ID][N] - global_offset[N]
                           - max(end_timestamp[ID][N-1] for each audio frame ID);
// i.e. relative_offset[ID][1] = start_timestamp[ID][1] 
//                                 - global_offset[1] for the first Sync OBU.

// end_timestamp[ID][N] for each ID is calculated as follows:

end_timestamp[ID][N] = start_timestamp[ID][N];

for (i = 0: i &lt; M(N); i++) {
  end_timestamp[ID][N] += frame size of ith audio frame
                            (or duration of ith parameter block) having the ID;
}
// M(N) is the number of audio frame OBUs(or parameter block OBUs) having the given ID
// between the Nth Sync OBU and the (N+1)th Sync OBU.

Decoder operation for the Nth Sync OBU 
// Decoders need to extend the timeline generated from the previous Sync OBU.
// For the first Sync OBU which decoders get after join mid-stream, N is set to 1.

For each ID in the Nth Sync OBU.

start_timestamp[ID][N] = max(end_timestamp[ID][N-1] for each audio frame ID)
                           + relative_offset[ID][N] + global_offset[N];

end_timestamp[ID][N] = start_timestamp[ID][N];

for (i = 0: i &lt; M(N); i++) {
  end_timestamp[ID][N] += frame size of ith audio frame
                            (or duration of ith parameter block) having the ID;
}
// M(N) is the number of audio frame OBUs
// (or parameter block OBUs) having the given ID
// between the Nth Sync OBU and the (N+1)th Sync OBU.
</pre>
   <h2 class="heading settled" data-level="6" id="isobmff"><span class="secno">6. </span><span class="content">ISOBMFF IAMF Encapsulation</span><a class="self-link" href="#isobmff"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="brands"><span class="secno">6.1. </span><span class="content">General Requirements &amp; Brands</span><a class="self-link" href="#brands"></a></h3>
   <p>A file conformant to this specification satisfies the following:</p>
   <ul>
    <li data-md>
     <p>It shall conform to the normative requirements of <a data-link-type="biblio" href="#biblio-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">[ISOBMFF]</a></p>
    <li data-md>
     <p>It shall have the <dfn class="css" data-dfn-for="ISOBMFF Brand" data-dfn-type="value" data-export id="valdef-isobmff-brand-iamf">iamf<a class="self-link" href="#valdef-isobmff-brand-iamf"></a></dfn> brand among the compatible brands array of the FileTypeBox</p>
    <li data-md>
     <p>It shall contain at least one track using an <a data-link-type="dfn" href="#iasampleentry" id="ref-for-iasampleentry">IASampleEntry</a></p>
    <li data-md>
     <p>It SHOULD indicate a structural ISOBMFF brand among the compatible brands array of the FileTypeBox, such as <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb0">iso6</a></p>
    <li data-md>
     <p>It MAY indicate other brands not specified in this specification provided that the associated requirements do not conflict with those given in this specification</p>
   </ul>
   <p>Parsers shall support the structures required by the <code><a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb1">iso6</a></code> brand and MAY support structures required by further ISOBMFF structural brands.</p>
   <h3 class="heading settled" data-level="6.2" id="isobmff-singletrack"><span class="secno">6.2. </span><span class="content">ISOBMFF IAMF Encapsulation with single track</span><a class="self-link" href="#isobmff-singletrack"></a></h3>
   <p>This section describes the basic data structures used to signal encapsulation of IA sequence in <a data-link-type="biblio" href="#biblio-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">[ISOBMFF]</a> containers.</p>
   <h4 class="heading settled" data-level="6.2.1" id="isobmff-singletrack-iasequence"><span class="secno">6.2.1. </span><span class="content">Requirement of IA sequence</span><a class="self-link" href="#isobmff-singletrack-iasequence"></a></h4>
   <p>IA sequence shall comply with the bitstream which is specified in <a href="#profiles-simple">§ 4.1 IA Simple Profile</a> or <a href="#profiles-base">§ 4.2 IA Base Profile</a> for encapsulation of ISOBMFF with single track.</p>
   <h4 class="heading settled" data-level="6.2.2" id="isobmff-singletrack-basicencapsulationscheme"><span class="secno">6.2.2. </span><span class="content">Encapsulation Scheme</span><a class="self-link" href="#isobmff-singletrack-basicencapsulationscheme"></a></h4>
   <p>During encapsulation process, OBUs of IA sequences are encapsulated into <a data-link-type="biblio" href="#biblio-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">[ISOBMFF]</a> as follows:</p>
   <ul>
    <li data-md>
     <p>Movie Header and Edit</p>
     <ul>
      <li data-md>
       <p>Calculate the number of temporal units in the IA sequences.</p>
      <li data-md>
       <p>Take the number of trimmed samples from the IA sequence and converting it to the sample rate used by the <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb0①">elst</a> boxes.</p>
      <li data-md>
       <p>Reflect the converted numbers to <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb1①">mvhd</a> to indicate the duration after trimming.</p>
      <li data-md>
       <p>If there is audio samples to be trimmed at the start or at the end, then <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb2">edts</a> and <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb3">elst</a> boxes shall be present to reflect the the number of audio samples to be trimmed at the start of the IA sequence (i.e <a data-link-type="dfn" href="https://www.iso.org/standard/68960.html#" id="474343bb4">media_time</a>) and <a data-link-type="dfn" href="https://www.iso.org/standard/68960.html#" id="474343bb5">edit_duration</a>.</p>
     </ul>
    <li data-md>
     <p>Sample Entry</p>
     <ul>
      <li data-md>
       <p>The ith set of descriptor OBUs which is not a redundant copy of the previous descriptor OBUs (i.e. the first descriptor OBUs is regarded as non-redundant copy regardless of its <a data-link-type="dfn" href="#obu_redundant_copy" id="ref-for-obu_redundant_copy">obu_redundant_copy</a>), specified in <a href="#standalone-descriptor-obus">§ 5.1.1 Descriptor OBUs</a>, and the Sync OBU that immediately follows them are moved to the ith <a data-link-type="dfn" href="#iasampleentry" id="ref-for-iasampleentry①">IASampleEntry</a>. All descriptor OBUs in the IA sequences are then discarded from the IA sequence.</p>
     </ul>
    <li data-md>
     <p>Decoding Time to Sample</p>
     <ul>
      <li data-md>
       <p>The <a data-link-type="dfn" href="#num_samples_per_frame" id="ref-for-num_samples_per_frame①">num_samples_per_frame</a> value in the Codec Config OBU, which indicates the duration of each sample, is reflected in the <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb6">stts</a> or <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb7">trun</a> box except the last sample.</p>
      <li data-md>
       <p>The duration of the last sample is duration including samples trimmed at the beginning but excluding samples trimmed at the end.</p>
      <li data-md>
       <p>The duration of the last sample may not be same as <a data-link-type="dfn" href="#num_samples_per_frame" id="ref-for-num_samples_per_frame②">num_samples_per_frame</a>. In this case, it is calcuated from Audio Frame OBU of the last temporal unit.</p>
     </ul>
    <li data-md>
     <p>Sample Group</p>
     <ul>
      <li data-md>
       <p>The <a data-link-type="dfn" href="#roll_distance" id="ref-for-roll_distance">roll_distance</a> value in the Codec Config OBU is copied to <a data-link-type="dfn" href="https://www.iso.org/standard/68960.html#" id="474343bb8">AudioRollRecoveryEntry</a> with the <a data-link-type="dfn" href="https://www.iso.org/standard/68960.html#" id="474343bb9">grouping_type</a> = <a class="property css" data-link-type="property" href="https://www.iso.org/standard/68960.html#" id="474343bb10">roll</a>.</p>
     </ul>
    <li data-md>
     <p>Sample</p>
     <ul>
      <li data-md>
       <p>Temporal Delimiter OBU: shall be discarded if present.</p>
       <ul>
        <li data-md>
         <p>Temporal Unit that has no OBUs is discarded</p>
       </ul>
      <li data-md>
       <p>Temporal units shall be placed in consecutive samples in order.</p>
     </ul>
   </ul>
   <center><img height="252" src="images/IAMF Encapsulation Guideline.png" style="width:100%; height:auto;" width="1398"></center>
   <center>
    <figcaption>IAMF Encapsulation Scheme</figcaption>
   </center>
   <h4 class="heading settled" data-level="6.2.3" id="iasampleentry-section"><span class="secno">6.2.3. </span><span class="content">IA Sample Entry</span><a class="self-link" href="#iasampleentry-section"></a></h4>
<pre class="def">Sample Entry Type: <dfn data-dfn-for="IASampleEntry" data-dfn-type="value" data-export id="valdef-iasampleentry-iamf">iamf<a class="self-link" href="#valdef-iasampleentry-iamf"></a></dfn>
Container:         Sample Description Box ('stsd')
Mandatory:         Yes
Quantity:          One or more.
</pre>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iasampleentry">IASampleEntry</dfn> identifies that the track contains <a data-link-type="dfn" href="#ia-sample" id="ref-for-ia-sample">IA Samples</a>, and contains one IA_Descriptor.</p>
   <p><b>Syntax</b></p>
<pre>class IASampleEntry extends AudioSampleEntry('iamf') {
  IA_Descriptor descriptor;
}
</pre>
   <p>The <a data-link-type="dfn" href="https://www.iso.org/standard/68960.html#" id="474343bb0②">channelcount</a> and <a data-link-type="dfn" href="https://www.iso.org/standard/68960.html#" id="474343bb1②">samplerate</a> fields of AudioSampleEntry are unused.</p>
   <p>None of AudioSampleEntry’s optional boxes shall be present.</p>
   <p><b>Semantics</b></p>
   <p><dfn data-dfn-type="dfn" data-noexport id="descriptor">descriptor<a class="self-link" href="#descriptor"></a></dfn> is the IA_Descriptor box in this stream.</p>
   <h4 class="heading settled" data-level="6.2.4" id="iadescriptors-section"><span class="secno">6.2.4. </span><span class="content">IA Descriptors</span><a class="self-link" href="#iadescriptors-section"></a></h4>
<pre class="def">Box Type:  <dfn data-dfn-type="dfn" data-export id="iamd">iamd<a class="self-link" href="#iamd"></a></dfn>
Container: IA Sample Entry ('iamf')
Mandatory: Yes
Quantity:  One.
</pre>
   <p><dfn data-dfn-type="dfn" data-noexport id="ia_descriptor">IA_Descriptor<a class="self-link" href="#ia_descriptor"></a></dfn> contains one set of IAMF Descriptor OBUs, specified using the OBU syntax.</p>
   <p><b>Syntax</b></p>
<pre>class IA_Descriptor extends Box('iamd') {
  magic_code_obu();
  codec_config_obu();
  
  for (i = 0; i &lt; num_audio_elements; i++) {
    audio_element_obu();
  }

  for (j = 0; j &lt; num_mix_presentations; j++) {
    mix_presentation_obu();
  }
  sync_obu();
}
</pre>
   <p><b>Semantics</b></p>
   <p><dfn class="css" data-dfn-for="IA_Descriptor" data-dfn-type="value" data-noexport id="valdef-ia_descriptor-magic_code_obu">magic_code_obu()<a class="self-link" href="#valdef-ia_descriptor-magic_code_obu"></a></dfn> is the magic_code_obu() in this set of descriptor OBUs.</p>
   <p><dfn class="css" data-dfn-for="IA_Descriptor" data-dfn-type="value" data-noexport id="valdef-ia_descriptor-codec_config_obu">codec_config_obu()<a class="self-link" href="#valdef-ia_descriptor-codec_config_obu"></a></dfn> is the codec_config_obu() in this set of descriptor OBUs.</p>
   <p><dfn class="css" data-dfn-for="IA_Descriptor" data-dfn-type="value" data-noexport id="valdef-ia_descriptor-audio_element_obu">audio_element_obu()<a class="self-link" href="#valdef-ia_descriptor-audio_element_obu"></a></dfn> is the <code>i</code>-th audio_element_obu() in this set of descriptor OBUs.</p>
   <p><dfn class="css" data-dfn-for="IA_Descriptor" data-dfn-type="value" data-noexport id="valdef-ia_descriptor-mix_presentation_obu">mix_presentation_obu()<a class="self-link" href="#valdef-ia_descriptor-mix_presentation_obu"></a></dfn> is the <code>j</code>-th mix_presentation_obu() in this set of descriptor OBUs.</p>
   <p><dfn class="css" data-dfn-for="IA_Descriptor" data-dfn-type="value" data-noexport id="valdef-ia_descriptor-sync_obu">sync_obu()<a class="self-link" href="#valdef-ia_descriptor-sync_obu"></a></dfn> is the sync_obu() that immediately follows this set of descriptor OBUs.</p>
   <h4 class="heading settled" data-level="6.2.5" id="iasampleformat"><span class="secno">6.2.5. </span><span class="content">IA Sample Format</span><a class="self-link" href="#iasampleformat"></a></h4>
   <p>For tracks using the <a data-link-type="dfn" href="#iasampleentry" id="ref-for-iasampleentry②">IASampleEntry</a>(s), an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ia-sample">IA Sample</dfn> has the following constraints:</p>
   <ul>
    <li data-md>
     <p>The one sample data shall be one temporal unit after removing Temporal Delimiter OBU if present.</p>
   </ul>
   <p>A temporal unit consists of all the data OBUs that are associated with a specific, distinct time instant. It consists of zero or one Temporal Delimiter OBU, and followed by one or more Audio Frame OBUs and zero or more Parameter Block OBUs.</p>
   <h3 class="heading settled" data-level="6.3" id="codecsparameter"><span class="secno">6.3. </span><span class="content">Codecs Parameter String</span><a class="self-link" href="#codecsparameter"></a></h3>
    DASH and other applications require defined values for the <a class="property css" data-link-type="property" href="https://tools.ietf.org/html/rfc6381#" id="ceb2b7690">Codecs</a> parameter specified in <a data-link-type="biblio" href="#biblio-rfc6381" title="The &apos;Codecs&apos; and &apos;Profiles&apos; Parameters for &quot;Bucket&quot; Media Types">[RFC6381]</a> for ISO Media tracks. The codecs parameter string for the AOM IA codec shall be: 
   <ul>
    <li data-md>
     <p>For IAMF-OPUS</p>
   </ul>
<pre>iamf.IAMF-specific-needs.Opus
</pre>
   <ul>
    <li data-md>
     <p>For IAMF-AAC-LC</p>
   </ul>
<pre>iamf.IAMF-specific-needs.mp4a.40.2
</pre>
   <ul>
    <li data-md>
     <p>For IAMF-FLAC</p>
   </ul>
<pre>iamf.IAMF-specific-needs.fLaC
</pre>
   <ul>
    <li data-md>
     <p>For IAMF-LPCM</p>
   </ul>
<pre>iamf.IAMF-specific-needs.ipcm
</pre>
   <p><b>IAMF-specific-needs</b> shall be <b>V.PV</b> as follows:</p>
   <ul>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="v">V<a class="self-link" href="#v"></a></dfn> is four digits and represents the <a data-link-type="dfn" href="#version" id="ref-for-version⑥">version</a> of IA sequence.</p>
     <ul>
      <li data-md>
       <p>The first two digits represents the major version within the range 0 to 15.</p>
      <li data-md>
       <p>The second two digits represents the minor version within the range 0 to 15.</p>
     </ul>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="pv">PV<a class="self-link" href="#pv"></a></dfn> is four digits and represents the <a data-link-type="dfn" href="#profile_version" id="ref-for-profile_version④">profile_version</a> of IA sequence.</p>
     <ul>
      <li data-md>
       <p>The first <b>P</b> is two digits and represents the profile major version within the range 0 to 15.</p>
      <li data-md>
       <p>The second <b>V</b> is two digits and represents the profile minor version within the range 0 to 15.</p>
     </ul>
   </ul>
   <p>For example, for this version of the specification</p>
   <ul>
    <li data-md>
     <p>The codecs parameter string of IAMF-OPUS for the simple profile:</p>
   </ul>
<pre>iamf.0000.0000.Opus
</pre>
   <ul>
    <li data-md>
     <p>The codecs parameter string of IAMF-AAC-LC for the base profile:</p>
   </ul>
<pre>iamf.0000.0100.mp4a.40.2
</pre>
   <h2 class="heading settled" data-level="7" id="isobmff-decapsulation"><span class="secno">7. </span><span class="content">ISOBMFF IAMF Decapsulation</span><a class="self-link" href="#isobmff-decapsulation"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="isobmff-decapsulation-singletrack"><span class="secno">7.1. </span><span class="content">ISOBMFF IAMF Decapsulation with single track</span><a class="self-link" href="#isobmff-decapsulation-singletrack"></a></h3>
   <p>This section provides a guideline for IAMF parser to reconstruct IA sequences from IAMF file.</p>
   <p>When IAMF parser feeds the reconstructed IA sequences to IAMF-OBU parser, descriptor OBUs shall be placed at the first and followed by Temporal Units.</p>
   <p>During decapsulation process, IAMF file is decapsulated into IA sequences which conform to <a href="#obu-syntax">§ 3 Open Bitstream Unit (OBU) Syntax and Semantics</a> as follows:</p>
   <ul>
    <li data-md>
     <p>The ith IA sequence is reconstructed as follows:</p>
     <ul>
      <li data-md>
       <p>Step1: Take the ith descriptor OBUs and Sync OBU from the ith IASampleEntry.</p>
      <li data-md>
       <p>Step2: Take jth sample as it is and add Temporal Delimiter OBU in front of the jth sample.</p>
       <ul>
        <li data-md>
         <p>Every Temporal Unit shall have Temporal Delimiter OBU or no Temporal Unit shall have Temporal Delimiter OBU.</p>
       </ul>
      <li data-md>
       <p>Step3: Place the ith descriptor OBUs, followed by Sync OBU, and followed by Temporal Units in order (j = i1, i2, …, im) without gap, to reconstruct the ith IA sequence.</p>
     </ul>
    <li data-md>
     <p>Place IA sequences in order (i = 1, 2, 3, ...) to reconstruct the IA sequences.</p>
   </ul>
   <h4 class="heading settled" data-level="7.1.1" id="isobmff-decapsulation-singletrack-trimming"><span class="secno">7.1.1. </span><span class="content">Recommended handling of Trimming Information</span><a class="self-link" href="#isobmff-decapsulation-singletrack-trimming"></a></h4>
   <p>This section recommends how to handle trimming information of IAMF-ISOBMFF file.</p>
   <center><img height="465" src="images/ISOBMFF Trimming Handling.png" style="width:80%; height:auto;" width="685"></center>
   <center>
    <figcaption>Recommendation for IAMF-ISOBMFF Trimming Information Handling</figcaption>
   </center>
   <p>As depicted in the above figure,</p>
   <ul>
    <li data-md>
     <p>IAMF-ISOBMFF parser passes descriptor OBUs, PTS1 and Samples (or Temporal Units) to IAMF decoder.</p>
    <li data-md>
     <p>IAMF-ISOBMFF parser passes PTS1 and trimming information to IAMF-ISOBMFF player.</p>
    <li data-md>
     <p>IAMF decoder passes PTS and audio samples after decoding to IAMF-ISOBMFF player.</p>
     <ul>
      <li data-md>
       <p>If IAMF decoder trims the audio samples to be trimmed based on the trimming information within Audio Frame OBUs, then IAMF decoder passes PTS2 and audio samples after trimming.</p>
      <li data-md>
       <p>If IAMF decoder does not trim, then IAMF decoder passes PTS1 and audio samples before trimming.</p>
     </ul>
    <li data-md>
     <p>IAMF-ISOBMFF player playbacks audio samples starting at PTS2 to Loudspeakers.</p>
   </ul>
   <p>Where, PTS1 is the presentation time stamp of the first audio sample before trimming and PTS2 is the presentation time stamp of the first audio sample after trimming.</p>
   <h2 class="heading settled" data-level="8" id="processing"><span class="secno">8. </span><span class="content">IAMF processing</span><a class="self-link" href="#processing"></a></h2>
   <p>This section provides a guideline for IA decoding for a given <a data-link-type="dfn" href="#ia-sequence" id="ref-for-ia-sequence">IA sequence</a>.</p>
   <p>IA decoding can be done by using the combination of following decoding processing.</p>
   <ul>
    <li data-md>
     <p>Decoding of a scene-based audio element (Ambisonics decoding)</p>
    <li data-md>
     <p>Decoding of a channel-based audio element (Scalable Channel Audio decoding)</p>
    <li data-md>
     <p>Rendering and mixing of each audio element before mixing of multiple audio elements.</p>
     <ul>
      <li data-md>
       <p>It may include re-sampling of each audio element.</p>
     </ul>
    <li data-md>
     <p>Mixing of multiple audio elements with synchronization</p>
    <li data-md>
     <p>Post processing such as Loudness and Limiter.</p>
   </ul>
   <p><b>Ambisonics decoding</b>, it shall conform to <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a> except codec specific processing and shall output Ambisonics channels in ACN (Ambisonics Channel Number) order.</p>
   <p><b>Scalable Channel Audio decoding</b>, it shall output the channel audio (e.g. 3.1.2ch or 7.1.4ch) for the target channel layout.</p>
   <p>IA decoder is composed of OBU parser, Codec decoder, Audio Element Renderer and Post-processor as depicted in below figure.</p>
   <ul>
    <li data-md>
     <p>OBU parser shall depacketize IA sequence to output one or more substreams with one or more Decoder_Config() but one decoder_config() per audio element, descriptors and parameters.</p>
    <li data-md>
     <p>Codec decoder for each substream shall output decoded channels.</p>
    <li data-md>
     <p>Audio Element Renderer reconstructs audio channels from decoded channels of Codec decoders according to the type of audio element which is specified audio element OBU, and renders the audio channels to the target loudspeaker layout.</p>
     <ul>
      <li data-md>
       <p>For scene-based audio element, it shall output audio channels for the target loudspeaker layout from the reconstructed ambisonics channels.</p>
      <li data-md>
       <p>For channel-based audio element, it shall output audio channels for the target loudspeaker layout from the reconstructed audio channels.</p>
     </ul>
    <li data-md>
     <p>Post-processor outputs audio channels according to the target loudspeaker layout after processing mixing and post processing such as Loudness and Limiter.</p>
   </ul>
   <center><img height="694" src="images/IA Decoder Configuration.png" style="width:100%; height:auto;" width="1844"></center>
   <center>
    <figcaption>IA Decoder Configuration</figcaption>
   </center>
   <h3 class="heading settled" data-level="8.1" id="processing-ambisonics"><span class="secno">8.1. </span><span class="content">Ambisonics decoding</span><a class="self-link" href="#processing-ambisonics"></a></h3>
   <p>This section describes the decoding of Ambisonics.</p>
   <p>Below figure shows the decoding flowchart of Ambisonics decoding.</p>
   <ul>
    <li data-md>
     <p>OBU parser shall output the substreams for the scene-based audio element in IA sequence.</p>
     <ul>
      <li data-md>
       <p>OBU parser shall output <a data-link-type="dfn" href="#channel_mapping" id="ref-for-channel_mapping">channel_mapping</a> or <a data-link-type="dfn" href="#demixing_matrix" id="ref-for-demixing_matrix">demixing_matrix</a> according to <a data-link-type="dfn" href="#ambisonics_mode" id="ref-for-ambisonics_mode①">ambisonics_mode</a> to Channel_Mapping/Demixing_Matrix module</p>
     </ul>
    <li data-md>
     <p>Codec decoder shall output decoded channels (PCM) in the transmission order as many as<a data-link-type="dfn" href="#output_channel_count" id="ref-for-output_channel_count①">output_channel_count</a> after decoding of each Substream.</p>
    <li data-md>
     <p>Channel_Mapping/Demixing_Matrix module shall apply channel_mapping or demixing_matrix according to Ambisonics_Mode to the channels (PCM) and outputs channels as many as <a data-link-type="dfn" href="#output_channel_count" id="ref-for-output_channel_count②">output_channel_count</a> in ACN order.</p>
    <li data-md>
     <p>Ambisonics to Channel Format module may convert the output channels to channel audio according to the target loudspeaker layout.</p>
   </ul>
   <center><img height="504" src="images/Ambisonics Decoding Flowchart.png" style="width:80%; height:auto;" width="466"></center>
   <center>
    <figcaption>Ambisonics Decoding Flowchart</figcaption>
   </center>
   <h3 class="heading settled" data-level="8.2" id="processing-scalablechannelaudio"><span class="secno">8.2. </span><span class="content">Scalable Channel Audio decoding</span><a class="self-link" href="#processing-scalablechannelaudio"></a></h3>
   <p>This section describes the decoding of Scalable Channel Audio.</p>
   <p>Below figure shows the decoding flowchart of the decoding for Scalable Channel Audio.</p>
   <center><img height="785" src="images/Channel Audio Decoding Flowchart.png" style="width:80%; height:auto;" width="541"></center>
   <center>
    <figcaption>Scalable Channel Audio Decoding Flowchart</figcaption>
   </center>
   <p>For a given loudspeaker layout (i.e. CL #i) among the list of <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout⑧">loudspeaker_layout</a> in scalable channel layout config,</p>
   <ul>
    <li data-md>
     <p>OBU Parser shall get substreams for ChannelGroup #1 ~ ChannelGroup #i and pass them to Codec decoder with <a data-link-type="dfn" href="#decoder_config" id="ref-for-decoder_config⑤">Decoder_Config()</a>.</p>
    <li data-md>
     <p>Codec decoder shall output decoded channels (PCM) in the transmission order.</p>
     <ul>
      <li data-md>
       <p>For non-scalable audio (i.e i = 1), its order shall be converted to the loudspeaker location order for CL #1.</p>
     </ul>
    <li data-md>
     <p>Following are further processed for scalable audio (i.e. i > 1)</p>
     <ul>
      <li data-md>
       <p>When Output_Gain_Is_Present_Flag(j) for ChannelGroup #j (j = 1, 2, …, i-1) is on, Gain module shall apply Output_Gain(j) to all audio samples of the mixed channels in the ChannelGroup #j indicated by Output_Gain_Flag(j).</p>
      <li data-md>
       <p>De-Mixer shall output de-mixed channels (PCM) for CL #i generated through de-mixing of the mixed channels from Gain module by using non-mixed channels and demixing parameters for each frame.</p>
      <li data-md>
       <p>Recon_Gain module shall output smoothed channels (PCM) by applying Recon_Gain to each frame of the de-mixed channels.</p>
      <li data-md>
       <p>The order for Non-mixed channels and Smoothed channels shall be converted to the loudspeaker location order for CL #i after going through necessary modules such as Gain, De-Mixer, Recon_Gain etc..</p>
     </ul>
    <li data-md>
     <p>Following may be further processed</p>
     <ul>
      <li data-md>
       <p>Loudness normalization module may output loudness normalized channels at -24 LKFS from non-mixed channels and smoothed channels (if present) by using loudness value for CL #i.</p>
      <li data-md>
       <p>Limiter module may limit the true peak of input channels at -1dB.</p>
     </ul>
   </ul>
   <p>Following sections, <a href="#processing-scalablechannelaudio-gain">§ 8.2.1 Gain</a>, <a href="#processing-scalablechannelaudio-demixer">§ 8.2.2 De-mixer</a> and <a href="#processing-scalablechannelaudio-recongain">§ 8.2.3 Recon Gain</a> are only needed for decoding of scalable audio with <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①③">num_layers</a> > 1.</p>
   <h4 class="heading settled" data-level="8.2.1" id="processing-scalablechannelaudio-gain"><span class="secno">8.2.1. </span><span class="content">Gain</span><a class="self-link" href="#processing-scalablechannelaudio-gain"></a></h4>
   <p>Gain module is the mirror process of Attenuation module. It recovers the reduced sample values using Output_Gain when its flag for ChannelGroup #j is on. When its flag is off, then this module shall be bypassed for ChannelGroup #j. Output_Gain(j) for ChannelGroup #j shall be applied to all samples of the mixed channels in the ChannelGroup #j. Where, mixed channels means the mixed channels from an input channel audio (i.e. a channel audio for CL #n).</p>
   <p>To apply the gain, an implementation MUST use the following:</p>
<pre>Sample *= pow(10, Output_Gain(j) / (20.0*256))
</pre>
   <p>Where, Output_Gain(j) is the raw 16-bit value for jth layer which is specified in <a data-link-type="dfn" href="#channel_audio_layer_config" id="ref-for-channel_audio_layer_config①">channel_audio_layer_config()</a>.</p>
   <h4 class="heading settled" data-level="8.2.2" id="processing-scalablechannelaudio-demixer"><span class="secno">8.2.2. </span><span class="content">De-mixer</span><a class="self-link" href="#processing-scalablechannelaudio-demixer"></a></h4>
   <p>For scalable channel audio with <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①④">num_layers</a> > 1, some channels of <a data-link-type="dfn" href="#down-mixed-audio" id="ref-for-down-mixed-audio">down-mixed audio</a> for CL #i are delivered as is but the rest are mixed with other channels for CL #i-1.</p>
   <p>De-mixer module reconstructs the rest of the down-mixed audio for CL #i from the mixed channels, which is passed by Gain module, and its relevant non-mixed channels using its relevant demixing parameters.</p>
   <p>De-mixing for down-mixed audio for CL #i shall comply with the result by the combination of following surround and top de-mixers:</p>
   <ul>
    <li data-md>
     <p>Surround de-mixers</p>
     <ul>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="s1to2-de-mixer">S1to2 de-mixer</dfn>: R2 = 2 x Mono – L2</p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="s2to3-de-mixer">S2to3 de-mixer</dfn>: L3 = L2 – 0.707 x C and R3 = R2 – 0.707 x C</p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="s3to5-de-mixer">S3to5 de-mixer</dfn>: Ls = 1/δ(k) x (L3 – L5) and Rs = 1/δ(k) x (R3 – R5)</p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="s5to7-de-mixer">S5to7 de-mixer</dfn>: Lrs = 1/β(k) x (Ls – α(k) x Lss) and Rrs = 1/β(k) x (Rs – α(k) x Rss)</p>
     </ul>
    <li data-md>
     <p>Top de-mixers</p>
     <ul>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tf2tot2-de-mixer">TF2toT2 de-mixer</dfn>: Ltf2 = Ltf3 – w(k) x (L3 – L5) and Rtf2 = Rtf3 – w(k) x (R3 – R5)</p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="t2to4-de-mixer">T2to4 de-mixer</dfn>: Ltb = 1/γ(k) x (Ltf2 – Ltf4) and Rtb = 1/γ(k) x (Rtf2 – Rtf4)</p>
     </ul>
    <li data-md>
     <p>Where, Ltf2 / Rtf2 is top channel of x.1.2ch, Ltf3 / Rtf3 is top channel of 3.1.2ch, and Ltf4 / Rtf4 is to channel of x.1.4ch (x = 5 or 7) and w(k) is determined from the value of wIdx(k).</p>
   </ul>
   <p>Initially, wIdx(0) = 0 and the value of wIdx(k) shall be derived as follows:</p>
   <ul>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="widx-k">wIdx(k)<a class="self-link" href="#widx-k"></a></dfn> = Clip3(0, 10, wIdx(k-1) + w_idx_offset(k))</p>
   </ul>
   <p>Mapping of wIdx(k) to w(k) should be as follows:</p>
<pre class="def">wIdx(k) :   w(k)
   0    :    0
   1    :  0.0179
   2    :  0.0391
   3    :  0.0658
   4    :  0.1038
   5    :  0.25
   6    :  0.3962
   7    :  0.4342
   8    :  0.4609
   9    :  0.4821
   10    : 0.5
</pre>
   <p>When D_set = { x | S1 &lt; x ≤ Si and x is an integer},</p>
   <ul>
    <li data-md>
     <p>If 2 is an element of D_set, the combination shall include <a data-link-type="dfn" href="#s1to2-de-mixer" id="ref-for-s1to2-de-mixer">S1to2 de-mixer</a>.</p>
    <li data-md>
     <p>If 3 is an element of D_set, the combination shall include <a data-link-type="dfn" href="#s2to3-de-mixer" id="ref-for-s2to3-de-mixer">S2to3 de-mixer</a>.</p>
    <li data-md>
     <p>If 5 is an element of D_set, the combination shall include <a data-link-type="dfn" href="#s3to5-de-mixer" id="ref-for-s3to5-de-mixer">S3to5 de-mixer</a>.</p>
    <li data-md>
     <p>If 7 is an element of D_set, the combination shall include <a data-link-type="dfn" href="#s5to7-de-mixer" id="ref-for-s5to7-de-mixer">S5to7 de-mixer</a>.</p>
   </ul>
   <p>When Ti = 2,</p>
   <ul>
    <li data-md>
     <p>If Sj = 3 (j=1,2,…, i-1), the combination shall include <a data-link-type="dfn" href="#tf2tot2-de-mixer" id="ref-for-tf2tot2-de-mixer">TF2toT2 de-mixer</a>.</p>
   </ul>
   <p>When Ti = 4,</p>
   <ul>
    <li data-md>
     <p>If Sj = 3 (j=1,2,…, i-1), the combination shall include <a data-link-type="dfn" href="#tf2tot2-de-mixer" id="ref-for-tf2tot2-de-mixer①">TF2toT2 de-mixer</a> and <a data-link-type="dfn" href="#t2to4-de-mixer" id="ref-for-t2to4-de-mixer">T2to4 de-mixer</a>.</p>
    <li data-md>
     <p>Elseif Tj = 2 (j=1,2,…, i-1), the combination shall include <a data-link-type="dfn" href="#t2to4-de-mixer" id="ref-for-t2to4-de-mixer①">T2to4 de-mixer</a>.</p>
   </ul>
   <p>For example, when CL #1 = 2ch, CL #2 = 3.1.2ch, CL #3 = 5.1.2ch and CL #4 = 7.1.4ch. To reconstruct the rest (i.e. Ls5/Rs5/Ltf/Rtf) of the down-mixed 5.1.2ch,</p>
   <ul>
    <li data-md>
     <p>The combination includes <a data-link-type="dfn" href="#s2to3-de-mixer" id="ref-for-s2to3-de-mixer①">S2to3 de-mixer</a>, <a data-link-type="dfn" href="#s3to5-de-mixer" id="ref-for-s3to5-de-mixer①">S3to5 de-mixer</a> and [=TF2toF2 de-mixer].</p>
    <li data-md>
     <p>Ls5 and Rs5 are recovered by S2to3 de-mixer and S3to5 de-mixer.</p>
    <li data-md>
     <p>Ltf and Rtf are recovered by S2to3 de-mixer and TF2toT2 de-mixer.</p>
   </ul>
<pre>Ls5 = 1/δ(k) × (L2 - 0.707 × C - L5) and Rs5 = 1/δ(k) × (R2 - 0.707 × C - R5).
Ltf = Ltf3 - w(k) x (L2 - 0.707 x C - L5) and Rtf = Rtf3 - w(k) x (R2 - 0.707 x C - R5).
</pre>
   <h4 class="heading settled" data-level="8.2.3" id="processing-scalablechannelaudio-recongain"><span class="secno">8.2.3. </span><span class="content">Recon Gain</span><a class="self-link" href="#processing-scalablechannelaudio-recongain"></a></h4>
   <p><a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain③">recon_gain</a> shall be only applied to all of audio samples of the de-mixed channels from De-mixer module.</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#recon_gain_info_parameter_data" id="ref-for-recon_gain_info_parameter_data④">recon_gain_info_parameter_data()</a> indicates each channel of CL #i which Recon_Gain needs to be applied to and provides Recon_Gain value for each frame of the channel.</p>
     <ul>
      <li data-md>
       <p>Sample (k,i) *= Smoothed_Recon_Gain (k,i), where k is the frame index and i is the sample index of the frame.</p>
      <li data-md>
       <p>Smoothed_Recon_Gain (k) = MA_gain (k-1) x e_window + MA_gain (k) x s_window</p>
      <li data-md>
       <p>MA_gain (k) = 2 / (N+1) x Recon_Gain (k) / 255 + (1 – 2/(N+1)) x MA_gain (k-1), where MA_gain (0) = 1.</p>
      <li data-md>
       <p>e_window[:ps – olen] = 1, e_window[ps – olen: ps] = hanning[olen:], e_window[ps:flen] = 0.</p>
      <li data-md>
       <p>s_window[:ps – olen] = 0, s_window[ps – olen: ps] = hanning[:olen], s_window[ps:flen] = 1.</p>
      <li data-md>
       <p>Where, hanning = np.hanning (2*olen), ps is the pre-skip value, flen is the frame size and olen is the overlap size.</p>
      <li data-md>
       <p>Recommend values: N = 7</p>
     </ul>
   </ul>
   <p>Below figure shows the smoothing scheme of <a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain④">recon_gain</a>.</p>
   <center><img height="200" src="images/Smoothing Scheme of Recon Gain.png" style="width:100%; height:auto;" width="800"></center>
   <center>
    <figcaption>Smoothing Scheme of Recon Gain</figcaption>
   </center>
   <p>Recommend values for specific codecs are as follows</p>
   <ul>
    <li data-md>
     <p>IAMF-OPUS: olen = 60, the pre-skip (ps) value is indicated in Codec_Specific_Info for IAMF-OPUS.</p>
    <li data-md>
     <p>IAMF-AAC-LC: olen = 64, ps = 720.</p>
   </ul>
   <h3 class="heading settled" data-level="8.3" id="processing-mixpresentation"><span class="secno">8.3. </span><span class="content">Mix Presentation</span><a class="self-link" href="#processing-mixpresentation"></a></h3>
   <p>An IA sequence may contain more than one mix presentation. <a href="#processing-mixpresentation-selection">§ 8.3.1 Selecting a Mix Presentation</a> details how a mix presentation should be selected from multiple of them.</p>
   <p>A mix presentation specifies how to render, process and mix one or more audio elements. Each audio element should first be individually rendered and processed before mixing. Then, any additional processing specified by <a data-link-type="dfn" href="#output_mix_config" id="ref-for-output_mix_config">output_mix_config()</a> should be applied to the mixed audio signal in order to generate the final output audio for playback. <a href="#processing-mixpresentation-rendering">§ 8.3.2 Rendering an Audio Element</a> details how each audio element should be rendered, while <a href="#processing-mixpresentation-mixing">§ 8.3.3 Mixing Audio Elements</a> details how the audio elements should be processed and mixed.</p>
   <h4 class="heading settled" data-level="8.3.1" id="processing-mixpresentation-selection"><span class="secno">8.3.1. </span><span class="content">Selecting a Mix Presentation</span><a class="self-link" href="#processing-mixpresentation-selection"></a></h4>
   <p>An IA sequence may contain more than one mix presentations. The IA parser should select the appropriate mix presentation in the following order.</p>
   <ol>
    <li data-md>
     <p>If there are any user-selectable mixes, the IA parser should select the mix, or mixes, that match the user’s preferences. An example might be a mix with a specific language. Mix presentations may use <a data-link-type="dfn" href="#mix_presentation_friendly_label" id="ref-for-mix_presentation_friendly_label">mix_presentation_friendly_label</a> to describe such mixes.</p>
    <li data-md>
     <p>If there are more than one valid mixes remaining, the IA parser should select an appropriate mix for rendering, in the following order.</p>
     <ol>
      <li data-md>
       <p>If the playback layout is binaural, i.e. headphones:</p>
       <ol>
        <li data-md>
         <p>Select the mix with <a data-link-type="dfn" href="#audio_element_id" id="ref-for-audio_element_id②">audio_element_id</a> whose <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout⑨">loudspeaker_layout</a> is BINAURAL.</p>
        <li data-md>
         <p>If there is no such mix, select the mix with the highest available <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout⑥">loudness_layout</a>.</p>
       </ol>
      <li data-md>
       <p>If the playback layout is loudspeakers:</p>
       <ol>
        <li data-md>
         <p>If there is a mix with an <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout⑦">loudness_layout</a> that matches the playback loudspeaker layout, it should be selected. If there are more than one matching mixes, the first one should be selected.</p>
        <li data-md>
         <p>If there is no such mix, select the mix presentation with the highest available <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout⑧">loudness_layout</a>.</p>
       </ol>
     </ol>
   </ol>
   <h4 class="heading settled" data-level="8.3.2" id="processing-mixpresentation-rendering"><span class="secno">8.3.2. </span><span class="content">Rendering an Audio Element</span><a class="self-link" href="#processing-mixpresentation-rendering"></a></h4>
   <p>This specification supports the rendering of either a multichannel or ambisonics audio element to either a target loudspeaker layout or a binaural output.</p>
   <p>In this section, for a given x.y.z layout, the next highest layout x'.y'.z' means that x', y' and z' are greater than or equal to x, y and z, respectively.</p>
   <table class="def">
    <tbody>
     <tr>
      <th><code>audio_element_type</code>
      <th>Playback layout
      <th>Section
     <tr>
      <td>CHANNEL_BASED
      <td>Loudspeakers
      <td><a href="#processing-mixpresentation-rendering-m2l">§ 8.3.2.1 Rendering a channel-based audio element to loudspeakers</a>
     <tr>
      <td>SCENE_BASED
      <td>Loudspeakers
      <td><a href="#processing-mixpresentation-rendering-a2l">§ 8.3.2.2 Rendering a scene-based audio element to loudspeakers</a>
     <tr>
      <td>CHANNEL_BASED
      <td>Binaural output
      <td><a href="#processing-mixpresentation-rendering-m2b">§ 8.3.2.3 Rendering a channel-based audio element to a binaural output</a>
     <tr>
      <td>SCENE_BASED
      <td>Binaural output
      <td><a href="#processing-mixpresentation-rendering-a2b">§ 8.3.2.4 Rendering a scene-based audio element to a binaural output</a>
   </table>
   <h5 class="heading settled" data-level="8.3.2.1" id="processing-mixpresentation-rendering-m2l"><span class="secno">8.3.2.1. </span><span class="content">Rendering a channel-based audio element to loudspeakers</span><a class="self-link" href="#processing-mixpresentation-rendering-m2l"></a></h5>
   <p>This section defines the renderer to use, given a channel-based audio element and a loudspeaker playback layout.</p>
   <ul>
    <li data-md>
     <p>The input layout of the IA renderer is set as follows:</p>
     <ul>
      <li data-md>
       <p>If <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①⑤">num_layers</a> = 1, use the <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①⓪">loudspeaker_layout</a> of the audio element.</p>
      <li data-md>
       <p>Else, if there is a <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout⑨">loudness_layout</a> that matches the playback layout, use it.</p>
      <li data-md>
       <p>Else, use the next highest available layout from all available <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①①">loudspeaker_layout</a> and <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①⓪">loudness_layout</a>.</p>
     </ul>
    <li data-md>
     <p>The output layout of the IA renderer is set to the playback layout.</p>
    <li data-md>
     <p>The IA renderer used is selected according to the following rules:</p>
     <ul>
      <li data-md>
       <p>If the playback layout matches a <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①②">loudspeaker_layout</a> which can be generated from the highest loudspeaker layout of the audio element according to <a href="#iamfgeneration-scalablechannelaudio-channellayoutgenerationrule">§ 9.2.3 Channel Layout Generation Rule</a>, use demixing_info_parameter_data().</p>
       <ul>
        <li data-md>
         <p>If demixing_info_parameter_data() is not delivered,</p>
         <ul>
          <li data-md>
           <p>If the playback layout complies with loudspeaker layouts supported by <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>, use EAR Direct Speakers renderer (<a data-link-type="biblio" href="#biblio-itu2127-0" title="Audio Definition Model renderer for advanced sound systems">[ITU2127-0]</a>).</p>
          <li data-md>
           <p>Else if the playback layout is 3.1.2ch, use the static down-mix matrices specified in <a href="#processing-downmixmatrix-static">§ 8.6.2 Static Down-mix Matrix</a>.</p>
          <li data-md>
           <p>Else, use implementation-specific renderer</p>
         </ul>
       </ul>
      <li data-md>
       <p>Else if the playback layout complies with loudspeaker layouts supported by <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>, use EAR Direct Speakers renderer (<a data-link-type="biblio" href="#biblio-itu2127-0" title="Audio Definition Model renderer for advanced sound systems">[ITU2127-0]</a>).</p>
      <li data-md>
       <p>Else if the playback layout is 3.1.2ch, use the static down-mix matrices specified in <a href="#processing-downmixmatrix-static">§ 8.6.2 Static Down-mix Matrix</a>.</p>
      <li data-md>
       <p>Else, use implementation-specific renderer.</p>
     </ul>
   </ul>
   <p>If the EAR Direct Speakers renderer is used, the following should be provided for each audio channel of the audio element:</p>
   <ul>
    <li data-md>
     <p>speaker label: the label of the speaker position, using the same convention as "SP Label" in <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>. This is defined for each audio channel of the audio element based on the information from <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①③">loudspeaker_layouts</a>.</p>
   </ul>
   <p>In <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>, an LFE audio channel may be identified either by an explicit label or its frequency content. In this specification, the LFE channel is identified based on the explicit label only, given by <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①④">loudspeaker_layout</a>.</p>
   <h5 class="heading settled" data-level="8.3.2.2" id="processing-mixpresentation-rendering-a2l"><span class="secno">8.3.2.2. </span><span class="content">Rendering a scene-based audio element to loudspeakers</span><a class="self-link" href="#processing-mixpresentation-rendering-a2l"></a></h5>
   <p>This section defines the renderer to use, given a scene-based audio element and a loudspeaker playback layout.</p>
   <ul>
    <li data-md>
     <p>The input layout of the IA renderer is set to Ambisonics.</p>
    <li data-md>
     <p>The output layout of the IA renderer is set to the playback layout.</p>
    <li data-md>
     <p>The IA renderer used is selected according to the following rules:</p>
     <ul>
      <li data-md>
       <p>If the playback layout complies with loudspeaker layouts supported by <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a>, use EAR HOA renderer (<a data-link-type="biblio" href="#biblio-itu2127-0" title="Audio Definition Model renderer for advanced sound systems">[ITU2127-0]</a>).</p>
      <li data-md>
       <p>Else, use implementation-specific renderer.</p>
       <ul>
        <li data-md>
         <p>If there is no implementation-specific Ambisonics renderer, use the EAR HOA renderer to render to the next highest <a data-link-type="biblio" href="#biblio-itu2051-3" title="Advance sound system for programme production">[ITU2051-3]</a> layout compared to the playback layout, and then downmix using implementation-specific renderer.</p>
       </ul>
     </ul>
   </ul>
   <p>If the EAR HOA renderer is used, the following metadata should be provided to the renderer for each audio channel:</p>
   <ol>
    <li data-md>
     <p>Ambisonics order</p>
    <li data-md>
     <p>Ambisonics degree</p>
    <li data-md>
     <p>Ambisonics normalization method</p>
   </ol>
   <p>In this specification, the <a data-link-type="biblio" href="#biblio-ambix" title="AMBIX - A SUGGESTED AMBISONICS FORMAT">[AmbiX]</a> format is adopted, which uses SN3D normalization and ACN channel ordering. Accordingly, the Ambisonics order and degree can be computed from the channel index <code>k</code> as follows:</p>
<pre>order   n = floor(sqrt(k)),
degree  m = k - n * (n + 1).
</pre>
   <h5 class="heading settled" data-level="8.3.2.3" id="processing-mixpresentation-rendering-m2b"><span class="secno">8.3.2.3. </span><span class="content">Rendering a channel-based audio element to a binaural output</span><a class="self-link" href="#processing-mixpresentation-rendering-m2b"></a></h5>
   <p>Given a channel-based audio element and a binaural playback layout, the Binaural EBU ADM Direct Speaker renderer <a data-link-type="biblio" href="#biblio-bear" title="Developing a Binaural Renderer for Audio Definition Model Content">[BEAR]</a> should be used. The highest layout provided in <a data-link-type="dfn" href="#scalable_channel_layout_config" id="ref-for-scalable_channel_layout_config②">scalable_channel_layout_config()</a> should be used as the input to the renderer.</p>
   <h5 class="heading settled" data-level="8.3.2.4" id="processing-mixpresentation-rendering-a2b"><span class="secno">8.3.2.4. </span><span class="content">Rendering a scene-based audio element to a binaural output</span><a class="self-link" href="#processing-mixpresentation-rendering-a2b"></a></h5>
   <p>Given a scene-based audio element and a binaural playback system, the Resonance Audio renderer <a data-link-type="biblio" href="#biblio-resonance-audio" title="Efficient Encoding and Decoding of Binaural Sound with Resonance Audio">[Resonance-Audio]</a> should be used.</p>
   <h4 class="heading settled" data-level="8.3.3" id="processing-mixpresentation-mixing"><span class="secno">8.3.3. </span><span class="content">Mixing Audio Elements</span><a class="self-link" href="#processing-mixpresentation-mixing"></a></h4>
   <p>Each audio element is processed individually before mixing as follows:</p>
   <ol>
    <li data-md>
     <p>Render to the playback layout.</p>
    <li data-md>
     <p>If all audio elements do not have a common sample rate, re-sample to 48 kHz.</p>
    <li data-md>
     <p>If all audio elements do not have a common bit-depth, convert to a common bit-depth. This specification recommends using 16 bits.</p>
    <li data-md>
     <p>If <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①①">loudness_layout</a> matches with the playback layout, apply any per-element processing according to <a data-link-type="dfn" href="#element_mix_config" id="ref-for-element_mix_config①">element_mix_config()</a>.</p>
   </ol>
   <p>The rendered and processed audio elements are then summed, and then apply <a data-link-type="dfn" href="#output_mix_config" id="ref-for-output_mix_config①">output_mix_config()</a> to generate one sub-mixed audio signal. If there are more than one sub-mixes, the output of each sub-mix is further summed to generate the final mixed audio signal.</p>
   <h3 class="heading settled" data-level="8.4" id="processing-animated-params"><span class="secno">8.4. </span><span class="content">Animated Parameters</span><a class="self-link" href="#processing-animated-params"></a></h3>
   <p>This section describes how a set of parameters is animated over a subblock in a parameter block and applied to the corresponding audio samples, using the information provided in <a data-link-type="dfn" href="#animatedparameterdata" id="ref-for-animatedparameterdata①">AnimatedParameterData()</a>.</p>
   <p>If <a data-link-type="dfn" href="#animation_type" id="ref-for-animation_type①">animation_type</a> is equal to STEP, the parameter value provided by <a data-link-type="dfn" href="#start_point_value" id="ref-for-start_point_value">start_point_value</a> should be applied to all time steps in the subblock.</p>
   <p>If <a data-link-type="dfn" href="#animation_type" id="ref-for-animation_type②">animation_type</a> is equal to LINEAR or BEZIER, the information provided in <a data-link-type="dfn" href="#animatedparameterdata" id="ref-for-animatedparameterdata②">AnimatedParameterData()</a> describes how the parameter is animated as a Bezier curve. Let <code>T</code> be the subblock duration defined in the parameter_block_obu() and <code>P0</code>, <code>P1</code> and <code>P2</code> be 2D coordinates defined as</p>
<pre>P0 = (t0, start_point_value),
P1 = (t1, control_point_value),
P2 = (t2, end_point_value),
</pre>
   <p>where <code>t0 = 0</code> is the subblock start time, <code>t2 = D</code> is the subblock end time and <code>t1</code> is the control point time given by</p>
<pre>t1 = round(D * control_point_relative_time).
</pre>
   <p>The values of <code>t0</code>, <code>t1</code> and <code>t2</code> are expressed as ticks at the <a data-link-type="dfn" href="#parameter_rate" id="ref-for-parameter_rate②">parameter_rate</a> given in the associated parameter definition.</p>
   <p>If <a data-link-type="dfn" href="#animation_type" id="ref-for-animation_type③">animation_type</a> is equal to LINEAR, the parameter value is linearly interpolated between <a data-link-type="dfn" href="#start_point_value" id="ref-for-start_point_value①">start_point_value</a> and <a data-link-type="dfn" href="#end_point_value" id="ref-for-end_point_value">end_point_value</a> at a given point in time as:</p>
<pre>B_linear(a) = (1 - a) * P0 + a * P2,
0 &lt;= a &lt;= 1,
</pre>
   <p>where <code>B_linear(a) = (t, y)</code> is a 2D coordinate with the parameter value <code>y</code> at time <code>t</code>.</p>
   <p>If <a data-link-type="dfn" href="#animation_type" id="ref-for-animation_type④">animation_type</a> is equal to BEZIER, the parameter value is interpolated following a quadratic Bezier curve between <a data-link-type="dfn" href="#start_point_value" id="ref-for-start_point_value②">start_point_value</a> and <a data-link-type="dfn" href="#end_point_value" id="ref-for-end_point_value①">end_point_value</a> at a given point in time as:</p>
<pre>B_quad(a) = (1 - a)^2 * P0 + 2 * (1 - a) * a * P1 + a^2 * P2,
0 &lt;= a &lt;= 1.
</pre>
   <p>where <code>B_quad(a) = (t, y)</code> is a 2D coordinate with parameter value <code>y</code> at time <code>t</code>.</p>
   <p>To apply the parameter values to the audio samples in the subblock without interpolation, the <a data-link-type="dfn" href="#parameter_rate" id="ref-for-parameter_rate③">parameter_rate</a> is first resampled to the audio sample rate to give:</p>
<pre>n0 = t0 * audio_sample_rate / parameter_rate,
n1 = t1 * audio_sample_rate / parameter_rate,
n2 = t2 * audio_sample_rate / parameter_rate.
</pre>
   <p>Then, <code>P0</code>, <code>P1</code>, <code>P2</code> can be rewritten as:</p>
<pre>P0 = (n0, start_point_value),
P1 = (n1, control_point_value),
P2 = (n2, end_point_value).
</pre>
   <p>Next, the parameter value <code>y</code> is computed for each time <code>t</code> that corresponds to an integer audio sample index, <code>t = n = [0, 1, 2, ..., n2]</code>. This is done by computing the equivalent value of <code>a</code> for every <code>n</code>, and then applying the Bezier equations <code>B_linear(a)</code> and <code>B_quad(a)</code> to find the parameter value <code>y</code>.</p>
   <p>In the case of <code>B_linear(a)</code>, the mapping between <code>n</code> and <code>a</code> is given by:</p>
<pre>a = n ÷ n2.
</pre>
   <p>In the case of <code>B_quad(a)</code>, the mapping between <code>n</code> and <code>a</code> is given by:</p>
<pre>a = -beta + sqrt((beta^2) - (4 * alpha * gamma)) ÷ (2 * alpha),
</pre>
   <p>where</p>
<pre>alpha = n0 - 2 * n1 + n2,
beta = 2 * (n1 - n0),
gamma = n0 - n.
</pre>
   <h3 class="heading settled" data-level="8.5" id="processing-post"><span class="secno">8.5. </span><span class="content">Post Processing</span><a class="self-link" href="#processing-post"></a></h3>
   <h4 class="heading settled" data-level="8.5.1" id="processing-post-loudness"><span class="secno">8.5.1. </span><span class="content">Loudness Normalization</span><a class="self-link" href="#processing-post-loudness"></a></h4>
   <p>Loudness normalization should be done by adjusting the loudness level to a target value, using the integrated loudness and true peak information provided in loudness_info(). If the true peak information is not available, the digital peak information should be used.</p>
   <p>The rendered layouts that was used to measure the loudness information of a sub-mix are provided by <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①②">loudness_layout</a>s.</p>
   <p>If one of them matches the playback layout, the loudness information should be used directly for normalization. If there is a mismatch between <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①③">loudness_layout</a> and the playback layout, the implementation may choose to use the provided loudness information of the highest <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①④">loudness_layout</a> as-is.</p>
   <p>If there is more than one selected loudness_info() specified in the mix presentation (i.e. in case of multiple sub-mixes), the implementation should normalize the loudness of each sub-mix independently before summing them.</p>
   <h4 class="heading settled" data-level="8.5.2" id="processing-post-limiter"><span class="secno">8.5.2. </span><span class="content">Limiter</span><a class="self-link" href="#processing-post-limiter"></a></h4>
   <p>The limiter should limit the true peak of audio signal at -1 dBTP, where true peak is defined in <a data-link-type="biblio" href="#biblio-itu1770-4" title="Algorithms to measure audio programme loudness and true-peak audio level">[ITU1770-4]</a>. The limiter should apply to multichannel signals in a linked manner and further support auto-release.</p>
   <h3 class="heading settled" data-level="8.6" id="processing-downmixmatrix"><span class="secno">8.6. </span><span class="content">Down-mix Matrix</span><a class="self-link" href="#processing-downmixmatrix"></a></h3>
   <h4 class="heading settled" data-level="8.6.1" id="processing-downmixmatrix-dynamic"><span class="secno">8.6.1. </span><span class="content">Dynamic Down-mix Matrix</span><a class="self-link" href="#processing-downmixmatrix-dynamic"></a></h4>
   <p>This section recommends dynamic down-mixing matrices.</p>
   <p>The dynamic down-mixing matrics complies with the down-mixing mechanism which is specified in <a href="#iamfgeneration-scalablechannelaudio-downmixmechanism">§ 9.2.2 Down-mix Mechanism</a>.</p>
   <h4 class="heading settled" data-level="8.6.2" id="processing-downmixmatrix-static"><span class="secno">8.6.2. </span><span class="content">Static Down-mix Matrix</span><a class="self-link" href="#processing-downmixmatrix-static"></a></h4>
   <p>This section specifies static down-mix matrices to render to 3.1.2ch from each of 5.1.2ch, 5.1.4ch, 7.1.2ch and 7.1.4ch.</p>
   <p>The figures below show static down-mix matrices to 3.1.2ch.</p>
   <center><img height="359" src="images/3.1.2ch Down-mix Matrix for 5.1.2ch.png" style="width:80%; height:auto;" width="774"></center>
   <center>
    <figcaption>3.1.2ch Down-mix matrix for 5.1.2ch</figcaption>
   </center>
   <center><img height="452" src="images/3.1.2ch Down-mix Matrix for 5.1.4ch.png" style="width:80%; height:auto;" width="872"></center>
   <center>
    <figcaption>3.1.2ch Down-mix matrix for 5.1.4ch</figcaption>
   </center>
   <center><img height="446" src="images/3.1.2ch Down-mix Matrix for 7.1.2ch.png" style="width:100%; height:auto;" width="1137"></center>
   <center>
    <figcaption>3.1.2ch Down-mix matrix for 7.1.2ch</figcaption>
   </center>
   <center><img height="539" src="images/3.1.2ch Down-mix Matrix for 7.1.4ch.png" style="width:100%; height:auto;" width="1277"></center>
   <center>
    <figcaption>3.1.2ch Down-mix matrix for 7.1.4ch</figcaption>
   </center>
   <p>Where, p1 = 0.707. Implementations may use limiter defined in <a href="#processing-post-limiter">§ 8.5.2 Limiter</a> to preserve energy of audio signals instead of normalization factors.</p>
   <h2 class="heading settled" data-level="9" id="iamfgeneration"><span class="secno">9. </span><span class="content">IAMF Generation Process</span><a class="self-link" href="#iamfgeneration"></a></h2>
   <p>This section provides a guideline for IA encoding for a given input audio format.</p>
   <p>Recommended input audio format for IA encoding is as follows:</p>
   <ul>
    <li data-md>
     <p>Ambisonics format: It shall conform to <a data-link-type="dfn" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408280③">ChannelMappingFamily</a> = 2 or 3 of <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a>.</p>
    <li data-md>
     <p>Channel Audio format: It shall conform to <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①⑤">loudspeaker_layout</a> specified in channel_audio_layer_config().</p>
    <li data-md>
     <p>Input Sampling Rate: 48000Hz</p>
    <li data-md>
     <p>Bitdepth: 16 bits or 24 bits</p>
     <ul>
      <li data-md>
       <p>16 bits are recommended for IAMF-OPUS.</p>
     </ul>
    <li data-md>
     <p>Input file format: .wav file (Linear PCM, simply called as PCM)</p>
   </ul>
   <p>For a given input audio and user inputs, IA encoder shall output <a data-link-type="dfn" href="#ia-sequence" id="ref-for-ia-sequence①">IA sequence</a> which conforms to <a href="#obu-syntax">§ 3 Open Bitstream Unit (OBU) Syntax and Semantics</a>.</p>
   <p>Input audio shall be one of followings:</p>
   <ul>
    <li data-md>
     <p>Ambisonics format</p>
    <li data-md>
     <p>Channel Audio format</p>
   </ul>
   <p>User inputs are:</p>
   <ul>
    <li data-md>
     <p>Ambisonics mode to indicate if <a data-link-type="dfn" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408281②">ChannelMappingFamily</a> = 2 or 3 of <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a>.</p>
    <li data-md>
     <p>List of channel layouts to be supported for scalable channel audio: it conforms to <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①⑥">loudspeaker_layout</a>.</p>
     <ul>
      <li data-md>
       <p>For a given input audio with Channel Audio format, if the input audio has height channels (e.g 7.1.4ch), each of the list of channel layouts should have height channels (i.e it should be higher than or equal to 3.1.2ch).</p>
       <ul>
        <li data-md>
         <p>Examples for recommended list of channel layouts: 3.1.2ch/5.1.2ch, 3.1.2ch/5.1.2ch/7.1.4ch, 5.1.2ch/7.1.4ch etc..</p>
        <li data-md>
         <p>Examples for not-recommended list of channel layouts: 2ch/3.1.2ch/5.1.2ch, 2ch/3.1.2ch/5.1.2ch/7.1.4ch, 2ch/5.1.2ch/7.1.4ch, 2ch/7.1.4ch etc..</p>
       </ul>
     </ul>
   </ul>
   <p class="note" role="note"><span class="marker">NOTE:</span> Contents providers may be satisfied with the down-mixed audio having no height channels even though the down-mix mechanism, specified in <a href="#iamfgeneration-scalablechannelaudio-downmixmechanism">§ 9.2.2 Down-mix Mechanism</a>, drops height channels when it does down-mix from input channel audio with height channels to surround channels for example from 7.14ch to Mono, Stereo, 5.1ch or 7.1ch. In that case, encoder may generate a scalable audio with the down-mixed audio without having height channels from the input channel audio with height channels. In other words, this specification does not disallow for scalable audios to have a down-mixed audio without having height channels from input channel audio having height channels.</p>
   <p>IA encoding can be done by using the combination of following generation processing.</p>
   <ul>
    <li data-md>
     <p>Encoding of an audio element (Ambisonics encoding or Scalable Channel Audio encoding)</p>
    <li data-md>
     <p>Encoding of mix presentation</p>
   </ul>
   <p>The below figure shows IA encoder configuration for one single audio element.</p>
   <p>The IA encoder is composed of Pre-processor, Codec encoder and OBU packetizer.</p>
   <ul>
    <li data-md>
     <p>Pre-processor outputs one or more ChannelGroups, descriptors and optional parameter blocks based on the input audios and user inputs.</p>
     <ul>
      <li data-md>
       <p>It outputs one single ChannelGroup for scene-based audio element.</p>
      <li data-md>
       <p>It outputs one or more ChannelGroups for channel-based audio element.</p>
      <li data-md>
       <p>It outputs descriptors which are composed of one Magic Code, one Codec Config, one Audio Element config, one or more Mix Presentation config.</p>
      <li data-md>
       <p>It may output parameter blocks</p>
       <ul>
        <li data-md>
         <p>For channel-based audio element with <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①⑥">num_layers</a> = 1, it may output parameter blocks for demixing info.</p>
        <li data-md>
         <p>For channel-based audio element with <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①⑦">num_layers</a> > 1, it outputs parameter blocks for demixing_info_parameter_data and recon_gain_info_parameter_data.</p>
        <li data-md>
         <p>It may further output parameter blocks for mixing gain.</p>
       </ul>
     </ul>
    <li data-md>
     <p>Codec encoder generates one or more substreams from each ChannelGroup based on Codec Config.</p>
     <ul>
      <li data-md>
       <p>Mono or stereo coding shall be only allowed.</p>
       <ul>
        <li data-md>
         <p>Channel Audio format: each pair of coupled channels in the same ChannelGroup shall be coded as stereo mode to generate one single substream and each of non-coupled channels in the same ChannelGroup shall be coded as mono mode to generate one single substream.</p>
         <ul>
          <li data-md>
           <p><dfn data-dfn-type="dfn" data-noexport id="coupled-channels">Coupled channels<a class="self-link" href="#coupled-channels"></a></dfn>: L/R, Ls/Rs, Lss/Rss, Lrs/Rrs, Ltf/Rtf, Ltb/Rtb</p>
          <li data-md>
           <dnf>Non-coupled channels: C, LFE, L </dnf>
         </ul>
       </ul>
     </ul>
    <li data-md>
     <p>OBU packetizer packetize descriptors, sync information, parameter blocks and audio frames by OBU, and outputs IA sequence.</p>
     <ul>
      <li data-md>
       <p>Temporal unit generator generates temporal unit for each frame from audio frame OBUs and parameter block OBUs (if present).</p>
     </ul>
   </ul>
   <center><img height="594" src="images/IA Encoder Configuration.png" style="width:100%; height:auto;" width="1744"></center>
   <center>
    <figcaption>IA Encoder Configuration</figcaption>
   </center>
   <p>The order of substreams in each ChannelGroup shall be as follows:</p>
   <ul>
    <li data-md>
     <p>In ChannelGroup for Ambisonics: The order shall conform to <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a>.</p>
    <li data-md>
     <p>In ChannelGroup for Scalable Channel Audio: The order shall conform to following rules:</p>
     <ul>
      <li data-md>
       <p>Coupled Substreams comes first and followed by non-coupled Substreams.</p>
      <li data-md>
       <p>Coupled Substreams for surround channels comes first and followed by one(s) for top channels.</p>
      <li data-md>
       <p>Coupled Substreams for front channels comes first and followed by one(s) for side, rear and back channels.</p>
      <li data-md>
       <p>Coupled Substreams for side channels comes first and followed by one(s) for rear channels.</p>
      <li data-md>
       <p>Center channel comes first and followed by LFE and followed by the other one.</p>
      <li data-md>
       <p>Where, <dfn data-dfn-type="dfn" data-noexport id="non-coupled-substream">non-coupled substream<a class="self-link" href="#non-coupled-substream"></a></dfn> is a coded substream from one of non-coupled channels.</p>
     </ul>
   </ul>
   <h3 class="heading settled" data-level="9.1" id="iamfgeneration-ambisonics"><span class="secno">9.1. </span><span class="content">Ambisonics Encoding</span><a class="self-link" href="#iamfgeneration-ambisonics"></a></h3>
   <p>For Ambisonics encoding:</p>
   <ul>
    <li data-md>
     <p>Pre-processor outputs one ChannelGroup and descriptors and it is only composed of Meta Generator.</p>
     <ul>
      <li data-md>
       <p>Meta generator generates descriptors based on Ambisonics mode and the number of channels for Ambisonics.</p>
       <ul>
        <li data-md>
         <p><a data-link-type="dfn" href="#ambisonics_mode" id="ref-for-ambisonics_mode②">ambisonics_mode</a> shall be set to 0 for <a data-link-type="dfn" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408280④">ChannelMappingFamily</a> = 2 of <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a> or 1 for <a data-link-type="dfn" href="https://opus-codec.org/docs/opus_in_isobmff.html#" id="c1e408281③">ChannelMappingFamily</a> = 3 of <a data-link-type="biblio" href="#biblio-rfc8486" title="Ambisonics in an Ogg Opus Container">[RFC8486]</a>.</p>
        <li data-md>
         <p>ambisonics_config is set to as follows:</p>
         <ul>
          <li data-md>
           <p><a data-link-type="dfn" href="#output_channel_count" id="ref-for-output_channel_count③">output_channel_count</a>, <a data-link-type="dfn" href="#substream_count" id="ref-for-substream_count①">substream_count</a> and <a data-link-type="dfn" href="#coupled_substream_count" id="ref-for-coupled_substream_count①">coupled_substream_count</a> shall be set to the number of channels for Ambisonics.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="#channel_mapping" id="ref-for-channel_mapping①">channel_mapping</a> for <a data-link-type="dfn" href="#ambisonics_mode" id="ref-for-ambisonics_mode③">ambisonics_mode</a> = 0 is assigned to according to the order of substreams in ChannelGroup.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="#demixing_matrix" id="ref-for-demixing_matrix①">demixing_matrix</a> for <a data-link-type="dfn" href="#ambisonics_mode" id="ref-for-ambisonics_mode④">ambisonics_mode</a> = 1 is assigned to according to the order of substreams in ChannelGroup.</p>
         </ul>
       </ul>
     </ul>
    <li data-md>
     <p>Codec Enc. outputs substreams as many as the number of channels which is indicated in <a data-link-type="dfn" href="#substream_count" id="ref-for-substream_count②">substream_count</a>.</p>
    <li data-md>
     <p>Temporal unit shall be composed of audio frame OBUs for substreams.</p>
     <ul>
      <li data-md>
       <p>It may have the immediately preceding temporal delimiter OBU.</p>
      <li data-md>
       <p>The order of substreams in ChannelGroup shall be aligned with <a data-link-type="dfn" href="#channel_mapping" id="ref-for-channel_mapping②">channel_mapping</a> for Ambisonics_Mode = 0 or <a data-link-type="dfn" href="#demixing_matrix" id="ref-for-demixing_matrix②">demixing_matrix</a> for Ambisonics_Mode = 1.</p>
     </ul>
   </ul>
   <h3 class="heading settled" data-level="9.2" id="iamfgeneration-scalablechannelaudio"><span class="secno">9.2. </span><span class="content">Scalable Channel Audio Encoding</span><a class="self-link" href="#iamfgeneration-scalablechannelaudio"></a></h3>
   <p>For Scalable Channel Audio encoding:</p>
   <ul>
    <li data-md>
     <p>Pre-processor outputs one or more ChannelGroups, descriptors and parameter blocks. It is composed of Down-mix parameter generator, Down-mixer, Loudness, ChannelGroup generator, Attenuation and Meta generator.</p>
     <ul>
      <li data-md>
       <p>For non-scalable channel audio (i.e. <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①⑧">num_layers</a> = 1):</p>
       <ul>
        <li data-md>
         <p>Parameter blocks for recon_gain_info_parameter_data is not be generated.</p>
        <li data-md>
         <p>Parameter blocks for demixing_info_parameter_data may be generated by implementers who assume it to be recommended for dynamic downmixing in a decoder side.</p>
        <li data-md>
         <p>Down-mixer, ChannelGroup generator and Attenuation modules do not needed.</p>
       </ul>
      <li data-md>
       <p>Down-mix parameter generator shall generate 5 down-mix parameters (α(k), β(k), γ(k), δ(k) and w(k)) by analyzing input channel audio.</p>
      <li data-md>
       <p>Down-mixer shall generate down-mixed audios according to the list of channel layouts and the down-mix parameters.</p>
      <li data-md>
       <p>Loudness module should output the loudness level (<a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf#" id="006211a60①">LKFS</a>) of each down-mixed audio based on <a data-link-type="biblio" href="#biblio-itu1770-4" title="Algorithms to measure audio programme loudness and true-peak audio level">[ITU1770-4]</a>.</p>
      <li data-md>
       <p>ChannelGroup generator shall transform the input channel audio to ChannelGroups for scalable channel audio with <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers①⑨">num_layers</a> > 1 scalability by using the down-mix parameters and the list of channel layouts.</p>
      <li data-md>
       <p>Attenuation module shall apply a gain to the transformed ChannelGroups to prevent clipping.</p>
      <li data-md>
       <p>Meta generator generates descriptors and parameter block(s) for each frame.</p>
       <ul>
        <li data-md>
         <p>descriptors shall be set to as follows:</p>
         <ul>
          <li data-md>
           <p><a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②⓪">num_layers</a> shall be set to the number of channel layouts.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="#channel_audio_layer_config" id="ref-for-channel_audio_layer_config②">channel_audio_layer_config()</a> shall be set to as follows:</p>
           <ul>
            <li data-md>
             <p><a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①⑦">loudspeaker_layout</a> shall be set to the ith list of channel layouts for the ith ChannelGroup.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="#output_gain_is_present_flag" id="ref-for-output_gain_is_present_flag">output_gain_is_present_flag</a> shall set to 1 for the ith ChannelGroup if attenuation is applied to the mixed channels of the ith ChannelGroup. Otherwise it shall be set to 0 for the ith ChannelGroup.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="#recon_gain_is_present_flag" id="ref-for-recon_gain_is_present_flag">recon_gain_is_present_flag</a> shall be set to 1 for the ith ChannelGroup if the preceding ChannelGroups has one or more mixed channels from the down-mixed audio for the ith channel layout. Otherwise, it shall be set to 0 for the ith ChannelGroup. Especially, when <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②①">num_layers</a> = 1, this flag shall be set to 0.</p>
             <ul>
              <li data-md>
               <p>This flag shall be set to 0 for lossless codecs including IAMF-LPCM.</p>
             </ul>
            <li data-md>
             <p><a data-link-type="dfn" href="#substream_count" id="ref-for-substream_count③">substream_count</a> shall be set to the number of substreams composing of the ith ChannelGroup.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="#coupled_substream_count" id="ref-for-coupled_substream_count②">coupled_substream_count</a> shall be set to the number of coupled substreams among the substreams composing of the ith ChannelGroup.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="#loudness" id="ref-for-loudness">loudness</a> shall be set to the loudness (<a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf#" id="006211a61">LKFS</a>) of the down-mixed audio for the ith channel layout for the ith ChannelGroup.</p>
            <li data-md>
             <p>Each bit of <a data-link-type="dfn" href="#output_gain_flags" id="ref-for-output_gain_flags">output_gain_flags</a> shall be set to 1 for the ith ChannelGroup if attenuation is applied to the relevant channel of the ith ChannelGroup. Otherwise it shall be set to 0 for the ith ChannelGroup.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="#output_gain" id="ref-for-output_gain">output_gain</a> shall be set to the inverse number of the gain which is applied to the channels which are indicated by output_gain_flags.</p>
           </ul>
         </ul>
        <li data-md>
         <p>Parameter blocks can be composed of <a data-link-type="dfn" href="#demixing_info_parameter_data" id="ref-for-demixing_info_parameter_data⑤">demixing_info_parameter_data()</a> and <a data-link-type="dfn" href="#recon_gain_info_parameter_data" id="ref-for-recon_gain_info_parameter_data⑤">recon_gain_info_parameter_data()</a>. When <a data-link-type="dfn" href="#recon_gain_is_present_flag" id="ref-for-recon_gain_is_present_flag①">recon_gain_is_present_flag</a> = 0 for all ChannelGroup, recon_gain_info shall not present in IA sequence.</p>
         <ul>
          <li data-md>
           <p><a data-link-type="dfn" href="#dmixp_mode" id="ref-for-dmixp_mode">dmixp_mode</a> of demixing_info_parameter_data for the kth frame shall be set to indicate (α(k), β(k), γ(k), δ(k)) and w_idx_offset(k). Where w_idx_offset(k) = 1 or -1.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="#recon_gain_flags" id="ref-for-recon_gain_flags②">recon_gain_flags</a> of recon_gain_info_parameter_data shall be set to indicate the de-mixed channels, which need to apply <a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain⑤">recon_gain</a> among the output channels after demixing for ith channel layout.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain⑥">recon_gain</a> shall be set to the gain value to be applied to the channel which is indicated by recon_gain_flags for the ith ChannelGroup.</p>
         </ul>
       </ul>
     </ul>
    <li data-md>
     <p>Temporal unit for kth frame shall be composed of audio frame OBUs for the kth frames of the substreams and followed by OBUs for zero or more parameter block OBUs.</p>
     <ul>
      <li data-md>
       <p>It may have the immediately preceding temporal delimiter OBU,</p>
      <li data-md>
       <p>ChannelGroups in temporal unit shall be placed in order. In other words, ChannelGroup for the first channel layout shall come first, followed by ChannelGroup for the second channel layout, followed by ChannelGroup for the third channel layout and so on.</p>
     </ul>
   </ul>
   <p>Below figure shows IA encoding flowchart for Scalable Channel Audio.</p>
   <ul>
    <li data-md>
     <p>For a given Channel Audio and a given list of channel layouts for scalability, PCMs for Channel Audio are passed to CG Generation module.</p>
    <li data-md>
     <p>CG Generation module generates the transformed audio according to CG generation rule based on the list of CLs and the down-mix parameters.</p>
     <ul>
      <li data-md>
       <p>The transformed audio is structured as ChannelGroups.</p>
     </ul>
    <li data-md>
     <p>Non-mixed channels of the transformed audio (i.e., the original channels of the input channel audio) are directly input to Codec encoder, but the mixed channels may be input first to Attenuation module and then to Codec encoder.</p>
    <li data-md>
     <p>The Attenuation module reduces all sample values of the mixed channels in the same CG at a uniform rate (Output_Gain).</p>
     <ul>
      <li data-md>
       <p>A range of 0dB to -6dB is recommended for the attenuation. (i.e. a range of 0dB to 6dB for Output_Gain)</p>
     </ul>
    <li data-md>
     <p>Codec Enc. generates the coded substreams from PCMs and passes substreams and one single decoder_config to OBU Packetizer.</p>
    <li data-md>
     <p>OBU packetizer generates descriptor OBUs which consists of one Magic Code OBU, one Codec Config OBU, one Audio Element OBU and zero or more Mix Presentation OBU.</p>
     <ul>
      <li data-md>
       <p>Codec Config OBU is generated based on <a data-link-type="dfn" href="#decoder_config" id="ref-for-decoder_config⑥">decoder_config()</a>.</p>
     </ul>
    <li data-md>
     <p>OBU packetizer generates zero or more parameter block OBUs for each frame which contains demixing_info_parameter_data and recon_gain_info_parameter_data.</p>
    <li data-md>
     <p>OBU packetizer generates audio frame OBUs for each frame of the substreams.</p>
    <li data-md>
     <p>OBU packetizer generates temporal unit for each frame.</p>
     <ul>
      <li data-md>
       <p>Temporal unit consists of audio frame OBUs and followed by zero or more parameter block OBUs.</p>
       <ul>
        <li data-md>
         <p>It may have the immediately preceding temporal delimiter OBU,</p>
       </ul>
     </ul>
    <li data-md>
     <p>OBU Packetizer outputs IA sequence which is composed of OBUs for descriptor OBUs, followed by sync OBU and followed by OBUs for temporal units.</p>
   </ul>
   <center><img height="551" src="images/IA Encoding Flowchart for Channel Audio Format.png" style="width:80%; height:auto;" width="800"></center>
   <center>
    <figcaption>IA Encoding Flowchart for Scalable Channel Audio</figcaption>
   </center>
   <p>Following sections, <a href="#iamfgeneration-scalablechannelaudio-downmixparameter">§ 9.2.1 Down-mix parameter and Loudness</a>, <a href="#iamfgeneration-scalablechannelaudio-downmixmechanism">§ 9.2.2 Down-mix Mechanism</a>, <a href="#iamfgeneration-scalablechannelaudio-channellayoutgenerationrule">§ 9.2.3 Channel Layout Generation Rule</a>, <a href="#iamfgeneration-scalablechannelaudio-recongaingeneration">§ 9.2.4 Recon Gain Generation</a> and <a href="#iamfgeneration-scalablechannelaudio-channelgroupgenerationrule">§ 9.2.5 ChannelGroup Generation Rule</a> do not needed for non-scalable channel audio (i.e., when <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②②">num_layers</a> specified in <a data-link-type="dfn" href="#scalable_channel_layout_config" id="ref-for-scalable_channel_layout_config③">scalable_channel_layout_config()</a> is set to 1).</p>
   <h4 class="heading settled" data-level="9.2.1" id="iamfgeneration-scalablechannelaudio-downmixparameter"><span class="secno">9.2.1. </span><span class="content">Down-mix parameter and Loudness</span><a class="self-link" href="#iamfgeneration-scalablechannelaudio-downmixparameter"></a></h4>
   <p>This section describes how to generate down-mix parameters and loudness level for a given channel audio and a given list of channel layouts for scalability.</p>
   <p>Below figure shows a block diagram for down-mix parameter and loudness module including down-mixer.</p>
   <center><img height="387" src="images/Down-mix Parameter and Loudness.png" style="width:100%; height:auto;" width="800"></center>
   <center>
    <figcaption>IA Down-mix Parameter and Loudness</figcaption>
   </center>
   <p>For a given Channel Audio (e.g. 7.1.4ch) and a given list of channel layouts based on the Channel Audio,</p>
   <ul>
    <li data-md>
     <p>Down-mix parameter generator shall generate 5 down-mix parameters (α(k), β(k), γ(k), δ(k) and w(k)) by analyzing input Channel Audio, by referring <a data-link-type="biblio" href="#biblio-ai-cad-mixing" title="AI 3D immersive audio codec based on content-adaptive dynamic down-mixing and up-mixing framework">[AI-CAD-Mixing]</a>. Where, k is a frame index.</p>
     <ul>
      <li data-md>
       <p>It is composed of Audio Scene Classification module and Height Energy Quantification module as depicted in Figure 11-2.</p>
      <li data-md>
       <p>Audio Scene Classification module generates 4 parameters (α(k), β(k), γ(k), δ(k)) by classifying audio scenes of input channel audio in three modes.</p>
       <ul>
        <li data-md>
         <p>Default scene: Neither Dialog nor Effect</p>
        <li data-md>
         <p>Dialog scene: Center-channel oriented and clear dialog/voice sounds</p>
        <li data-md>
         <p>Effect scene: Directional and spatially moving sounds.</p>
       </ul>
      <li data-md>
       <p>Height Energy Quantification module generates a surround to height mixing parameter (w(k)) which is decided according to the relative energy difference between the top and surround channels of input channel audio.</p>
       <ul>
        <li data-md>
         <p>If the energy of top channels is bigger than that of surround ones, then w_idx_offset(k) is set to 1. Otherwise, it is set to -1. And, w(k) is calculated based on w_idx_offset(k) and conforms to <a href="#processing-scalablechannelaudio">§ 8.2 Scalable Channel Audio decoding</a>.</p>
       </ul>
     </ul>
    <li data-md>
     <p>Down-mixer generates down-mixed audios from input Channel Audio according to the list of channel layouts and the down-mix parameters, and outputs down-mixed audio for each channel layout to Loudness module.</p>
     <ul>
      <li data-md>
       <p>It is not depicted in the figure but Down-mixer further generates <a data-link-type="dfn" href="#dmixp_mode" id="ref-for-dmixp_mode①">Dmixp_Mode</a> and <a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain⑦">Recon_Gains</a> for each frame to be passed to OBU packetizer.</p>
     </ul>
    <li data-md>
     <p>Loudness module measures the loudness level (<a data-link-type="dfn" href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf#" id="006211a60②">LKFS</a>) of each down-mixed audio based on <a data-link-type="biblio" href="#biblio-itu1770-4" title="Algorithms to measure audio programme loudness and true-peak audio level">[ITU1770-4]</a>, and passes them to OBU packetizer.</p>
   </ul>
   <h4 class="heading settled" data-level="9.2.2" id="iamfgeneration-scalablechannelaudio-downmixmechanism"><span class="secno">9.2.2. </span><span class="content">Down-mix Mechanism</span><a class="self-link" href="#iamfgeneration-scalablechannelaudio-downmixmechanism"></a></h4>
   <p>This section specifies the down-mixing mechanism to generate <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="down-mixed-audio">down-mixed audio</dfn> for scalable channel audio.</p>
   <p>For a given Channel Audio which conforms to <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①⑧">loudspeaker_layout</a>, the surround and top channels (if any) are separately down-mixed and especially step by step until to get a target channels.</p>
   <p>Implementers may use another method to get the down-mixed audio from the given channel audio, but the down-mixed audio shall comply with that by this section.</p>
   <p>Therefore, a down-mixer based on the down-mix mechanism is a combination of following surround down-mixer(s) and top down-mixer(s) as depicted in below figure.</p>
   <ul>
    <li data-md>
     <p>Surround Down-mixers: S7to5 enc., S5to3 enc., S3to2 enc., S2to1 enc.</p>
   </ul>
<pre>S7to5 enc.: Ls5 = α(k) x Lss7 + β(k) x Lrs7 and Rs5 = α(k) x Rss7 + β(k) x Rrs7.
S5to3 enc.: L3 = L5 + δ(k) x Ls5 and R3 = R5 + δ(k) x Rs5
S3to2 enc.: L2 = L3 + 0.707 x C and R2 = R3 + 0.707 x C
S2to1 enc.: Mono = 0.5 x (L2 + R2)
</pre>
   <ul>
    <li data-md>
     <p>Top Down-mixers: T4to2 enc., T2toTF2 enc.</p>
   </ul>
<pre>T4to2 enc.: Ltf2 = Ltf4 + γ(k) x Ltb4  and Rtf2 = Rtf4 + γ(k) x Rtb4.
T2toTF2 enc.: Ltf3 = Ltf2 + w(k) x δ(k) x Ls5 and Rtf3 = Rtf2 + w(k) x δ(k) x Rs5.
</pre>
   <center><img height="373" src="images/Down-mix Mechanism.png" style="width:100%; height:auto;" width="800"></center>
   <center>
    <figcaption>IA Down-mix Mechanism</figcaption>
   </center>
<pre>For example, to get down-mixed 3.1.2ch from 7.1.4ch:
- S3 of 3.1.2ch is generated by using S7to5 and S5to3 encs.
- TF2 of 3.1.2ch is generated by using T4to2 and T2toTF2 encs.
</pre>
   <h4 class="heading settled" data-level="9.2.3" id="iamfgeneration-scalablechannelaudio-channellayoutgenerationrule"><span class="secno">9.2.3. </span><span class="content">Channel Layout Generation Rule</span><a class="self-link" href="#iamfgeneration-scalablechannelaudio-channellayoutgenerationrule"></a></h4>
   <p>This section describes the generation rule for channel layouts for scalable channel audio.</p>
   <p>For a given channel layout (CL #n) of input Channel Audio, any list of CLs ({CL #i: i = 1, 2, ..., n}) for a scalable channel audio shall conform with following rules:</p>
   <ul>
    <li data-md>
     <p>Si ≤ Si+1 and Wi ≤ Wi+1 and Ti ≤ Ti+1 except Si = Si+1 and Wi = Wi+1 and Ti = Ti+1 for i = n-1, n-2, …, 1. Where ith Channel Layout CL #i = Si.Wi.Ti.</p>
    <li data-md>
     <p>CL #i is one of <a data-link-type="dfn" href="#loudspeaker_layout" id="ref-for-loudspeaker_layout①⑨">loudspeaker_layouts</a> supported in this specification.</p>
   </ul>
   <p>Down-mix paths, which conform to the above rule, shall be only allowed for scalable channel audio with <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②③">num_layers</a> > 1 as depicted in below figure.</p>
   <center><img height="716" src="images/Down-mix Path.png" style="width:90%; height:auto;" width="792"></center>
   <center>
    <figcaption>IA Down-mix Path</figcaption>
   </center>
   <h4 class="heading settled" data-level="9.2.4" id="iamfgeneration-scalablechannelaudio-recongaingeneration"><span class="secno">9.2.4. </span><span class="content">Recon Gain Generation</span><a class="self-link" href="#iamfgeneration-scalablechannelaudio-recongaingeneration"></a></h4>
   <p>This section describes how to generate <a data-link-type="dfn" href="#recon_gain" id="ref-for-recon_gain⑧">recon_gain</a>.</p>
   <p>Recon_Gain needs to be applied to de-mixed channels. For this, IA encoder needs to deliver it to IA decoders.</p>
   <p>Let’s define followings:</p>
   <ul>
    <li data-md>
     <p>Level Ok is the signal power for the frame #k of a channel of the down-mixed audio for CL #i.</p>
    <li data-md>
     <p>Level Mk is the signal power for the frame #k of the relevant mixed channel of the down-mixed audio for CL #i-1.</p>
    <li data-md>
     <p>Level Dk is the signal power for the frame #k of the de-mixed channel for CL #i (after demixing).</p>
   </ul>
   <p>If 10*log10(level Ok / maxL^2) is less than the first threshold value (e.g. -80dB), Recon_Gain (k, i)  = 0. Where, maxL = 32767 for 16bits.</p>
   <p>If 10*log10(level Ok / level Mk ) is less than the second threshold value (e.g. -6dB), Recon_Gain (k, i) is set to the value which makes level Ok = Recon_Gain (k, i)^2 x level Dk. Otherwise, Recon_Gain (k, i) = 1. Actual value to be delivered is floor(255*Recon_Gain).</p>
<pre>For example, if we assume CL #i = 7.1.4ch and CL #i-1 = 5.1.2ch, then de-mixed channels are D_Lrs7, D_Rrs7, D_Ltb4 and D_Rtb4.
- D_Lrs7 and D_Rrs7 are de-mixed from Ls5 and Rs5 in the (i-1)th ChannelGroup by using Lss7 and Rss7 in the ith ChannelGroup and its relevant demixing parameters (i.e., α(k) and β(k)) , respectively.
- D_Ltb4 and D_Rtb4 are de-mixed from Ltf2 and Rtf2 in the (i-1)th ChannelGroup by using Ltf4 and Rtf4 in the ith ChannelGroup and its relevant demixing parameter (i.e., γ(k)), respectively.

Recon_Gain for D_Lrs7:
- Level Ok is the signal power for the frame #k of Lrs7 in the ith ChannelGroup.
- Level Mk is the signal power for the frame #k of Ls5 in the (i-1)th ChannelGroup.
- Level Dk is the signal power for the frame #k of D_Lrs7.
Recon_Gain for D_Rrs7:
- Level Ok is the signal power for the frame #k of Rrs7 in the ith ChannelGroup.
- Level Mk is the signal power for the frame #k of Rs5 in the (i-1)th ChannelGroup.
- Level Dk is the signal power for the frame #k of D_Rrs7.
Recon_Gain for D_Ltb4:
- Level Ok is the signal power for the frame #k of Ltf4 in the ith ChannelGroup.
- Level Mk is the signal power for the frame #k of Ltf2 in the (i-1)th ChannelGroup.
- Level Dk is the signal power for the frame #k of D_Ltb4.
Recon_Gain for D_Rtb4:
- Level Ok is the signal power for the frame #k of Rtf4 in the ith ChannelGroup.
- Level Mk is the signal power for the frame #k of Rtf2 in the (i-1)th ChannelGroup.
- Level Dk is the signal power for the frame #k of D_Rtb4.
</pre>
   <h4 class="heading settled" data-level="9.2.5" id="iamfgeneration-scalablechannelaudio-channelgroupgenerationrule"><span class="secno">9.2.5. </span><span class="content">ChannelGroup Generation Rule</span><a class="self-link" href="#iamfgeneration-scalablechannelaudio-channelgroupgenerationrule"></a></h4>
   <p>This section describes the generation rule for ChannelGroup.</p>
   <p>For a given Channel Audio and the list of CLs ({CL #i: i = 1, 2, ..., n}), CG Generation module outputs the transformed audio (i.e. ChannelGroups) which shall conform to following rules:</p>
   <ul>
    <li data-md>
     <p>It consists of C number of channels and is structured to n number of CGs, where C is the number of channels for the Channel Audio.</p>
    <li data-md>
     <p>CG #1 (as called BCG): This CG is the down-mixed audio itself for CL #1 generated from the Channel Audio. It contains C1 number of channels.</p>
    <li data-md>
     <p>CG #i (as called DCG, i = 2, 3, …, n): This CG contains (Ci – Ci-1) number of channels. (Ci – Ci-1) channel(s) consists of as follows:</p>
     <ul>
      <li data-md>
       <p>(Si – Si-1) surround channel(s) if Si > Si-1 . When S_set = { x | Si-1 &lt; x ≤ Si and x is an integer},</p>
       <ul>
        <li data-md>
         <p>If 2 is an element of S_set, the L2 channel is contained in this CG #i.</p>
        <li data-md>
         <p>If 3 is an element of S_set, the Center channel is contained in this CG #i.</p>
        <li data-md>
         <p>If 5 is an element of S_set, the L5 and R5 channels are contained in this CG #i.</p>
        <li data-md>
         <p>If 7 is an element of S_set, the Lss7 and Rss7 channels are contained in this CG #i.</p>
       </ul>
      <li data-md>
       <p>The LFE channel if Wi > Wi-1 .</p>
      <li data-md>
       <p>(Ti – Ti-1) top channels if Ti > Ti-1 .</p>
       <ul>
        <li data-md>
         <p>If Ti-1 = 0, the top channels of the down-mixed audio for CL #i are contained in this CG #i.</p>
        <li data-md>
         <p>If Ti-1 = 2, the Ltf and Rtf channels of the down-mixed audio for CL #i are contained in this CG #i.</p>
       </ul>
     </ul>
   </ul>
   <p>Below figure shows one example of transformation matrix with 4 CGs (2ch/3.1.2ch/5.1.2ch/7.1.4ch).</p>
   <center><img height="261" src="images/Example of Transformation Matrix with 4 CGs.png" style="width:100%; height:auto;" width="800"></center>
   <center>
    <figcaption>Example of Transformation Matrix with 4 CGs</figcaption>
   </center>
   <h3 class="heading settled" data-level="9.3" id="iamfgeneration-mixpresentation"><span class="secno">9.3. </span><span class="content">Mix Presentation Encoding</span><a class="self-link" href="#iamfgeneration-mixpresentation"></a></h3>
   <p>For Mix Presentation OBU for one single channel-based audio element, Mix Presentation OBU shall follow following restrictions:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_sub_mixes" id="ref-for-num_sub_mixes②">num_sub_mixes</a>: set to 1</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_audio_elements" id="ref-for-num_audio_elements">num_audio_elements</a>: set to 1</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#element_mix_config" id="ref-for-element_mix_config②">element_mix_config()</a>: No parameter block for element_mix and default_mix_gain = 0dB</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#output_mix_config" id="ref-for-output_mix_config②">output_mix_config()</a>: No parameter block for output_mix and default_mix_gain = 0dB</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_layouts" id="ref-for-num_layouts①">num_layouts</a>: set to <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②④">num_layers</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①⑤">loudness_layout</a>: set to L(1), L(2), ..., L(<a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②⑤">num_layers</a>).</p>
    <li data-md>
     <p>loudness_info() on L(1), loudness_info on L(2), ..., loudness_info on L(<a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②⑥">num_layers</a>): loudness information of the rendered audio to the measured layout L(i).</p>
    <li data-md>
     <p>Where L(i) is the measured layout for the ith layer and i = 1, 2, ..., <a data-link-type="dfn" href="#num_layers" id="ref-for-num_layers②⑦">num_layers</a></p>
   </ul>
   <p>For Mix Presentation for one single scene-based audio element, Mix Presentation OBU shall follow following restrictions:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_sub_mixes" id="ref-for-num_sub_mixes③">num_sub_mixes</a>: set to 1</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_audio_elements" id="ref-for-num_audio_elements①">num_audio_elements</a>: set to 1</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#element_mix_config" id="ref-for-element_mix_config③">element_mix_config()</a>: set to <a data-link-type="dfn" href="#mix_gain" id="ref-for-mix_gain">mix_gain</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#output_mix_config" id="ref-for-output_mix_config③">output_mix_config()</a>: set to <a data-link-type="dfn" href="#output_mix_gain" id="ref-for-output_mix_gain">output_mix_gain</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_layouts" id="ref-for-num_layouts②">num_layouts</a>: set to M1, the number of loudness informations which are provided.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①⑥">loudness_layout</a>: set to L(1), L(2), ..., L(M1).</p>
    <li data-md>
     <p>loudness_info() on L(1), loudness_info on L(2), ..., loudness_info on L(M1): loudness information of the rendered audio to the measured layout L(i).</p>
    <li data-md>
     <p>Where L(i) is the measured layout for the ith loudness information and i = 1, 2, ..., M1.</p>
    <li data-md>
     <p>This Mix Presentation is authored by using the highest <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①⑦">loudness_layout</a>.</p>
   </ul>
   <p>For Mix Presentation for N (>1) audio elements (when num_sub-mixes = 1), Mix Presentation OBU shall follow following restrictions:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_sub_mixes" id="ref-for-num_sub_mixes④">num_sub_mixes</a>: set to 1</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_audio_elements" id="ref-for-num_audio_elements②">num_audio_elements</a>: set to N</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#element_mix_config" id="ref-for-element_mix_config④">element_mix_config()</a> for each audio element: set to <a data-link-type="dfn" href="#mix_gain" id="ref-for-mix_gain①">mix_gain</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#output_mix_config" id="ref-for-output_mix_config④">output_mix_config()</a>: set to <a data-link-type="dfn" href="#output_mix_gain" id="ref-for-output_mix_gain①">output_mix_gain</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#num_layouts" id="ref-for-num_layouts③">num_layouts</a>: set to M2, the number of loudness informations which are provided.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①⑧">loudness_layout</a>: set to L(1), L(2), ..., L(M2).</p>
    <li data-md>
     <p>loudness_info() on L(1), loudness_info on L(2), ..., loudness_info on L(M2): loudness information of the rendered audio to the measured layout L(i).</p>
    <li data-md>
     <p>Where L(i) is the measured layout for the ith loudness information and i = 1, 2, ..., M2.</p>
    <li data-md>
     <p>This Mix Presentation is authored by using the highest <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout①⑨">loudness_layout</a>.</p>
   </ul>
   <h4 class="heading settled" data-level="9.3.1" id="iamfgeneration-mixpresentation-mix"><span class="secno">9.3.1. </span><span class="content">Element Mix Config</span><a class="self-link" href="#iamfgeneration-mixpresentation-mix"></a></h4>
   <p>This section provide a guideline to generate element_mix_config().</p>
   <p>An IA multiplexer may merge two or more IA sequences. In this case, it should adjust the gain values for <a data-link-type="dfn" href="#element_mix_config" id="ref-for-element_mix_config⑤">element_mix_config()</a>s as necessary to describe the desired relative gains between the IA sequences when they are summed to generate the final mix. It should also ensure that the gains selected do not result in clipping when the final mix is generated.</p>
   <h3 class="heading settled" data-level="9.4" id="iamfgeneration-multipleaudioelements"><span class="secno">9.4. </span><span class="content">Multiple Audio Elements Encoding</span><a class="self-link" href="#iamfgeneration-multipleaudioelements"></a></h3>
   <p>This section provide a guideline to generate IA sequence having multiple audio elements from two IA simple or base profiles.</p>
   <h4 class="heading settled" data-level="9.4.1" id="iamfgeneration-multipleaudioelements-onecodec"><span class="secno">9.4.1. </span><span class="content">Multiple Audio Elements with One Codec Config</span><a class="self-link" href="#iamfgeneration-multipleaudioelements-onecodec"></a></h4>
   <p>This section provides a way how to generate IA sequence having multiple audio elements from two IA simple profiles with the same codec config OBU. However, the result shall comply with the base profile of IA sequence.</p>
   <p>Step1: Descriptor OBUs are generated as follows:</p>
   <ul>
    <li data-md>
     <p>Magic Code OBU: get the larger version field and the larger profile version field, respectively.</p>
    <li data-md>
     <p>Codec Config OBU</p>
     <ul>
      <li data-md>
       <p>take just one codec_id and codec_config()</p>
     </ul>
    <li data-md>
     <p>Audio Element OBUs: just take all of them except followings:</p>
     <ul>
      <li data-md>
       <p>codec_config_id in each Audio Element OBU is updated to indicate <a data-link-type="dfn" href="#codec_config_id" id="ref-for-codec_config_id">codec_config_id</a> specified in the taken Codec Config OBU.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#audio_element_id" id="ref-for-audio_element_id③">audio_element_id</a>s are updated to be unique in all of Audio Element OBUs.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#audio_substream_id" id="ref-for-audio_substream_id③">audio_substream_id</a>s are updated to be unique in all of Audio Element OBUs.</p>
      <li data-md>
       <p>parameter_ids in <a data-link-type="dfn" href="#paramdefinition" id="ref-for-paramdefinition①">ParamDefinition()</a>s carried in each Audio Element OBU are updated to refer its associated parameters correctly.</p>
     </ul>
    <li data-md>
     <p>Mix Presentation OBUs: just take all of them and generate new ones which are used for mixing of multiple audio elements if needed except following:</p>
     <ul>
      <li data-md>
       <p>audio_element_ids in each Mix Presentation OBU are updated to indicate the <a data-link-type="dfn" href="#audio_element_id" id="ref-for-audio_element_id④">audio_element_id</a>s specified in Audio Element OBUs.</p>
      <li data-md>
       <p>parameter_ids in <a data-link-type="dfn" href="#paramdefinition" id="ref-for-paramdefinition②">ParamDefinition()</a>s carried in each Mix Presentation OBU are updated to refer its associated parameters correctly.</p>
     </ul>
   </ul>
   <p>Step2: ith temporal unit is generated as follows:</p>
   <ul>
    <li data-md>
     <p>Just take all of temporal units for ith frames from each audio element and keep the order of temporal units as the order of audio element OBUs in descriptor OBUs except following:</p>
     <ul>
      <li data-md>
       <p><a data-link-type="dfn" href="#obu_type" id="ref-for-obu_type⑤">obu_type</a>s are updated to be aligned according to <a data-link-type="dfn" href="#audio_substream_id" id="ref-for-audio_substream_id④">audio_substream_id</a>s specified in Audio Element OBUs.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#parameter_id" id="ref-for-parameter_id②">parameter_id</a>s in Parameter Block OBUs are updated to uniquely indentify the parameter in IA sequence and based on the parameter_ids in <a data-link-type="dfn" href="#paramdefinition" id="ref-for-paramdefinition③">ParamDefinition()</a>s carried in Descriptor OBUs.</p>
     </ul>
    <li data-md>
     <p>It may have the immediately preceding temporal delimiter OBU for each temporal unit.</p>
   </ul>
   <p>Step3: Update Sync OBU.</p>
   <ul>
    <li data-md>
     <p>Sync OBU is updated based on Sync OBUs of each IA sequence and updated <a data-link-type="dfn" href="#audio_substream_id" id="ref-for-audio_substream_id⑤">audio_substream_id</a>s and <a data-link-type="dfn" href="#parameter_id" id="ref-for-parameter_id③">parameter_id</a>s.</p>
   </ul>
   <p>Step4: Generate IA sequence which starts descriptor OBUs, followed by Sync OBU and followed by temporal units in order.</p>
   <h3 class="heading settled" data-level="9.5" id="iamfgeneration-postprocessing"><span class="secno">9.5. </span><span class="content">Post Processing</span><a class="self-link" href="#iamfgeneration-postprocessing"></a></h3>
   <p>This section provides a guideline to generate algorithms for post processing.</p>
   <h4 class="heading settled" data-level="9.5.1" id="iamfgeneration-postprocessing-loudness"><span class="secno">9.5.1. </span><span class="content">Loudness Information</span><a class="self-link" href="#iamfgeneration-postprocessing-loudness"></a></h4>
   <p>This section provides a guideline to generate loudness_info().</p>
   <p>For a given Mix Presentation OBU and a given <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout②⓪">loudness_layout</a> of a sub-mix of the given Mix Presentation OBU, the followings are processed in order to produce loudness_info().</p>
   <ul>
    <li data-md>
     <p>Each of the Audio Elements specified in the sub-mix of the given Mix Presentation OBU is rendered to the given <a data-link-type="dfn" href="#loudness_layout" id="ref-for-loudness_layout②①">loudness_layout</a> according to <a data-link-type="dfn" href="#rendering_config" id="ref-for-rendering_config">rendering_config()</a> for the Audio Element.</p>
    <li data-md>
     <p>Each of the Audio Elements specified in the sub-mix of the given Mix Presentation OBU applies <a data-link-type="dfn" href="#mix_gain" id="ref-for-mix_gain②">mix_gain</a> according to <a data-link-type="dfn" href="#element_mix_config" id="ref-for-element_mix_config⑥">element_mix_config()</a> for the Audio Element.</p>
    <li data-md>
     <p>All of the Audio Elements specified in the sub-mix of the given Mix Presentation OBU are summed, and then applies <a data-link-type="dfn" href="#mix_gain" id="ref-for-mix_gain③">mix_gain</a> according to <a data-link-type="dfn" href="#output_mix_config" id="ref-for-output_mix_config⑤">output_mix_config()</a> for the sub-mix.</p>
    <li data-md>
     <p>Generate loudness_info() of the mixed audio according to <a href="#obu-mixpresentation-loudness">§ 3.8.7 Loudness Info Syntax and Semantics</a>.</p>
   </ul>
   <h2 class="heading settled" data-level="10" id="iamfconsumption"><span class="secno">10. </span><span class="content">Consumption of IAMF bitstream</span><a class="self-link" href="#iamfconsumption"></a></h2>
   <p class="issue" id="issue-4d4ba7fc"><a class="self-link" href="#issue-4d4ba7fc"></a> TODO. Fill in example workflows.</p>
   <h2 class="heading settled" data-level="11" id="annex"><span class="secno">11. </span><span class="content">Annex</span><a class="self-link" href="#annex"></a></h2>
   <h3 class="heading settled" data-level="11.1" id="annex-a-id-linking-scheme"><span class="secno">11.1. </span><span class="content">Annex A: ID Linking Scheme</span><a class="self-link" href="#annex-a-id-linking-scheme"></a></h3>
   <p>The below figure shows the linking scheme among IDs in obu_header or obu payload.</p>
   <center><img height="1044" src="images/ID Linking Example.png" style="width:100%; height:auto;" width="1783"></center>
   <center>
    <figcaption>ID Linking Scheme</figcaption>
   </center>
   <p>In the above figure,</p>
   <ul>
    <li data-md>
     <p>Codec Config OBU with codec_config_id  = 0 is providing codec_id and its decoder_config().</p>
    <li data-md>
     <p>Mix Presentation OBU with mix_presentation_id  = 21 is saying:</p>
     <ul>
      <li data-md>
       <p>There are two Audio Elements(audio_element_id = 11 and 12) which need to be mixed. The audio_element_id = 11 and the audio_element_id = 12 are linked to the Audio Element OBUs with audio_element_id = 11 and audio_element_id = 12, respectively.</p>
       <ul>
        <li data-md>
         <p>There is one or more Parameter Block OBUs with parameter_id = 32 to be used for mixing of the Audio Element with audio_element_id = 11.</p>
        <li data-md>
         <p>There is one or more Parameter Block OBUs with parameter_id = 33 to be used for mixing of the Audio Element with audio_element_id = 12.</p>
       </ul>
      <li data-md>
       <p>There is one or more Parameter Block OBUs with parameter_id = 34 to be used for mixing of the two Audio Elements.</p>
     </ul>
    <li data-md>
     <p>Audio Element OBU with audio_element_id = 11 is saying:</p>
     <ul>
      <li data-md>
       <p>This audio element has been coded using Codec Config OBU with codec_config_id = 0.</p>
      <li data-md>
       <p>There are two Substreams (audio_substream_id = 0 and 1) in this audio element. The audio_substream_id = 0 and the audio_substream_id = 1 are linked to the Audio Frame OBUs with audio_substream_id = 0 and audio_substream_id = 1(i.e. obu_type = OBU_IA_Audio_Frame_ID0 and obu_type = OBU_IA_Audio_Frame_ID1), respectively.</p>
      <li data-md>
       <p>There is one or more Parameter Block OBUs with parameter_id = 31 to be used for demixing of this audio element.</p>
     </ul>
    <li data-md>
     <p>Audio Element OBU with audio_element_id = 12 is saying:</p>
     <ul>
      <li data-md>
       <p>This audio element has been coded by using Codec Config OBU with codec_config_id = 0.</p>
      <li data-md>
       <p>There is one Substream (audio_substream_id = 2) in this audio element. The audio_substream_id = 2 is linked to the Audio Frame OBUs with audio_substream_id = 2 (i.e. obu_type = OBU_IA_Audio_Frame_ID2).</p>
     </ul>
    <li data-md>
     <p>Audio Frame OBU with ID = 0 (i.e. obu_type = OBU_IA_Audio_Frame_ID0) is providing the coded data which has been coded by using Codec Config OBU with codec_config_id = 0 of Substream with audio_substream_id = 0.</p>
    <li data-md>
     <p>Audio Frame OBU with ID = 1 (i.e. obu_type = OBU_IA_Audio_Frame_ID1) is providing the coded data which has been coded by using Codec Config OBU with codec_config_id = 0 of Substream with audio_substream_id = 1.</p>
    <li data-md>
     <p>Audio Frame OBU with ID = 2 (i.e. obu_type = OBU_IA_Audio_Frame_ID2) is providing the coded data which has been coded by using Codec Config OBU with codec_config_id = 0 of Substream with audio_substream_id = 2.</p>
    <li data-md>
     <p>Parameter Block OBU with parameter_id = 31 is providing demixing_info_parameter_data() to be applied for demixing of the Audio Element with audio_element_id = 11.</p>
    <li data-md>
     <p>Parameter Block OBU with parameter_id = 32 is providing mix_gain_parameter_data() to be applied to the rendered audio element after rendering according to render_config() of the Audio Element with audio_element_id = 11.</p>
    <li data-md>
     <p>Parameter Block OBU with parameter_id = 33 is providing mix_gain_parameter_data() to be applied to the rendered audio element after rendering according to render_config() of the Audio Element with audio_element_id = 12.</p>
    <li data-md>
     <p>Parameter Block OBU with parameter_id = 34 is providing mix_gain_parameter_data() to be applied to the mixed audio of the two rendered audios.</p>
   </ul>
   <h3 class="heading settled" data-level="11.2" id="annex-b-short-lived-audio"><span class="secno">11.2. </span><span class="content">Annex B: Short-lived Audio</span><a class="self-link" href="#annex-b-short-lived-audio"></a></h3>
   <p>An IA sequence may contain audio elements which are short-lived, where the audio element may not exist for the entire timeline of the IA sequence. There is a method for signalling this. Consider the example with two audio elements, A and B, present at the start of the IA sequence, where B is a short-lived audio element with a length shorter than A.</p>
   <ol>
    <li data-md>
     <p>The method uses a new set of Descriptor OBUs. The first set of Descriptor OBUs includes an Audio Element OBU for each of A and B, and a Mix Presentation OBU that references both A and B. When the audio element B has ended, a second set of Descriptor OBUs is placed in the IA stream, which includes an Audio Element for only A, and a Mix Presentation OBU that references only A.</p>
   </ol>
   <p>In the case, relevant parameter blocks must be updated in a way to match the timing of the short-lived audio elements if necessary to ensure that the processed audio output is correct.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note.</p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#312ch">3.1.2ch</a><span>, in § 3.7.2</span>
   <li><a href="#512ch">5.1.2ch</a><span>, in § 3.7.2</span>
   <li><a href="#514ch">5.1.4ch</a><span>, in § 3.7.2</span>
   <li><a href="#51ch">5.1ch</a><span>, in § 3.7.2</span>
   <li><a href="#712ch">7.1.2ch</a><span>, in § 3.7.2</span>
   <li><a href="#714ch">7.1.4ch</a><span>, in § 3.7.2</span>
   <li><a href="#71ch">7.1ch</a><span>, in § 3.7.2</span>
   <li><a href="#alpha">alpha</a><span>, in § 3.9.2</span>
   <li><a href="#ambisonics_config">ambisonics_config()</a><span>, in § 3.7</span>
   <li><a href="#ambisonics_mode">ambisonics_mode</a><span>, in § 3.7.3</span>
   <li><a href="#animatedparameterdata">AnimatedParameterData()</a><span>, in § 3.9.1</span>
   <li><a href="#animation_type">animation_type</a><span>, in § 3.9.1</span>
   <li><a href="#audio-element">Audio element</a><span>, in § 2.1</span>
   <li><a href="#audio_element_friendly_label">audio_element_friendly_label</a><span>, in § 3.8.2</span>
   <li>
    audio_element_id
    <ul>
     <li><a href="#audio_element_id">definition of</a><span>, in § 3.7</span>
     <li><a href="#valdef-mix_presentation_obu-audio_element_id">value for mix_presentation_obu()</a><span>, in § 3.8</span>
    </ul>
   <li><a href="#audio-element-obu">Audio Element OBU</a><span>, in § 2.2.1</span>
   <li><a href="#valdef-ia_descriptor-audio_element_obu">audio_element_obu()</a><span>, in § 6.2.4</span>
   <li><a href="#audio_element_type">audio_element_type</a><span>, in § 3.7</span>
   <li><a href="#audio_frame">audio_frame()</a><span>, in § 3.10</span>
   <li><a href="#audio-frame-obu">Audio Frame OBU</a><span>, in § 2.2.2</span>
   <li><a href="#audio-substream">Audio substream</a><span>, in § 2.1</span>
   <li>
    audio_substream_id
    <ul>
     <li><a href="#audio_substream_id">definition of</a><span>, in § 3.10</span>
     <li><a href="#valdef-audio_element_obu-audio_substream_id">value for audio_element_obu()</a><span>, in § 3.7</span>
    </ul>
   <li><a href="#beta">beta</a><span>, in § 3.9.2</span>
   <li><a href="#c">c</a><span>, in § 3.7</span>
   <li><a href="#channel_audio_layer_config">channel_audio_layer_config()</a><span>, in § 3.7.2</span>
   <li><a href="#channelgroup">ChannelGroup</a><span>, in § 3.7.2</span>
   <li><a href="#channel_mapping">channel_mapping</a><span>, in § 3.7.3</span>
   <li>
    codec_config_id
    <ul>
     <li><a href="#codec_config_id">definition of</a><span>, in § 3.6</span>
     <li><a href="#valdef-audio_element_obu-codec_config_id">value for audio_element_obu()</a><span>, in § 3.7</span>
    </ul>
   <li><a href="#codec-config-obu">Codec Config OBU</a><span>, in § 2.2.1</span>
   <li><a href="#valdef-ia_descriptor-codec_config_obu">codec_config_obu()</a><span>, in § 6.2.4</span>
   <li><a href="#codec_id">codec_id</a><span>, in § 3.6</span>
   <li><a href="#codec_specific_info">Codec_Specific_Info</a><span>, in § 3.13</span>
   <li><a href="#coded_frame_size">coded_frame_size</a><span>, in § 3.10</span>
   <li><a href="#concatenation-rule">Concatenation Rule</a><span>, in § 5.2</span>
   <li>
    constant_subblock_duration
    <ul>
     <li><a href="#constant_subblock_duration">definition of</a><span>, in § 3.7.1</span>
     <li><a href="#valdef-parameter_block_obu-constant_subblock_duration">value for parameter_block_obu()</a><span>, in § 3.9</span>
    </ul>
   <li><a href="#control_point_relative_time">control_point_relative_time</a><span>, in § 3.9.1</span>
   <li><a href="#control_point_value">control_point_value</a><span>, in § 3.9.1</span>
   <li><a href="#coupled-channels">Coupled channels</a><span>, in § 9</span>
   <li><a href="#coupled_substream_count">coupled_substream_count</a><span>, in § 3.7.2</span>
   <li><a href="#csi">CSI</a><span>, in § 3.7.1</span>
   <li><a href="#d">D</a><span>, in § 3.7.1</span>
   <li><a href="#decoder_config">decoder_config()</a><span>, in § 3.6</span>
   <li><a href="#default_mix_gain">default_mix_gain</a><span>, in § 3.8.4</span>
   <li><a href="#delta">delta</a><span>, in § 3.9.2</span>
   <li><a href="#demixing_info">demixing_info</a><span>, in § 3.7</span>
   <li><a href="#demixing_info_parameter_data">demixing_info_parameter_data()</a><span>, in § 3.9.2</span>
   <li><a href="#demixing_matrix">demixing_matrix</a><span>, in § 3.7.3</span>
   <li><a href="#descriptor">descriptor</a><span>, in § 6.2.3</span>
   <li><a href="#digital_peak">digital_peak</a><span>, in § 3.8.7</span>
   <li><a href="#dmixp_mode">dmixp_mode</a><span>, in § 3.9.2</span>
   <li><a href="#down-mixed-audio">down-mixed audio</a><span>, in § 9.2.2</span>
   <li>
    duration
    <ul>
     <li><a href="#duration">definition of</a><span>, in § 3.7.1</span>
     <li><a href="#valdef-parameter_block_obu-duration">value for parameter_block_obu()</a><span>, in § 3.9</span>
    </ul>
   <li><a href="#element_mix_config">element_mix_config()</a><span>, in § 3.8</span>
   <li><a href="#end_point_value">end_point_value</a><span>, in § 3.9.1</span>
   <li><a href="#extension_header_size">extension_header_size</a><span>, in § 3.2</span>
   <li><a href="#gamma">gamma</a><span>, in § 3.9.2</span>
   <li><a href="#get_param_definition">get_param_definition()</a><span>, in § 3.9</span>
   <li><a href="#global_offset">global_offset</a><span>, in § 3.12</span>
   <li><a href="#ia_code">ia_code</a><span>, in § 3.5</span>
   <li><a href="#ia_descriptor">IA_Descriptor</a><span>, in § 6.2.4</span>
   <li><a href="#iamd">iamd</a><span>, in § 6.2.4</span>
   <li><a href="#iamf">IAMF</a><span>, in § 2</span>
   <li>
    iamf
    <ul>
     <li><a href="#valdef-iasampleentry-iamf">value for IASampleEntry</a><span>, in § 6.2.3</span>
     <li><a href="#valdef-isobmff-brand-iamf">value for ISOBMFF Brand</a><span>, in § 6.1</span>
    </ul>
   <li><a href="#ia-sample">IA Sample</a><span>, in § 6.2.5</span>
   <li><a href="#iasampleentry">IASampleEntry</a><span>, in § 6.2.3</span>
   <li><a href="#ia-sequence">IA sequence</a><span>, in § 2.1</span>
   <li><a href="#immersive-audio">immersive audio</a><span>, in § 2</span>
   <li><a href="#info_type">info_type</a><span>, in § 3.8.7</span>
   <li><a href="#integrated_loudness">integrated_loudness</a><span>, in § 3.8.7</span>
   <li><a href="#layout_type">layout_type</a><span>, in § 3.8.6</span>
   <li><a href="#loudness">loudness</a><span>, in § 3.8</span>
   <li><a href="#loudness_layout">loudness_layout</a><span>, in § 3.8</span>
   <li><a href="#loudspeaker_layout">loudspeaker_layout</a><span>, in § 3.7.2</span>
   <li><a href="#magic-code-obu">Magic Code OBU</a><span>, in § 2.2.1</span>
   <li><a href="#valdef-ia_descriptor-magic_code_obu">magic_code_obu()</a><span>, in § 6.2.4</span>
   <li><a href="#mix_gain">mix_gain</a><span>, in § 3.8.4</span>
   <li><a href="#mix_presentation_annotations">mix_presentation_annotations()</a><span>, in § 3.8</span>
   <li><a href="#mix_presentation_friendly_label">mix_presentation_friendly_label</a><span>, in § 3.8.1</span>
   <li><a href="#mix_presentation_id">mix_presentation_id</a><span>, in § 3.8</span>
   <li><a href="#mix-presentation-obu">Mix Presentation OBU</a><span>, in § 2.2.1</span>
   <li><a href="#valdef-ia_descriptor-mix_presentation_obu">mix_presentation_obu()</a><span>, in § 6.2.4</span>
   <li><a href="#mix-presentations">Mix presentations</a><span>, in § 2.1</span>
   <li><a href="#n_c">n_c</a><span>, in § 3.7</span>
   <li><a href="#n-i">n(i)</a><span>, in § 3.9.3</span>
   <li><a href="#non-coupled-substream">non-coupled substream</a><span>, in § 9</span>
   <li><a href="#ns">NS</a><span>, in § 3.7.1</span>
   <li><a href="#num_audio_elements">num_audio_elements</a><span>, in § 3.8</span>
   <li><a href="#num_layers">num_layers</a><span>, in § 3.7.2</span>
   <li><a href="#num_layouts">num_layouts</a><span>, in § 3.8</span>
   <li><a href="#num_loudspeakers">num_loudspeakers</a><span>, in § 3.8.6</span>
   <li><a href="#num_obu_ids">num_obu_ids</a><span>, in § 3.12</span>
   <li><a href="#num_parameters">num_parameters</a><span>, in § 3.7</span>
   <li><a href="#num_samples_per_frame">num_samples_per_frame</a><span>, in § 3.6</span>
   <li><a href="#num_samples_to_trim_at_end">num_samples_to_trim_at_end</a><span>, in § 3.2</span>
   <li><a href="#num_samples_to_trim_at_start">num_samples_to_trim_at_start</a><span>, in § 3.2</span>
   <li>
    num_subblocks
    <ul>
     <li><a href="#num_subblocks">definition of</a><span>, in § 3.7.1</span>
     <li><a href="#valdef-parameter_block_obu-num_subblocks">value for parameter_block_obu()</a><span>, in § 3.9</span>
    </ul>
   <li><a href="#num_sub_mixes">num_sub_mixes</a><span>, in § 3.8</span>
   <li><a href="#num_substreams">num_substreams</a><span>, in § 3.7</span>
   <li><a href="#obu_data_type">obu_data_type</a><span>, in § 3.12</span>
   <li><a href="#obu_extension_flag">obu_extension_flag</a><span>, in § 3.2</span>
   <li><a href="#obu_id">obu_id</a><span>, in § 3.12</span>
   <li><a href="#obu_redundant_copy">obu_redundant_copy</a><span>, in § 3.2</span>
   <li><a href="#obu_size">obu_size</a><span>, in § 3.2</span>
   <li><a href="#obu_trimming_status_flag">obu_trimming_status_flag</a><span>, in § 3.2</span>
   <li><a href="#obu_type">obu_type</a><span>, in § 3.2</span>
   <li><a href="#output_channel_count">output_channel_count</a><span>, in § 3.7.3</span>
   <li><a href="#output_gain">output_gain</a><span>, in § 3.7.2</span>
   <li><a href="#output_gain_flags">output_gain_flags</a><span>, in § 3.7.2</span>
   <li><a href="#output_gain_is_present_flag">output_gain_is_present_flag</a><span>, in § 3.7.2</span>
   <li><a href="#output_mix_config">output_mix_config()</a><span>, in § 3.8</span>
   <li><a href="#output_mix_gain">output_mix_gain</a><span>, in § 3.8.5</span>
   <li><a href="#param_data">param_data</a><span>, in § 3.9.1</span>
   <li><a href="#paramdefinition">ParamDefinition()</a><span>, in § 3.7.1</span>
   <li><a href="#param_definition_mode">param_definition_mode</a><span>, in § 3.7.1</span>
   <li><a href="#param_definition_type">param_definition_type</a><span>, in § 3.7</span>
   <li><a href="#parameter-block-obu">Parameter Block OBU</a><span>, in § 2.2.2</span>
   <li>
    parameter_id
    <ul>
     <li><a href="#parameter_id">definition of</a><span>, in § 3.9</span>
     <li><a href="#valdef-paramdefinition-parameter_id">value for ParamDefinition()</a><span>, in § 3.7.1</span>
    </ul>
   <li><a href="#parameter_rate">parameter_rate</a><span>, in § 3.7.1</span>
   <li><a href="#parameters">Parameters</a><span>, in § 2.1</span>
   <li><a href="#profile_version">profile_version</a><span>, in § 3.5</span>
   <li><a href="#pv">PV</a><span>, in § 6.3</span>
   <li><a href="#recon_gain">recon_gain</a><span>, in § 3.9.3</span>
   <li><a href="#recon_gain_flags">recon_gain_flags</a><span>, in § 3.9.3</span>
   <li><a href="#recon_gain_info">recon_gain_info</a><span>, in § 3.7</span>
   <li><a href="#recon_gain_info_parameter_data">recon_gain_info_parameter_data()</a><span>, in § 3.9.3</span>
   <li><a href="#recon_gain_is_present_flag">recon_gain_is_present_flag</a><span>, in § 3.7.2</span>
   <li><a href="#reinitialize_decoder">reinitialize_decoder</a><span>, in § 3.12</span>
   <li><a href="#relative_offset">relative_offset</a><span>, in § 3.12</span>
   <li><a href="#rendering_config">rendering_config()</a><span>, in § 3.8</span>
   <li><a href="#valdef-sync_obu-reserved">reserved</a><span>, in § 3.12</span>
   <li><a href="#roll_distance">roll_distance</a><span>, in § 3.6</span>
   <li><a href="#s1to2-de-mixer">S1to2 de-mixer</a><span>, in § 8.2.2</span>
   <li><a href="#s2to3-de-mixer">S2to3 de-mixer</a><span>, in § 8.2.2</span>
   <li><a href="#s3to5-de-mixer">S3to5 de-mixer</a><span>, in § 8.2.2</span>
   <li><a href="#s5to7-de-mixer">S5to7 de-mixer</a><span>, in § 8.2.2</span>
   <li><a href="#sample_format_flags">sample_format_flags</a><span>, in § 3.13.4</span>
   <li><a href="#sample_rate">sample_rate</a><span>, in § 3.13.4</span>
   <li><a href="#sample_size">sample_size</a><span>, in § 3.13.4</span>
   <li><a href="#scalable_channel_layout_config">scalable_channel_layout_config()</a><span>, in § 3.7</span>
   <li><a href="#si">SI</a><span>, in § 3.7.1</span>
   <li><a href="#sound_system">sound_system</a><span>, in § 3.8.6</span>
   <li><a href="#sp_label">sp_label</a><span>, in § 3.8.6</span>
   <li><a href="#start_point_value">start_point_value</a><span>, in § 3.9.1</span>
   <li><a href="#stereo">Stereo</a><span>, in § 3.7.2</span>
   <li>
    subblock_duration
    <ul>
     <li><a href="#subblock_duration">definition of</a><span>, in § 3.7.1</span>
     <li><a href="#valdef-parameter_block_obu-subblock_duration">value for parameter_block_obu()</a><span>, in § 3.9</span>
    </ul>
   <li><a href="#substream_count">substream_count</a><span>, in § 3.7.2</span>
   <li><a href="#sync-obu">Sync OBU</a><span>, in § 2.2.2</span>
   <li><a href="#valdef-ia_descriptor-sync_obu">sync_obu()</a><span>, in § 6.2.4</span>
   <li><a href="#t2to4-de-mixer">T2to4 de-mixer</a><span>, in § 8.2.2</span>
   <li><a href="#temporal-delimiter-obu">Temporal Delimiter OBU</a><span>, in § 2.2.2</span>
   <li><a href="#tf2tot2-de-mixer">TF2toT2 de-mixer</a><span>, in § 8.2.2</span>
   <li><a href="#true_peak">true_peak</a><span>, in § 3.8.7</span>
   <li><a href="#utf-8_enc-label">UTF-8_Enc(label)</a><span>, in § 1.3.3</span>
   <li><a href="#v">V</a><span>, in § 6.3</span>
   <li><a href="#version">version</a><span>, in § 3.5</span>
   <li><a href="#w">w</a><span>, in § 3.9.2</span>
   <li><a href="#widx-k">wIdx(k)</a><span>, in § 8.2.2</span>
   <li><a href="#w_idx_offset">w_idx_offset</a><span>, in § 3.9.2</span>
   <li><a href="#zero_bit">zero_bit</a><span>, in § 3.3</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[AAC]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fc10b1cf">raw_data_block()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[AV1-Convention]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="67d3cf49">clip3</span>
     <li><span class="dfn-paneled" id="3c6e7576">leb128()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FLAC]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f9f6c3b0">flac</span>
     <li><span class="dfn-paneled" id="97a7143f">frame</span>
     <li><span class="dfn-paneled" id="0afe50aa">frame_footer</span>
     <li><span class="dfn-paneled" id="48d601ef">frame_header</span>
     <li><span class="dfn-paneled" id="2207a977">metadata_block</span>
     <li><span class="dfn-paneled" id="cb59b5a8">subframe</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ISO14496-14]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2ffcb4c6">esdbox</span>
     <li><span class="dfn-paneled" id="ef27c52c">mp4a</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ISOBMFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5a9020c6">audiorollrecoveryentry</span>
     <li><span class="dfn-paneled" id="2407024d">channelcount</span>
     <li><span class="dfn-paneled" id="5204d780">edit_duration</span>
     <li><span class="dfn-paneled" id="c5b014fc">edts</span>
     <li><span class="dfn-paneled" id="7e831bfa">elst</span>
     <li><span class="dfn-paneled" id="b7aca2c8">grouping_type</span>
     <li><span class="dfn-paneled" id="103b0ad5">iso6</span>
     <li><span class="dfn-paneled" id="1ee51e64">media_time</span>
     <li><span class="dfn-paneled" id="70c129bd">mvhd</span>
     <li><span class="dfn-paneled" id="48678a58">roll</span>
     <li><span class="dfn-paneled" id="6c74b0cb">samplerate</span>
     <li><span class="dfn-paneled" id="188beff5">stts</span>
     <li><span class="dfn-paneled" id="67f35f3a">trun</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ITU1770-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9be750f5">lkfs</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ITU2051-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="210e76fe">loudspeaker configuration for sound system a (0+2+0)</span>
     <li><span class="dfn-paneled" id="c6764e10">loudspeaker configuration for sound system b (0+5+0)</span>
     <li><span class="dfn-paneled" id="d064a106">loudspeaker configuration for sound system c (2+5+0)</span>
     <li><span class="dfn-paneled" id="511d9c8f">loudspeaker configuration for sound system d (4+5+0)</span>
     <li><span class="dfn-paneled" id="e74d0c58">loudspeaker configuration for sound system e (4+5+1)</span>
     <li><span class="dfn-paneled" id="ad71bf34">loudspeaker configuration for sound system f (3+7+0)</span>
     <li><span class="dfn-paneled" id="c3da7771">loudspeaker configuration for sound system g (4+9+0)</span>
     <li><span class="dfn-paneled" id="62860778">loudspeaker configuration for sound system h (9+10+3)</span>
     <li><span class="dfn-paneled" id="7042bf21">loudspeaker configuration for sound system i (0+7+0)</span>
     <li><span class="dfn-paneled" id="fec79d4d">loudspeaker configuration for sound system j (4+7+0)</span>
     <li><span class="dfn-paneled" id="4b1d5f2d">sp label</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MP4-Audio]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="89e2a373">audioobjecttype</span>
     <li><span class="dfn-paneled" id="e2796ead">audiospecificconfig()</span>
     <li><span class="dfn-paneled" id="dcbf28a1">channelconfiguration</span>
     <li><span class="dfn-paneled" id="0e480d31">dependsoncorecoder</span>
     <li><span class="dfn-paneled" id="b5185003">extensionflag</span>
     <li><span class="dfn-paneled" id="7ef68b80">framelengthflag</span>
     <li><span class="dfn-paneled" id="f5a1b08d">gaspecificconfig()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MP4-PCM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4bb437cf">format_flags</span>
     <li><span class="dfn-paneled" id="e389739a">ipcm</span>
     <li><span class="dfn-paneled" id="bf8d541e">pcm_sample_size</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MP4-Systems]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dd905074">decoderconfigdescriptor()</span>
     <li><span class="dfn-paneled" id="5a8fd307">decspecificinfo()</span>
     <li><span class="dfn-paneled" id="2ca7e0c6">objecttypeindication</span>
     <li><span class="dfn-paneled" id="cfdaebb3">streamtype</span>
     <li><span class="dfn-paneled" id="a55a74f6">syntactic description language</span>
     <li><span class="dfn-paneled" id="5d02bf0b">upstream</span>
    </ul>
   <li>
    <a data-link-type="biblio">[OPUS-IN-ISOBMFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1682de90">channelmappingfamily</span>
     <li><span class="dfn-paneled" id="cb075669">opus</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC6381]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="05d9bbbb">codecs</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC6716]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c0838b7f">opus packet</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC7845]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3aa31ccf">id header</span>
     <li><span class="dfn-paneled" id="6f7481b0">magic signature</span>
     <li><span class="dfn-paneled" id="a710ceb6">output channel count</span>
     <li><span class="dfn-paneled" id="b123b12d">output gain</span>
     <li><span class="dfn-paneled" id="617791e4">pre-skip</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC8486]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cbd3e2ac">channel count</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-aac">[AAC]
   <dd><a href="https://www.iso.org/standard/43345.html"><cite>Information technology — Generic coding of moving pictures and associated audio information — Part 7: Advanced Audio Coding (AAC)</cite></a>. Standard. URL: <a href="https://www.iso.org/standard/43345.html">https://www.iso.org/standard/43345.html</a>
   <dt id="biblio-ambix">[AmbiX]
   <dd><a href="https://iem.kug.ac.at/fileadmin/media/iem/projects/2011/ambisonics11_nachbar_zotter_sontacchi_deleflie.pdf"><cite>AMBIX - A SUGGESTED AMBISONICS FORMAT</cite></a>. Paper. URL: <a href="https://iem.kug.ac.at/fileadmin/media/iem/projects/2011/ambisonics11_nachbar_zotter_sontacchi_deleflie.pdf">https://iem.kug.ac.at/fileadmin/media/iem/projects/2011/ambisonics11_nachbar_zotter_sontacchi_deleflie.pdf</a>
   <dt id="biblio-av1-convention">[AV1-Convention]
   <dd><a href="https://aomedia.org/av1/specification/conventions/"><cite>Conventions</cite></a>. Spec. URL: <a href="https://aomedia.org/av1/specification/conventions/">https://aomedia.org/av1/specification/conventions/</a>
   <dt id="biblio-bcp47">[BCP47]
   <dd><a href="https://www.rfc-editor.org/info/bcp47"><cite>BCP 47</cite></a>. Best Practice. URL: <a href="https://www.rfc-editor.org/info/bcp47">https://www.rfc-editor.org/info/bcp47</a>
   <dt id="biblio-bear">[BEAR]
   <dd><a href="https://www.aes.org/e-lib/browse.cfm?elib=21729"><cite>Developing a Binaural Renderer for Audio Definition Model Content</cite></a>. Paper. URL: <a href="https://www.aes.org/e-lib/browse.cfm?elib=21729">https://www.aes.org/e-lib/browse.cfm?elib=21729</a>
   <dt id="biblio-flac">[FLAC]
   <dd><a href="https://xiph.org/flac/format.html"><cite>Free Lossless Audio Codec</cite></a>. Best Practice. URL: <a href="https://xiph.org/flac/format.html">https://xiph.org/flac/format.html</a>
   <dt id="biblio-iso14496-14">[ISO14496-14]
   <dd><a href="https://www.iso.org/standard/79110.html"><cite>Information technology — Coding of audio-visual objects — Part 14: MP4 file format</cite></a>. January 2020. Published. URL: <a href="https://www.iso.org/standard/79110.html">https://www.iso.org/standard/79110.html</a>
   <dt id="biblio-isobmff">[ISOBMFF]
   <dd><a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c068960_ISO_IEC_14496-12_2015.zip"><cite>Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format</cite></a>. December 2015. International Standard. URL: <a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c068960_ISO_IEC_14496-12_2015.zip">http://standards.iso.org/ittf/PubliclyAvailableStandards/c068960_ISO_IEC_14496-12_2015.zip</a>
   <dt id="biblio-itu1770-4">[ITU1770-4]
   <dd><a href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf"><cite>Algorithms to measure audio programme loudness and true-peak audio level</cite></a>. Standard. URL: <a href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf">https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf</a>
   <dt id="biblio-itu2051-3">[ITU2051-3]
   <dd><a href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf"><cite>Advance sound system for programme production</cite></a>. Standard. URL: <a href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf">https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf</a>
   <dt id="biblio-itu2127-0">[ITU2127-0]
   <dd><a href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2127-0-201906-I!!PDF-E.pdf"><cite>Audio Definition Model renderer for advanced sound systems</cite></a>. Standard. URL: <a href="https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2127-0-201906-I!!PDF-E.pdf">https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2127-0-201906-I!!PDF-E.pdf</a>
   <dt id="biblio-mp4-audio">[MP4-Audio]
   <dd><a href="https://www.iso.org/standard/76383.html"><cite>Information technology — Coding of audio-visual objects — Part 3: Audio</cite></a>. Standard. URL: <a href="https://www.iso.org/standard/76383.html">https://www.iso.org/standard/76383.html</a>
   <dt id="biblio-mp4-pcm">[MP4-PCM]
   <dd><a href="https://www.iso.org/standard/77752.html"><cite>Information technology — MPEG audio technologies — Part 5: Uncompressed audio in MPEG-4 file format</cite></a>. Standard. URL: <a href="https://www.iso.org/standard/77752.html">https://www.iso.org/standard/77752.html</a>
   <dt id="biblio-mp4-systems">[MP4-Systems]
   <dd><a href="https://www.iso.org/standard/55688.html"><cite>Information technology — Coding of audio-visual objects — Part 1: Systems</cite></a>. Standard. URL: <a href="https://www.iso.org/standard/55688.html">https://www.iso.org/standard/55688.html</a>
   <dt id="biblio-opus-in-isobmff">[OPUS-IN-ISOBMFF]
   <dd><a href="https://opus-codec.org/docs/opus_in_isobmff.html"><cite>Encapsulation of Opus in ISO Base Media File Format</cite></a>. Best Practice. URL: <a href="https://opus-codec.org/docs/opus_in_isobmff.html">https://opus-codec.org/docs/opus_in_isobmff.html</a>
   <dt id="biblio-q-format">[Q-Format]
   <dd><a href="https://en.wikipedia.org/wiki/Q_(number_format)"><cite>Q (number format)</cite></a>. Best Practice. URL: <a href="https://en.wikipedia.org/wiki/Q_(number_format)">https://en.wikipedia.org/wiki/Q_(number_format)</a>
   <dt id="biblio-resonance-audio">[Resonance-Audio]
   <dd><a href="https://www.aes.org/e-lib/browse.cfm?elib=20446"><cite>Efficient Encoding and Decoding of Binaural Sound with Resonance Audio</cite></a>. Paper. URL: <a href="https://www.aes.org/e-lib/browse.cfm?elib=20446">https://www.aes.org/e-lib/browse.cfm?elib=20446</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc3629">[RFC3629]
   <dd>F. Yergeau. <a href="https://www.rfc-editor.org/rfc/rfc3629"><cite>UTF-8, a transformation format of ISO 10646</cite></a>. November 2003. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3629">https://www.rfc-editor.org/rfc/rfc3629</a>
   <dt id="biblio-rfc6381">[RFC6381]
   <dd>R. Gellens; D. Singer; P. Frojdh. <a href="https://www.rfc-editor.org/rfc/rfc6381"><cite>The 'Codecs' and 'Profiles' Parameters for "Bucket" Media Types</cite></a>. August 2011. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6381">https://www.rfc-editor.org/rfc/rfc6381</a>
   <dt id="biblio-rfc6716">[RFC6716]
   <dd>JM. Valin; K. Vos; T. Terriberry. <a href="https://www.rfc-editor.org/rfc/rfc6716"><cite>Definition of the Opus Audio Codec</cite></a>. September 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6716">https://www.rfc-editor.org/rfc/rfc6716</a>
   <dt id="biblio-rfc7845">[RFC7845]
   <dd>T. Terriberry; R. Lee; R. Giles. <a href="https://www.rfc-editor.org/rfc/rfc7845"><cite>Ogg Encapsulation for the Opus Audio Codec</cite></a>. April 2016. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7845">https://www.rfc-editor.org/rfc/rfc7845</a>
   <dt id="biblio-rfc8486">[RFC8486]
   <dd>J. Skoglund; M. Graczyk. <a href="https://www.rfc-editor.org/rfc/rfc8486"><cite>Ambisonics in an Ogg Opus Container</cite></a>. October 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8486">https://www.rfc-editor.org/rfc/rfc8486</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-ai-cad-mixing">[AI-CAD-Mixing]
   <dd><a href="https://www.aes.org/e-lib/browse.cfm?elib=21489"><cite>AI 3D immersive audio codec based on content-adaptive dynamic down-mixing and up-mixing framework</cite></a>. Paper. URL: <a href="https://www.aes.org/e-lib/browse.cfm?elib=21489">https://www.aes.org/e-lib/browse.cfm?elib=21489</a>
  </dl>
<script>/* script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['fc10b1cf'] = {"dfnID": "fc10b1cf", "url": "https://www.iso.org/standard/43345.html#", "dfnText": "raw_data_block()", "refSections": [{"refs": [{"id": "246d99870"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "246d99870"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['67d3cf49'] = {"dfnID": "67d3cf49", "url": "https://aomedia.org/av1/specification/conventions/", "dfnText": "clip3", "refSections": [{"refs": [{"id": "def40fd10"}, {"id": "def40fd11"}, {"id": "def40fd12"}, {"id": "def40fd13"}], "title": "1.1.1. Data types"}, {"refs": [{"id": "def40fd10"}], "title": "1.3.2. Mathematical functions"}], "external": true};
window.dfnpanelData['3c6e7576'] = {"dfnID": "3c6e7576", "url": "https://aomedia.org/av1/specification/conventions/", "dfnText": "leb128()", "refSections": [{"refs": [{"id": "def40fd10"}, {"id": "def40fd11"}, {"id": "def40fd12"}, {"id": "def40fd13"}], "title": "1.1.1. Data types"}, {"refs": [{"id": "def40fd10"}], "title": "1.3.2. Mathematical functions"}], "external": true};
window.dfnpanelData['f9f6c3b0'] = {"dfnID": "f9f6c3b0", "url": "https://xiph.org/flac/format.html", "dfnText": "flac", "refSections": [{"refs": [{"id": "df20f7020"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}, {"id": "df20f7021"}, {"id": "df20f7022"}, {"id": "df20f7023"}, {"id": "df20f7024"}, {"id": "df20f7025"}, {"id": "df20f7026"}], "title": "3.13.3. IAMF-FLAC Specific"}], "external": true};
window.dfnpanelData['97a7143f'] = {"dfnID": "97a7143f", "url": "https://xiph.org/flac/format.html", "dfnText": "frame", "refSections": [{"refs": [{"id": "df20f7020"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}, {"id": "df20f7021"}, {"id": "df20f7022"}, {"id": "df20f7023"}, {"id": "df20f7024"}, {"id": "df20f7025"}, {"id": "df20f7026"}], "title": "3.13.3. IAMF-FLAC Specific"}], "external": true};
window.dfnpanelData['0afe50aa'] = {"dfnID": "0afe50aa", "url": "https://xiph.org/flac/format.html", "dfnText": "frame_footer", "refSections": [{"refs": [{"id": "df20f7020"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}, {"id": "df20f7021"}, {"id": "df20f7022"}, {"id": "df20f7023"}, {"id": "df20f7024"}, {"id": "df20f7025"}, {"id": "df20f7026"}], "title": "3.13.3. IAMF-FLAC Specific"}], "external": true};
window.dfnpanelData['48d601ef'] = {"dfnID": "48d601ef", "url": "https://xiph.org/flac/format.html", "dfnText": "frame_header", "refSections": [{"refs": [{"id": "df20f7020"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}, {"id": "df20f7021"}, {"id": "df20f7022"}, {"id": "df20f7023"}, {"id": "df20f7024"}, {"id": "df20f7025"}, {"id": "df20f7026"}], "title": "3.13.3. IAMF-FLAC Specific"}], "external": true};
window.dfnpanelData['2207a977'] = {"dfnID": "2207a977", "url": "https://xiph.org/flac/format.html", "dfnText": "metadata_block", "refSections": [{"refs": [{"id": "df20f7020"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}, {"id": "df20f7021"}, {"id": "df20f7022"}, {"id": "df20f7023"}, {"id": "df20f7024"}, {"id": "df20f7025"}, {"id": "df20f7026"}], "title": "3.13.3. IAMF-FLAC Specific"}], "external": true};
window.dfnpanelData['cb59b5a8'] = {"dfnID": "cb59b5a8", "url": "https://xiph.org/flac/format.html", "dfnText": "subframe", "refSections": [{"refs": [{"id": "df20f7020"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "df20f7020"}, {"id": "df20f7021"}, {"id": "df20f7022"}, {"id": "df20f7023"}, {"id": "df20f7024"}, {"id": "df20f7025"}, {"id": "df20f7026"}], "title": "3.13.3. IAMF-FLAC Specific"}], "external": true};
window.dfnpanelData['2ffcb4c6'] = {"dfnID": "2ffcb4c6", "url": "https://www.iso.org/standard/79110.html#", "dfnText": "esdbox", "refSections": [{"refs": [{"id": "9220e6060"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "9220e6060"}, {"id": "9220e6061"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['ef27c52c'] = {"dfnID": "ef27c52c", "url": "https://www.iso.org/standard/79110.html#", "dfnText": "mp4a", "refSections": [{"refs": [{"id": "9220e6060"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "9220e6060"}, {"id": "9220e6061"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['5a9020c6'] = {"dfnID": "5a9020c6", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "audiorollrecoveryentry", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['2407024d'] = {"dfnID": "2407024d", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "channelcount", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['5204d780'] = {"dfnID": "5204d780", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "edit_duration", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['c5b014fc'] = {"dfnID": "c5b014fc", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "edts", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['7e831bfa'] = {"dfnID": "7e831bfa", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "elst", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['b7aca2c8'] = {"dfnID": "b7aca2c8", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "grouping_type", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['103b0ad5'] = {"dfnID": "103b0ad5", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "iso6", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['1ee51e64'] = {"dfnID": "1ee51e64", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "media_time", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['70c129bd'] = {"dfnID": "70c129bd", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "mvhd", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['48678a58'] = {"dfnID": "48678a58", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "roll", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['6c74b0cb'] = {"dfnID": "6c74b0cb", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "samplerate", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['188beff5'] = {"dfnID": "188beff5", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "stts", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['67f35f3a'] = {"dfnID": "67f35f3a", "url": "https://www.iso.org/standard/68960.html#", "dfnText": "trun", "refSections": [{"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}, {"id": "474343bb2"}, {"id": "474343bb3"}, {"id": "474343bb4"}, {"id": "474343bb5"}, {"id": "474343bb6"}, {"id": "474343bb7"}, {"id": "474343bb8"}, {"id": "474343bb9"}, {"id": "474343bb10"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "474343bb0"}, {"id": "474343bb1"}], "title": "6.2.3. IA Sample Entry"}], "external": true};
window.dfnpanelData['9be750f5'] = {"dfnID": "9be750f5", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.1770-4-201510-I!!PDF-E.pdf#", "dfnText": "lkfs", "refSections": [{"refs": [{"id": "006211a60"}], "title": "3.8.7. Loudness Info Syntax and Semantics"}, {"refs": [{"id": "006211a60"}, {"id": "006211a61"}], "title": "9.2. Scalable Channel Audio Encoding"}, {"refs": [{"id": "006211a60"}], "title": "9.2.1. Down-mix parameter and Loudness"}], "external": true};
window.dfnpanelData['210e76fe'] = {"dfnID": "210e76fe", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system a (0+2+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['c6764e10'] = {"dfnID": "c6764e10", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system b (0+5+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['d064a106'] = {"dfnID": "d064a106", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system c (2+5+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['511d9c8f'] = {"dfnID": "511d9c8f", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system d (4+5+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['e74d0c58'] = {"dfnID": "e74d0c58", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system e (4+5+1)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['ad71bf34'] = {"dfnID": "ad71bf34", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system f (3+7+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['c3da7771'] = {"dfnID": "c3da7771", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system g (4+9+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['62860778'] = {"dfnID": "62860778", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system h (9+10+3)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['7042bf21'] = {"dfnID": "7042bf21", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system i (0+7+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['fec79d4d'] = {"dfnID": "fec79d4d", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "loudspeaker configuration for sound system j (4+7+0)", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['4b1d5f2d'] = {"dfnID": "4b1d5f2d", "url": "https://www.itu.int/dms_pubrec/itu-r/rec/bs/R-REC-BS.2051-3-202205-I!!PDF-E.pdf#", "dfnText": "sp label", "refSections": [{"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "dc50a12a0"}, {"id": "dc50a12a1"}, {"id": "dc50a12a2"}, {"id": "dc50a12a3"}, {"id": "dc50a12a4"}, {"id": "dc50a12a5"}, {"id": "dc50a12a6"}, {"id": "dc50a12a7"}, {"id": "dc50a12a8"}, {"id": "dc50a12a9"}, {"id": "dc50a12a10"}, {"id": "dc50a12a11"}], "title": "3.8.6. Layout Syntax and Semantics"}], "external": true};
window.dfnpanelData['89e2a373'] = {"dfnID": "89e2a373", "url": "https://www.iso.org/standard/76383.html#", "dfnText": "audioobjecttype", "refSections": [{"refs": [{"id": "d40c9d440"}, {"id": "d40c9d441"}, {"id": "d40c9d442"}, {"id": "d40c9d443"}, {"id": "d40c9d444"}, {"id": "d40c9d445"}, {"id": "d40c9d446"}, {"id": "d40c9d447"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['e2796ead'] = {"dfnID": "e2796ead", "url": "https://www.iso.org/standard/76383.html#", "dfnText": "audiospecificconfig()", "refSections": [{"refs": [{"id": "d40c9d440"}, {"id": "d40c9d441"}, {"id": "d40c9d442"}, {"id": "d40c9d443"}, {"id": "d40c9d444"}, {"id": "d40c9d445"}, {"id": "d40c9d446"}, {"id": "d40c9d447"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['dcbf28a1'] = {"dfnID": "dcbf28a1", "url": "https://www.iso.org/standard/76383.html#", "dfnText": "channelconfiguration", "refSections": [{"refs": [{"id": "d40c9d440"}, {"id": "d40c9d441"}, {"id": "d40c9d442"}, {"id": "d40c9d443"}, {"id": "d40c9d444"}, {"id": "d40c9d445"}, {"id": "d40c9d446"}, {"id": "d40c9d447"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['0e480d31'] = {"dfnID": "0e480d31", "url": "https://www.iso.org/standard/76383.html#", "dfnText": "dependsoncorecoder", "refSections": [{"refs": [{"id": "d40c9d440"}, {"id": "d40c9d441"}, {"id": "d40c9d442"}, {"id": "d40c9d443"}, {"id": "d40c9d444"}, {"id": "d40c9d445"}, {"id": "d40c9d446"}, {"id": "d40c9d447"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['b5185003'] = {"dfnID": "b5185003", "url": "https://www.iso.org/standard/76383.html#", "dfnText": "extensionflag", "refSections": [{"refs": [{"id": "d40c9d440"}, {"id": "d40c9d441"}, {"id": "d40c9d442"}, {"id": "d40c9d443"}, {"id": "d40c9d444"}, {"id": "d40c9d445"}, {"id": "d40c9d446"}, {"id": "d40c9d447"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['7ef68b80'] = {"dfnID": "7ef68b80", "url": "https://www.iso.org/standard/76383.html#", "dfnText": "framelengthflag", "refSections": [{"refs": [{"id": "d40c9d440"}, {"id": "d40c9d441"}, {"id": "d40c9d442"}, {"id": "d40c9d443"}, {"id": "d40c9d444"}, {"id": "d40c9d445"}, {"id": "d40c9d446"}, {"id": "d40c9d447"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['f5a1b08d'] = {"dfnID": "f5a1b08d", "url": "https://www.iso.org/standard/76383.html#", "dfnText": "gaspecificconfig()", "refSections": [{"refs": [{"id": "d40c9d440"}, {"id": "d40c9d441"}, {"id": "d40c9d442"}, {"id": "d40c9d443"}, {"id": "d40c9d444"}, {"id": "d40c9d445"}, {"id": "d40c9d446"}, {"id": "d40c9d447"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['4bb437cf'] = {"dfnID": "4bb437cf", "url": "https://www.iso.org/standard/77752.html#", "dfnText": "format_flags", "refSections": [{"refs": [{"id": "d4ce8e260"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "d4ce8e260"}, {"id": "d4ce8e261"}, {"id": "d4ce8e262"}], "title": "3.13.4. IAMF-LPCM Specific"}], "external": true};
window.dfnpanelData['e389739a'] = {"dfnID": "e389739a", "url": "https://www.iso.org/standard/77752.html#", "dfnText": "ipcm", "refSections": [{"refs": [{"id": "d4ce8e260"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "d4ce8e260"}, {"id": "d4ce8e261"}, {"id": "d4ce8e262"}], "title": "3.13.4. IAMF-LPCM Specific"}], "external": true};
window.dfnpanelData['bf8d541e'] = {"dfnID": "bf8d541e", "url": "https://www.iso.org/standard/77752.html#", "dfnText": "pcm_sample_size", "refSections": [{"refs": [{"id": "d4ce8e260"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "d4ce8e260"}, {"id": "d4ce8e261"}, {"id": "d4ce8e262"}], "title": "3.13.4. IAMF-LPCM Specific"}], "external": true};
window.dfnpanelData['dd905074'] = {"dfnID": "dd905074", "url": "https://www.iso.org/standard/55688.html#", "dfnText": "decoderconfigdescriptor()", "refSections": [{"refs": [{"id": "8fc5d25d0"}], "title": "1.1. Syntax Description"}, {"refs": [{"id": "8fc5d25d0"}, {"id": "8fc5d25d1"}, {"id": "8fc5d25d2"}, {"id": "8fc5d25d3"}, {"id": "8fc5d25d4"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['5a8fd307'] = {"dfnID": "5a8fd307", "url": "https://www.iso.org/standard/55688.html#", "dfnText": "decspecificinfo()", "refSections": [{"refs": [{"id": "8fc5d25d0"}], "title": "1.1. Syntax Description"}, {"refs": [{"id": "8fc5d25d0"}, {"id": "8fc5d25d1"}, {"id": "8fc5d25d2"}, {"id": "8fc5d25d3"}, {"id": "8fc5d25d4"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['2ca7e0c6'] = {"dfnID": "2ca7e0c6", "url": "https://www.iso.org/standard/55688.html#", "dfnText": "objecttypeindication", "refSections": [{"refs": [{"id": "8fc5d25d0"}], "title": "1.1. Syntax Description"}, {"refs": [{"id": "8fc5d25d0"}, {"id": "8fc5d25d1"}, {"id": "8fc5d25d2"}, {"id": "8fc5d25d3"}, {"id": "8fc5d25d4"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['cfdaebb3'] = {"dfnID": "cfdaebb3", "url": "https://www.iso.org/standard/55688.html#", "dfnText": "streamtype", "refSections": [{"refs": [{"id": "8fc5d25d0"}], "title": "1.1. Syntax Description"}, {"refs": [{"id": "8fc5d25d0"}, {"id": "8fc5d25d1"}, {"id": "8fc5d25d2"}, {"id": "8fc5d25d3"}, {"id": "8fc5d25d4"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['a55a74f6'] = {"dfnID": "a55a74f6", "url": "https://www.iso.org/standard/55688.html#", "dfnText": "syntactic description language", "refSections": [{"refs": [{"id": "8fc5d25d0"}], "title": "1.1. Syntax Description"}, {"refs": [{"id": "8fc5d25d0"}, {"id": "8fc5d25d1"}, {"id": "8fc5d25d2"}, {"id": "8fc5d25d3"}, {"id": "8fc5d25d4"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['5d02bf0b'] = {"dfnID": "5d02bf0b", "url": "https://www.iso.org/standard/55688.html#", "dfnText": "upstream", "refSections": [{"refs": [{"id": "8fc5d25d0"}], "title": "1.1. Syntax Description"}, {"refs": [{"id": "8fc5d25d0"}, {"id": "8fc5d25d1"}, {"id": "8fc5d25d2"}, {"id": "8fc5d25d3"}, {"id": "8fc5d25d4"}], "title": "3.13.2. IAMF-AAC-LC Specific"}], "external": true};
window.dfnpanelData['1682de90'] = {"dfnID": "1682de90", "url": "https://opus-codec.org/docs/opus_in_isobmff.html#", "dfnText": "channelmappingfamily", "refSections": [{"refs": [{"id": "c1e408280"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "3.13.1. IAMF-OPUS Specific"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "9. IAMF Generation Process"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "9.1. Ambisonics Encoding"}], "external": true};
window.dfnpanelData['cb075669'] = {"dfnID": "cb075669", "url": "https://opus-codec.org/docs/opus_in_isobmff.html#", "dfnText": "opus", "refSections": [{"refs": [{"id": "c1e408280"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "3.13.1. IAMF-OPUS Specific"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "9. IAMF Generation Process"}, {"refs": [{"id": "c1e408280"}, {"id": "c1e408281"}], "title": "9.1. Ambisonics Encoding"}], "external": true};
window.dfnpanelData['05d9bbbb'] = {"dfnID": "05d9bbbb", "url": "https://tools.ietf.org/html/rfc6381#", "dfnText": "codecs", "refSections": [{"refs": [{"id": "ceb2b7690"}], "title": "6.3. Codecs Parameter String"}], "external": true};
window.dfnpanelData['c0838b7f'] = {"dfnID": "c0838b7f", "url": "https://tools.ietf.org/html/rfc6716#", "dfnText": "opus packet", "refSections": [{"refs": [{"id": "f1604df20"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "f1604df20"}], "title": "3.13.1. IAMF-OPUS Specific"}], "external": true};
window.dfnpanelData['3aa31ccf'] = {"dfnID": "3aa31ccf", "url": "https://tools.ietf.org/html/rfc7845#", "dfnText": "id header", "refSections": [{"refs": [{"id": "52fa5dda0"}, {"id": "52fa5dda1"}, {"id": "52fa5dda2"}, {"id": "52fa5dda3"}, {"id": "52fa5dda4"}, {"id": "52fa5dda5"}, {"id": "52fa5dda6"}], "title": "3.13.1. IAMF-OPUS Specific"}], "external": true};
window.dfnpanelData['6f7481b0'] = {"dfnID": "6f7481b0", "url": "https://tools.ietf.org/html/rfc7845#", "dfnText": "magic signature", "refSections": [{"refs": [{"id": "52fa5dda0"}, {"id": "52fa5dda1"}, {"id": "52fa5dda2"}, {"id": "52fa5dda3"}, {"id": "52fa5dda4"}, {"id": "52fa5dda5"}, {"id": "52fa5dda6"}], "title": "3.13.1. IAMF-OPUS Specific"}], "external": true};
window.dfnpanelData['a710ceb6'] = {"dfnID": "a710ceb6", "url": "https://tools.ietf.org/html/rfc7845#", "dfnText": "output channel count", "refSections": [{"refs": [{"id": "52fa5dda0"}, {"id": "52fa5dda1"}, {"id": "52fa5dda2"}, {"id": "52fa5dda3"}, {"id": "52fa5dda4"}, {"id": "52fa5dda5"}, {"id": "52fa5dda6"}], "title": "3.13.1. IAMF-OPUS Specific"}], "external": true};
window.dfnpanelData['b123b12d'] = {"dfnID": "b123b12d", "url": "https://tools.ietf.org/html/rfc7845#", "dfnText": "output gain", "refSections": [{"refs": [{"id": "52fa5dda0"}, {"id": "52fa5dda1"}, {"id": "52fa5dda2"}, {"id": "52fa5dda3"}, {"id": "52fa5dda4"}, {"id": "52fa5dda5"}, {"id": "52fa5dda6"}], "title": "3.13.1. IAMF-OPUS Specific"}], "external": true};
window.dfnpanelData['617791e4'] = {"dfnID": "617791e4", "url": "https://tools.ietf.org/html/rfc7845#", "dfnText": "pre-skip", "refSections": [{"refs": [{"id": "52fa5dda0"}, {"id": "52fa5dda1"}, {"id": "52fa5dda2"}, {"id": "52fa5dda3"}, {"id": "52fa5dda4"}, {"id": "52fa5dda5"}, {"id": "52fa5dda6"}], "title": "3.13.1. IAMF-OPUS Specific"}], "external": true};
window.dfnpanelData['cbd3e2ac'] = {"dfnID": "cbd3e2ac", "url": "https://tools.ietf.org/html/rfc8486#", "dfnText": "channel count", "refSections": [{"refs": [{"id": "76d5a13e0"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}], "external": true};
window.dfnpanelData['utf-8_enc-label'] = {"dfnID": "utf-8_enc-label", "url": "#utf-8_enc-label", "dfnText": "UTF-8_Enc(label)", "refSections": [{"refs": [{"id": "ref-for-utf-8_enc-label"}], "title": "1.1.1. Data types"}], "external": false};
window.dfnpanelData['immersive-audio'] = {"dfnID": "immersive-audio", "url": "#immersive-audio", "dfnText": "immersive audio", "refSections": [{"refs": [{"id": "ref-for-immersive-audio"}, {"id": "ref-for-immersive-audio\u2460"}], "title": "2. Introduction"}, {"refs": [{"id": "ref-for-immersive-audio\u2461"}], "title": "2.1. IA sequence Components"}], "external": false};
window.dfnpanelData['ia-sequence'] = {"dfnID": "ia-sequence", "url": "#ia-sequence", "dfnText": "IA sequence", "refSections": [{"refs": [{"id": "ref-for-ia-sequence"}], "title": "8. IAMF processing"}, {"refs": [{"id": "ref-for-ia-sequence\u2460"}], "title": "9. IAMF Generation Process"}], "external": false};
window.dfnpanelData['obu_type'] = {"dfnID": "obu_type", "url": "#obu_type", "dfnText": "obu_type", "refSections": [{"refs": [{"id": "ref-for-obu_type"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-obu_type\u2460"}], "title": "3.7. Audio Element OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-obu_type\u2461"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-obu_type\u2462"}], "title": "3.9. Parameter Block OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-obu_type\u2463"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-obu_type\u2464"}], "title": "9.4.1. Multiple Audio Elements with One Codec Config"}], "external": false};
window.dfnpanelData['obu_redundant_copy'] = {"dfnID": "obu_redundant_copy", "url": "#obu_redundant_copy", "dfnText": "obu_redundant_copy", "refSections": [{"refs": [{"id": "ref-for-obu_redundant_copy"}], "title": "6.2.2. Encapsulation Scheme"}], "external": false};
window.dfnpanelData['obu_trimming_status_flag'] = {"dfnID": "obu_trimming_status_flag", "url": "#obu_trimming_status_flag", "dfnText": "obu_trimming_status_flag", "refSections": [{"refs": [{"id": "ref-for-obu_trimming_status_flag"}, {"id": "ref-for-obu_trimming_status_flag\u2460"}], "title": "3.2. OBU Header Syntax and Semantics"}], "external": false};
window.dfnpanelData['obu_extension_flag'] = {"dfnID": "obu_extension_flag", "url": "#obu_extension_flag", "dfnText": "obu_extension_flag", "refSections": [{"refs": [{"id": "ref-for-obu_extension_flag"}], "title": "3.2. OBU Header Syntax and Semantics"}], "external": false};
window.dfnpanelData['num_samples_to_trim_at_start'] = {"dfnID": "num_samples_to_trim_at_start", "url": "#num_samples_to_trim_at_start", "dfnText": "num_samples_to_trim_at_start", "refSections": [{"refs": [{"id": "ref-for-num_samples_to_trim_at_start"}, {"id": "ref-for-num_samples_to_trim_at_start\u2460"}], "title": "3.2. OBU Header Syntax and Semantics"}], "external": false};
window.dfnpanelData['num_samples_to_trim_at_end'] = {"dfnID": "num_samples_to_trim_at_end", "url": "#num_samples_to_trim_at_end", "dfnText": "num_samples_to_trim_at_end", "refSections": [{"refs": [{"id": "ref-for-num_samples_to_trim_at_end"}, {"id": "ref-for-num_samples_to_trim_at_end\u2460"}], "title": "3.2. OBU Header Syntax and Semantics"}], "external": false};
window.dfnpanelData['extension_header_size'] = {"dfnID": "extension_header_size", "url": "#extension_header_size", "dfnText": "extension_header_size", "refSections": [{"refs": [{"id": "ref-for-extension_header_size"}, {"id": "ref-for-extension_header_size\u2460"}, {"id": "ref-for-extension_header_size\u2461"}, {"id": "ref-for-extension_header_size\u2462"}, {"id": "ref-for-extension_header_size\u2463"}], "title": "3.2. OBU Header Syntax and Semantics"}], "external": false};
window.dfnpanelData['version'] = {"dfnID": "version", "url": "#version", "dfnText": "version", "refSections": [{"refs": [{"id": "ref-for-version"}], "title": "3.2. OBU Header Syntax and Semantics"}, {"refs": [{"id": "ref-for-version\u2460"}], "title": "3.5. Magic Code OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-version\u2461"}, {"id": "ref-for-version\u2462"}], "title": "4.1. IA Simple Profile"}, {"refs": [{"id": "ref-for-version\u2463"}, {"id": "ref-for-version\u2464"}], "title": "4.2. IA Base Profile"}, {"refs": [{"id": "ref-for-version\u2465"}], "title": "6.3. Codecs Parameter String"}], "external": false};
window.dfnpanelData['profile_version'] = {"dfnID": "profile_version", "url": "#profile_version", "dfnText": "profile_version", "refSections": [{"refs": [{"id": "ref-for-profile_version"}, {"id": "ref-for-profile_version\u2460"}], "title": "4.1. IA Simple Profile"}, {"refs": [{"id": "ref-for-profile_version\u2461"}, {"id": "ref-for-profile_version\u2462"}], "title": "4.2. IA Base Profile"}, {"refs": [{"id": "ref-for-profile_version\u2463"}], "title": "6.3. Codecs Parameter String"}], "external": false};
window.dfnpanelData['codec_config_id'] = {"dfnID": "codec_config_id", "url": "#codec_config_id", "dfnText": "codec_config_id", "refSections": [{"refs": [{"id": "ref-for-codec_config_id"}], "title": "9.4.1. Multiple Audio Elements with One Codec Config"}], "external": false};
window.dfnpanelData['codec_id'] = {"dfnID": "codec_id", "url": "#codec_id", "dfnText": "codec_id", "refSections": [{"refs": [{"id": "ref-for-codec_id"}], "title": "3.13. Codec Specific"}, {"refs": [{"id": "ref-for-codec_id\u2460"}], "title": "3.13.1. IAMF-OPUS Specific"}, {"refs": [{"id": "ref-for-codec_id\u2461"}], "title": "3.13.2. IAMF-AAC-LC Specific"}, {"refs": [{"id": "ref-for-codec_id\u2462"}], "title": "3.13.3. IAMF-FLAC Specific"}, {"refs": [{"id": "ref-for-codec_id\u2463"}], "title": "3.13.4. IAMF-LPCM Specific"}], "external": false};
window.dfnpanelData['num_samples_per_frame'] = {"dfnID": "num_samples_per_frame", "url": "#num_samples_per_frame", "dfnText": "num_samples_per_frame", "refSections": [{"refs": [{"id": "ref-for-num_samples_per_frame"}], "title": "3.13.4. IAMF-LPCM Specific"}, {"refs": [{"id": "ref-for-num_samples_per_frame\u2460"}, {"id": "ref-for-num_samples_per_frame\u2461"}], "title": "6.2.2. Encapsulation Scheme"}], "external": false};
window.dfnpanelData['roll_distance'] = {"dfnID": "roll_distance", "url": "#roll_distance", "dfnText": "roll_distance", "refSections": [{"refs": [{"id": "ref-for-roll_distance"}], "title": "6.2.2. Encapsulation Scheme"}], "external": false};
window.dfnpanelData['decoder_config'] = {"dfnID": "decoder_config", "url": "#decoder_config", "dfnText": "decoder_config()", "refSections": [{"refs": [{"id": "ref-for-decoder_config"}], "title": "3.13. Codec Specific"}, {"refs": [{"id": "ref-for-decoder_config\u2460"}], "title": "3.13.1. IAMF-OPUS Specific"}, {"refs": [{"id": "ref-for-decoder_config\u2461"}], "title": "3.13.2. IAMF-AAC-LC Specific"}, {"refs": [{"id": "ref-for-decoder_config\u2462"}], "title": "3.13.3. IAMF-FLAC Specific"}, {"refs": [{"id": "ref-for-decoder_config\u2463"}], "title": "3.13.4. IAMF-LPCM Specific"}, {"refs": [{"id": "ref-for-decoder_config\u2464"}], "title": "8.2. Scalable Channel Audio decoding"}, {"refs": [{"id": "ref-for-decoder_config\u2465"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['audio_element_id'] = {"dfnID": "audio_element_id", "url": "#audio_element_id", "dfnText": "audio_element_id", "refSections": [{"refs": [{"id": "ref-for-audio_element_id"}, {"id": "ref-for-audio_element_id\u2460"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-audio_element_id\u2461"}], "title": "8.3.1. Selecting a Mix Presentation"}, {"refs": [{"id": "ref-for-audio_element_id\u2462"}, {"id": "ref-for-audio_element_id\u2463"}], "title": "9.4.1. Multiple Audio Elements with One Codec Config"}], "external": false};
window.dfnpanelData['num_substreams'] = {"dfnID": "num_substreams", "url": "#num_substreams", "dfnText": "num_substreams", "refSections": [{"refs": [{"id": "ref-for-num_substreams"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-num_substreams\u2460"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}], "external": false};
window.dfnpanelData['c'] = {"dfnID": "c", "url": "#c", "dfnText": "c", "refSections": [{"refs": [{"id": "ref-for-c"}], "title": "3.7. Audio Element OBU Syntax and Semantics"}], "external": false};
window.dfnpanelData['n_c'] = {"dfnID": "n_c", "url": "#n_c", "dfnText": "n_c", "refSections": [{"refs": [{"id": "ref-for-n_c"}], "title": "3.7. Audio Element OBU Syntax and Semantics"}], "external": false};
window.dfnpanelData['scalable_channel_layout_config'] = {"dfnID": "scalable_channel_layout_config", "url": "#scalable_channel_layout_config", "dfnText": "scalable_channel_layout_config()", "refSections": [{"refs": [{"id": "ref-for-scalable_channel_layout_config"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-scalable_channel_layout_config\u2460"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-scalable_channel_layout_config\u2461"}], "title": "8.3.2.3. Rendering a channel-based audio element to a binaural output"}, {"refs": [{"id": "ref-for-scalable_channel_layout_config\u2462"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['ambisonics_config'] = {"dfnID": "ambisonics_config", "url": "#ambisonics_config", "dfnText": "ambisonics_config()", "refSections": [{"refs": [{"id": "ref-for-ambisonics_config"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}], "external": false};
window.dfnpanelData['paramdefinition'] = {"dfnID": "paramdefinition", "url": "#paramdefinition", "dfnText": "ParamDefinition()", "refSections": [{"refs": [{"id": "ref-for-paramdefinition"}], "title": "3.9. Parameter Block OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-paramdefinition\u2460"}, {"id": "ref-for-paramdefinition\u2461"}, {"id": "ref-for-paramdefinition\u2462"}], "title": "9.4.1. Multiple Audio Elements with One Codec Config"}], "external": false};
window.dfnpanelData['parameter_rate'] = {"dfnID": "parameter_rate", "url": "#parameter_rate", "dfnText": "parameter_rate", "refSections": [{"refs": [{"id": "ref-for-parameter_rate"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}, {"refs": [{"id": "ref-for-parameter_rate\u2460"}], "title": "3.9. Parameter Block OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-parameter_rate\u2461"}, {"id": "ref-for-parameter_rate\u2462"}], "title": "8.4. Animated Parameters"}], "external": false};
window.dfnpanelData['param_definition_mode'] = {"dfnID": "param_definition_mode", "url": "#param_definition_mode", "dfnText": "param_definition_mode", "refSections": [{"refs": [{"id": "ref-for-param_definition_mode"}, {"id": "ref-for-param_definition_mode\u2460"}], "title": "4.1. IA Simple Profile"}, {"refs": [{"id": "ref-for-param_definition_mode\u2461"}, {"id": "ref-for-param_definition_mode\u2462"}], "title": "4.2. IA Base Profile"}], "external": false};
window.dfnpanelData['duration'] = {"dfnID": "duration", "url": "#duration", "dfnText": "duration", "refSections": [{"refs": [{"id": "ref-for-duration"}, {"id": "ref-for-duration\u2460"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['num_subblocks'] = {"dfnID": "num_subblocks", "url": "#num_subblocks", "dfnText": "num_subblocks", "refSections": [{"refs": [{"id": "ref-for-num_subblocks"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['constant_subblock_duration'] = {"dfnID": "constant_subblock_duration", "url": "#constant_subblock_duration", "dfnText": "constant_subblock_duration", "refSections": [{"refs": [{"id": "ref-for-constant_subblock_duration"}, {"id": "ref-for-constant_subblock_duration\u2460"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['d'] = {"dfnID": "d", "url": "#d", "dfnText": "D", "refSections": [{"refs": [{"id": "ref-for-d"}, {"id": "ref-for-d\u2460"}, {"id": "ref-for-d\u2461"}, {"id": "ref-for-d\u2462"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['ns'] = {"dfnID": "ns", "url": "#ns", "dfnText": "NS", "refSections": [{"refs": [{"id": "ref-for-ns"}, {"id": "ref-for-ns\u2460"}, {"id": "ref-for-ns\u2461"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['csi'] = {"dfnID": "csi", "url": "#csi", "dfnText": "CSI", "refSections": [{"refs": [{"id": "ref-for-csi"}, {"id": "ref-for-csi\u2460"}, {"id": "ref-for-csi\u2461"}, {"id": "ref-for-csi\u2462"}, {"id": "ref-for-csi\u2463"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['si'] = {"dfnID": "si", "url": "#si", "dfnText": "SI", "refSections": [{"refs": [{"id": "ref-for-si"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['subblock_duration'] = {"dfnID": "subblock_duration", "url": "#subblock_duration", "dfnText": "subblock_duration", "refSections": [{"refs": [{"id": "ref-for-subblock_duration"}, {"id": "ref-for-subblock_duration\u2460"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}], "external": false};
window.dfnpanelData['num_layers'] = {"dfnID": "num_layers", "url": "#num_layers", "dfnText": "num_layers", "refSections": [{"refs": [{"id": "ref-for-num_layers"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-num_layers\u2460"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-num_layers\u2461"}], "title": "3.9.3. Recon Gain Info Parameter Data Syntax and Semantics"}, {"refs": [{"id": "ref-for-num_layers\u2462"}], "title": "4.1. IA Simple Profile"}, {"refs": [{"id": "ref-for-num_layers\u2463"}, {"id": "ref-for-num_layers\u2464"}, {"id": "ref-for-num_layers\u2465"}, {"id": "ref-for-num_layers\u2466"}, {"id": "ref-for-num_layers\u2467"}, {"id": "ref-for-num_layers\u2468"}, {"id": "ref-for-num_layers\u2460\u24ea"}, {"id": "ref-for-num_layers\u2460\u2460"}, {"id": "ref-for-num_layers\u2460\u2461"}], "title": "4.2. IA Base Profile"}, {"refs": [{"id": "ref-for-num_layers\u2460\u2462"}], "title": "8.2. Scalable Channel Audio decoding"}, {"refs": [{"id": "ref-for-num_layers\u2460\u2463"}], "title": "8.2.2. De-mixer"}, {"refs": [{"id": "ref-for-num_layers\u2460\u2464"}], "title": "8.3.2.1. Rendering a channel-based audio element to loudspeakers"}, {"refs": [{"id": "ref-for-num_layers\u2460\u2465"}, {"id": "ref-for-num_layers\u2460\u2466"}], "title": "9. IAMF Generation Process"}, {"refs": [{"id": "ref-for-num_layers\u2460\u2467"}, {"id": "ref-for-num_layers\u2460\u2468"}, {"id": "ref-for-num_layers\u2461\u24ea"}, {"id": "ref-for-num_layers\u2461\u2460"}, {"id": "ref-for-num_layers\u2461\u2461"}], "title": "9.2. Scalable Channel Audio Encoding"}, {"refs": [{"id": "ref-for-num_layers\u2461\u2462"}], "title": "9.2.3. Channel Layout Generation Rule"}, {"refs": [{"id": "ref-for-num_layers\u2461\u2463"}, {"id": "ref-for-num_layers\u2461\u2464"}, {"id": "ref-for-num_layers\u2461\u2465"}, {"id": "ref-for-num_layers\u2461\u2466"}], "title": "9.3. Mix Presentation Encoding"}], "external": false};
window.dfnpanelData['channel_audio_layer_config'] = {"dfnID": "channel_audio_layer_config", "url": "#channel_audio_layer_config", "dfnText": "channel_audio_layer_config()", "refSections": [{"refs": [{"id": "ref-for-channel_audio_layer_config"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-channel_audio_layer_config\u2460"}], "title": "8.2.1. Gain"}, {"refs": [{"id": "ref-for-channel_audio_layer_config\u2461"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['loudspeaker_layout'] = {"dfnID": "loudspeaker_layout", "url": "#loudspeaker_layout", "dfnText": "loudspeaker_layout", "refSections": [{"refs": [{"id": "ref-for-loudspeaker_layout"}, {"id": "ref-for-loudspeaker_layout\u2460"}], "title": "3.7. Audio Element OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2461"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2462"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2463"}, {"id": "ref-for-loudspeaker_layout\u2464"}, {"id": "ref-for-loudspeaker_layout\u2465"}], "title": "3.8.6. Layout Syntax and Semantics"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2466"}], "title": "3.9.2. Demixing Info Parameter Data Syntax and Semantics"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2467"}], "title": "8.2. Scalable Channel Audio decoding"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2468"}], "title": "8.3.1. Selecting a Mix Presentation"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2460\u24ea"}, {"id": "ref-for-loudspeaker_layout\u2460\u2460"}, {"id": "ref-for-loudspeaker_layout\u2460\u2461"}, {"id": "ref-for-loudspeaker_layout\u2460\u2462"}, {"id": "ref-for-loudspeaker_layout\u2460\u2463"}], "title": "8.3.2.1. Rendering a channel-based audio element to loudspeakers"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2460\u2464"}, {"id": "ref-for-loudspeaker_layout\u2460\u2465"}], "title": "9. IAMF Generation Process"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2460\u2466"}], "title": "9.2. Scalable Channel Audio Encoding"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2460\u2467"}], "title": "9.2.2. Down-mix Mechanism"}, {"refs": [{"id": "ref-for-loudspeaker_layout\u2460\u2468"}], "title": "9.2.3. Channel Layout Generation Rule"}], "external": false};
window.dfnpanelData['714ch'] = {"dfnID": "714ch", "url": "#714ch", "dfnText": "7.1.4ch", "refSections": [{"refs": [{"id": "ref-for-714ch"}], "title": "3.7.2. Scalable Channel Layout Config Syntax and Semantics"}], "external": false};
window.dfnpanelData['output_gain_is_present_flag'] = {"dfnID": "output_gain_is_present_flag", "url": "#output_gain_is_present_flag", "dfnText": "output_gain_is_present_flag", "refSections": [{"refs": [{"id": "ref-for-output_gain_is_present_flag"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['recon_gain_is_present_flag'] = {"dfnID": "recon_gain_is_present_flag", "url": "#recon_gain_is_present_flag", "dfnText": "recon_gain_is_present_flag", "refSections": [{"refs": [{"id": "ref-for-recon_gain_is_present_flag"}, {"id": "ref-for-recon_gain_is_present_flag\u2460"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['substream_count'] = {"dfnID": "substream_count", "url": "#substream_count", "dfnText": "substream_count", "refSections": [{"refs": [{"id": "ref-for-substream_count"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-substream_count\u2460"}, {"id": "ref-for-substream_count\u2461"}], "title": "9.1. Ambisonics Encoding"}, {"refs": [{"id": "ref-for-substream_count\u2462"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['coupled_substream_count'] = {"dfnID": "coupled_substream_count", "url": "#coupled_substream_count", "dfnText": "coupled_substream_count", "refSections": [{"refs": [{"id": "ref-for-coupled_substream_count"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-coupled_substream_count\u2460"}], "title": "9.1. Ambisonics Encoding"}, {"refs": [{"id": "ref-for-coupled_substream_count\u2461"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['output_gain_flags'] = {"dfnID": "output_gain_flags", "url": "#output_gain_flags", "dfnText": "output_gain_flags", "refSections": [{"refs": [{"id": "ref-for-output_gain_flags"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['output_gain'] = {"dfnID": "output_gain", "url": "#output_gain", "dfnText": "output_gain", "refSections": [{"refs": [{"id": "ref-for-output_gain"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['ambisonics_mode'] = {"dfnID": "ambisonics_mode", "url": "#ambisonics_mode", "dfnText": "ambisonics_mode", "refSections": [{"refs": [{"id": "ref-for-ambisonics_mode"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-ambisonics_mode\u2460"}], "title": "8.1. Ambisonics decoding"}, {"refs": [{"id": "ref-for-ambisonics_mode\u2461"}, {"id": "ref-for-ambisonics_mode\u2462"}, {"id": "ref-for-ambisonics_mode\u2463"}], "title": "9.1. Ambisonics Encoding"}], "external": false};
window.dfnpanelData['output_channel_count'] = {"dfnID": "output_channel_count", "url": "#output_channel_count", "dfnText": "output_channel_count", "refSections": [{"refs": [{"id": "ref-for-output_channel_count"}], "title": "3.7.3. Ambisonics Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-output_channel_count\u2460"}, {"id": "ref-for-output_channel_count\u2461"}], "title": "8.1. Ambisonics decoding"}, {"refs": [{"id": "ref-for-output_channel_count\u2462"}], "title": "9.1. Ambisonics Encoding"}], "external": false};
window.dfnpanelData['channel_mapping'] = {"dfnID": "channel_mapping", "url": "#channel_mapping", "dfnText": "channel_mapping", "refSections": [{"refs": [{"id": "ref-for-channel_mapping"}], "title": "8.1. Ambisonics decoding"}, {"refs": [{"id": "ref-for-channel_mapping\u2460"}, {"id": "ref-for-channel_mapping\u2461"}], "title": "9.1. Ambisonics Encoding"}], "external": false};
window.dfnpanelData['demixing_matrix'] = {"dfnID": "demixing_matrix", "url": "#demixing_matrix", "dfnText": "demixing_matrix", "refSections": [{"refs": [{"id": "ref-for-demixing_matrix"}], "title": "8.1. Ambisonics decoding"}, {"refs": [{"id": "ref-for-demixing_matrix\u2460"}, {"id": "ref-for-demixing_matrix\u2461"}], "title": "9.1. Ambisonics Encoding"}], "external": false};
window.dfnpanelData['num_sub_mixes'] = {"dfnID": "num_sub_mixes", "url": "#num_sub_mixes", "dfnText": "num_sub_mixes", "refSections": [{"refs": [{"id": "ref-for-num_sub_mixes"}], "title": "4.1. IA Simple Profile"}, {"refs": [{"id": "ref-for-num_sub_mixes\u2460"}], "title": "4.2. IA Base Profile"}, {"refs": [{"id": "ref-for-num_sub_mixes\u2461"}, {"id": "ref-for-num_sub_mixes\u2462"}, {"id": "ref-for-num_sub_mixes\u2463"}], "title": "9.3. Mix Presentation Encoding"}], "external": false};
window.dfnpanelData['num_audio_elements'] = {"dfnID": "num_audio_elements", "url": "#num_audio_elements", "dfnText": "num_audio_elements", "refSections": [{"refs": [{"id": "ref-for-num_audio_elements"}, {"id": "ref-for-num_audio_elements\u2460"}, {"id": "ref-for-num_audio_elements\u2461"}], "title": "9.3. Mix Presentation Encoding"}], "external": false};
window.dfnpanelData['rendering_config'] = {"dfnID": "rendering_config", "url": "#rendering_config", "dfnText": "rendering_config()", "refSections": [{"refs": [{"id": "ref-for-rendering_config"}], "title": "9.5.1. Loudness Information"}], "external": false};
window.dfnpanelData['element_mix_config'] = {"dfnID": "element_mix_config", "url": "#element_mix_config", "dfnText": "element_mix_config()", "refSections": [{"refs": [{"id": "ref-for-element_mix_config"}], "title": "3.8.4. Element Mix Config Syntax and Semantics"}, {"refs": [{"id": "ref-for-element_mix_config\u2460"}], "title": "8.3.3. Mixing Audio Elements"}, {"refs": [{"id": "ref-for-element_mix_config\u2461"}, {"id": "ref-for-element_mix_config\u2462"}, {"id": "ref-for-element_mix_config\u2463"}], "title": "9.3. Mix Presentation Encoding"}, {"refs": [{"id": "ref-for-element_mix_config\u2464"}], "title": "9.3.1. Element Mix Config"}, {"refs": [{"id": "ref-for-element_mix_config\u2465"}], "title": "9.5.1. Loudness Information"}], "external": false};
window.dfnpanelData['output_mix_config'] = {"dfnID": "output_mix_config", "url": "#output_mix_config", "dfnText": "output_mix_config()", "refSections": [{"refs": [{"id": "ref-for-output_mix_config"}], "title": "8.3. Mix Presentation"}, {"refs": [{"id": "ref-for-output_mix_config\u2460"}], "title": "8.3.3. Mixing Audio Elements"}, {"refs": [{"id": "ref-for-output_mix_config\u2461"}, {"id": "ref-for-output_mix_config\u2462"}, {"id": "ref-for-output_mix_config\u2463"}], "title": "9.3. Mix Presentation Encoding"}, {"refs": [{"id": "ref-for-output_mix_config\u2464"}], "title": "9.5.1. Loudness Information"}], "external": false};
window.dfnpanelData['num_layouts'] = {"dfnID": "num_layouts", "url": "#num_layouts", "dfnText": "num_layouts", "refSections": [{"refs": [{"id": "ref-for-num_layouts"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-num_layouts\u2460"}, {"id": "ref-for-num_layouts\u2461"}, {"id": "ref-for-num_layouts\u2462"}], "title": "9.3. Mix Presentation Encoding"}], "external": false};
window.dfnpanelData['loudness_layout'] = {"dfnID": "loudness_layout", "url": "#loudness_layout", "dfnText": "loudness_layout", "refSections": [{"refs": [{"id": "ref-for-loudness_layout"}, {"id": "ref-for-loudness_layout\u2460"}, {"id": "ref-for-loudness_layout\u2461"}, {"id": "ref-for-loudness_layout\u2462"}, {"id": "ref-for-loudness_layout\u2463"}, {"id": "ref-for-loudness_layout\u2464"}], "title": "3.8. Mix Presentation OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-loudness_layout\u2465"}, {"id": "ref-for-loudness_layout\u2466"}, {"id": "ref-for-loudness_layout\u2467"}], "title": "8.3.1. Selecting a Mix Presentation"}, {"refs": [{"id": "ref-for-loudness_layout\u2468"}, {"id": "ref-for-loudness_layout\u2460\u24ea"}], "title": "8.3.2.1. Rendering a channel-based audio element to loudspeakers"}, {"refs": [{"id": "ref-for-loudness_layout\u2460\u2460"}], "title": "8.3.3. Mixing Audio Elements"}, {"refs": [{"id": "ref-for-loudness_layout\u2460\u2461"}, {"id": "ref-for-loudness_layout\u2460\u2462"}, {"id": "ref-for-loudness_layout\u2460\u2463"}], "title": "8.5.1. Loudness Normalization"}, {"refs": [{"id": "ref-for-loudness_layout\u2460\u2464"}, {"id": "ref-for-loudness_layout\u2460\u2465"}, {"id": "ref-for-loudness_layout\u2460\u2466"}, {"id": "ref-for-loudness_layout\u2460\u2467"}, {"id": "ref-for-loudness_layout\u2460\u2468"}], "title": "9.3. Mix Presentation Encoding"}, {"refs": [{"id": "ref-for-loudness_layout\u2461\u24ea"}, {"id": "ref-for-loudness_layout\u2461\u2460"}], "title": "9.5.1. Loudness Information"}], "external": false};
window.dfnpanelData['loudness'] = {"dfnID": "loudness", "url": "#loudness", "dfnText": "loudness", "refSections": [{"refs": [{"id": "ref-for-loudness"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['mix_presentation_friendly_label'] = {"dfnID": "mix_presentation_friendly_label", "url": "#mix_presentation_friendly_label", "dfnText": "mix_presentation_friendly_label", "refSections": [{"refs": [{"id": "ref-for-mix_presentation_friendly_label"}], "title": "8.3.1. Selecting a Mix Presentation"}], "external": false};
window.dfnpanelData['mix_gain'] = {"dfnID": "mix_gain", "url": "#mix_gain", "dfnText": "mix_gain", "refSections": [{"refs": [{"id": "ref-for-mix_gain"}, {"id": "ref-for-mix_gain\u2460"}], "title": "9.3. Mix Presentation Encoding"}, {"refs": [{"id": "ref-for-mix_gain\u2461"}, {"id": "ref-for-mix_gain\u2462"}], "title": "9.5.1. Loudness Information"}], "external": false};
window.dfnpanelData['output_mix_gain'] = {"dfnID": "output_mix_gain", "url": "#output_mix_gain", "dfnText": "output_mix_gain", "refSections": [{"refs": [{"id": "ref-for-output_mix_gain"}, {"id": "ref-for-output_mix_gain\u2460"}], "title": "9.3. Mix Presentation Encoding"}], "external": false};
window.dfnpanelData['parameter_id'] = {"dfnID": "parameter_id", "url": "#parameter_id", "dfnText": "parameter_id", "refSections": [{"refs": [{"id": "ref-for-parameter_id"}, {"id": "ref-for-parameter_id\u2460"}], "title": "3.7.1. Parameter Definition Syntax and Semantics"}, {"refs": [{"id": "ref-for-parameter_id\u2461"}, {"id": "ref-for-parameter_id\u2462"}], "title": "9.4.1. Multiple Audio Elements with One Codec Config"}], "external": false};
window.dfnpanelData['animation_type'] = {"dfnID": "animation_type", "url": "#animation_type", "dfnText": "animation_type", "refSections": [{"refs": [{"id": "ref-for-animation_type"}], "title": "3.9.1. Mix Gain Parameter Data Syntax and Semantics"}, {"refs": [{"id": "ref-for-animation_type\u2460"}, {"id": "ref-for-animation_type\u2461"}, {"id": "ref-for-animation_type\u2462"}, {"id": "ref-for-animation_type\u2463"}], "title": "8.4. Animated Parameters"}], "external": false};
window.dfnpanelData['animatedparameterdata'] = {"dfnID": "animatedparameterdata", "url": "#animatedparameterdata", "dfnText": "AnimatedParameterData()", "refSections": [{"refs": [{"id": "ref-for-animatedparameterdata"}], "title": "3.9. Parameter Block OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-animatedparameterdata\u2460"}, {"id": "ref-for-animatedparameterdata\u2461"}], "title": "8.4. Animated Parameters"}], "external": false};
window.dfnpanelData['start_point_value'] = {"dfnID": "start_point_value", "url": "#start_point_value", "dfnText": "start_point_value", "refSections": [{"refs": [{"id": "ref-for-start_point_value"}, {"id": "ref-for-start_point_value\u2460"}, {"id": "ref-for-start_point_value\u2461"}], "title": "8.4. Animated Parameters"}], "external": false};
window.dfnpanelData['end_point_value'] = {"dfnID": "end_point_value", "url": "#end_point_value", "dfnText": "end_point_value", "refSections": [{"refs": [{"id": "ref-for-end_point_value"}, {"id": "ref-for-end_point_value\u2460"}], "title": "8.4. Animated Parameters"}], "external": false};
window.dfnpanelData['demixing_info_parameter_data'] = {"dfnID": "demixing_info_parameter_data", "url": "#demixing_info_parameter_data", "dfnText": "demixing_info_parameter_data()", "refSections": [{"refs": [{"id": "ref-for-demixing_info_parameter_data"}], "title": "4.1. IA Simple Profile"}, {"refs": [{"id": "ref-for-demixing_info_parameter_data\u2460"}, {"id": "ref-for-demixing_info_parameter_data\u2461"}, {"id": "ref-for-demixing_info_parameter_data\u2462"}, {"id": "ref-for-demixing_info_parameter_data\u2463"}], "title": "4.2. IA Base Profile"}, {"refs": [{"id": "ref-for-demixing_info_parameter_data\u2464"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['dmixp_mode'] = {"dfnID": "dmixp_mode", "url": "#dmixp_mode", "dfnText": "dmixp_mode", "refSections": [{"refs": [{"id": "ref-for-dmixp_mode"}], "title": "9.2. Scalable Channel Audio Encoding"}, {"refs": [{"id": "ref-for-dmixp_mode\u2460"}], "title": "9.2.1. Down-mix parameter and Loudness"}], "external": false};
window.dfnpanelData['recon_gain_info_parameter_data'] = {"dfnID": "recon_gain_info_parameter_data", "url": "#recon_gain_info_parameter_data", "dfnText": "recon_gain_info_parameter_data()", "refSections": [{"refs": [{"id": "ref-for-recon_gain_info_parameter_data"}], "title": "3.9.3. Recon Gain Info Parameter Data Syntax and Semantics"}, {"refs": [{"id": "ref-for-recon_gain_info_parameter_data\u2460"}], "title": "4.1. IA Simple Profile"}, {"refs": [{"id": "ref-for-recon_gain_info_parameter_data\u2461"}, {"id": "ref-for-recon_gain_info_parameter_data\u2462"}], "title": "4.2. IA Base Profile"}, {"refs": [{"id": "ref-for-recon_gain_info_parameter_data\u2463"}], "title": "8.2.3. Recon Gain"}, {"refs": [{"id": "ref-for-recon_gain_info_parameter_data\u2464"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['recon_gain_flags'] = {"dfnID": "recon_gain_flags", "url": "#recon_gain_flags", "dfnText": "recon_gain_flags", "refSections": [{"refs": [{"id": "ref-for-recon_gain_flags"}, {"id": "ref-for-recon_gain_flags\u2460"}], "title": "3.9.3. Recon Gain Info Parameter Data Syntax and Semantics"}, {"refs": [{"id": "ref-for-recon_gain_flags\u2461"}], "title": "9.2. Scalable Channel Audio Encoding"}], "external": false};
window.dfnpanelData['recon_gain'] = {"dfnID": "recon_gain", "url": "#recon_gain", "dfnText": "recon_gain", "refSections": [{"refs": [{"id": "ref-for-recon_gain"}, {"id": "ref-for-recon_gain\u2460"}, {"id": "ref-for-recon_gain\u2461"}], "title": "3.9.3. Recon Gain Info Parameter Data Syntax and Semantics"}, {"refs": [{"id": "ref-for-recon_gain\u2462"}, {"id": "ref-for-recon_gain\u2463"}], "title": "8.2.3. Recon Gain"}, {"refs": [{"id": "ref-for-recon_gain\u2464"}, {"id": "ref-for-recon_gain\u2465"}], "title": "9.2. Scalable Channel Audio Encoding"}, {"refs": [{"id": "ref-for-recon_gain\u2466"}], "title": "9.2.1. Down-mix parameter and Loudness"}, {"refs": [{"id": "ref-for-recon_gain\u2467"}], "title": "9.2.4. Recon Gain Generation"}], "external": false};
window.dfnpanelData['audio_substream_id'] = {"dfnID": "audio_substream_id", "url": "#audio_substream_id", "dfnText": "audio_substream_id", "refSections": [{"refs": [{"id": "ref-for-audio_substream_id"}, {"id": "ref-for-audio_substream_id\u2460"}, {"id": "ref-for-audio_substream_id\u2461"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-audio_substream_id\u2462"}, {"id": "ref-for-audio_substream_id\u2463"}, {"id": "ref-for-audio_substream_id\u2464"}], "title": "9.4.1. Multiple Audio Elements with One Codec Config"}], "external": false};
window.dfnpanelData['audio_frame'] = {"dfnID": "audio_frame", "url": "#audio_frame", "dfnText": "audio_frame()", "refSections": [{"refs": [{"id": "ref-for-audio_frame"}, {"id": "ref-for-audio_frame\u2460"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}, {"refs": [{"id": "ref-for-audio_frame\u2461"}, {"id": "ref-for-audio_frame\u2462"}], "title": "3.13.4. IAMF-LPCM Specific"}], "external": false};
window.dfnpanelData['obu_id'] = {"dfnID": "obu_id", "url": "#obu_id", "dfnText": "obu_id", "refSections": [{"refs": [{"id": "ref-for-obu_id"}, {"id": "ref-for-obu_id\u2460"}], "title": "3.12. Sync OBU Syntax and Semantics"}], "external": false};
window.dfnpanelData['relative_offset'] = {"dfnID": "relative_offset", "url": "#relative_offset", "dfnText": "relative_offset", "refSections": [{"refs": [{"id": "ref-for-relative_offset"}, {"id": "ref-for-relative_offset\u2460"}, {"id": "ref-for-relative_offset\u2461"}, {"id": "ref-for-relative_offset\u2462"}, {"id": "ref-for-relative_offset\u2463"}, {"id": "ref-for-relative_offset\u2464"}], "title": "3.12. Sync OBU Syntax and Semantics"}], "external": false};
window.dfnpanelData['codec_specific_info'] = {"dfnID": "codec_specific_info", "url": "#codec_specific_info", "dfnText": "Codec_Specific_Info", "refSections": [{"refs": [{"id": "ref-for-codec_specific_info"}, {"id": "ref-for-codec_specific_info\u2460"}, {"id": "ref-for-codec_specific_info\u2461"}, {"id": "ref-for-codec_specific_info\u2462"}], "title": "3.6. Codec Config OBU Syntax and Semantics"}], "external": false};
window.dfnpanelData['sample_format_flags'] = {"dfnID": "sample_format_flags", "url": "#sample_format_flags", "dfnText": "sample_format_flags", "refSections": [{"refs": [{"id": "ref-for-sample_format_flags"}], "title": "3.10. Audio Frame OBU Syntax and Semantics"}], "external": false};
window.dfnpanelData['iasampleentry'] = {"dfnID": "iasampleentry", "url": "#iasampleentry", "dfnText": "IASampleEntry", "refSections": [{"refs": [{"id": "ref-for-iasampleentry"}], "title": "6.1. General Requirements & Brands"}, {"refs": [{"id": "ref-for-iasampleentry\u2460"}], "title": "6.2.2. Encapsulation Scheme"}, {"refs": [{"id": "ref-for-iasampleentry\u2461"}], "title": "6.2.5. IA Sample Format"}], "external": false};
window.dfnpanelData['ia-sample'] = {"dfnID": "ia-sample", "url": "#ia-sample", "dfnText": "IA Sample", "refSections": [{"refs": [{"id": "ref-for-ia-sample"}], "title": "6.2.3. IA Sample Entry"}], "external": false};
window.dfnpanelData['s1to2-de-mixer'] = {"dfnID": "s1to2-de-mixer", "url": "#s1to2-de-mixer", "dfnText": "S1to2 de-mixer", "refSections": [{"refs": [{"id": "ref-for-s1to2-de-mixer"}], "title": "8.2.2. De-mixer"}], "external": false};
window.dfnpanelData['s2to3-de-mixer'] = {"dfnID": "s2to3-de-mixer", "url": "#s2to3-de-mixer", "dfnText": "S2to3 de-mixer", "refSections": [{"refs": [{"id": "ref-for-s2to3-de-mixer"}, {"id": "ref-for-s2to3-de-mixer\u2460"}], "title": "8.2.2. De-mixer"}], "external": false};
window.dfnpanelData['s3to5-de-mixer'] = {"dfnID": "s3to5-de-mixer", "url": "#s3to5-de-mixer", "dfnText": "S3to5 de-mixer", "refSections": [{"refs": [{"id": "ref-for-s3to5-de-mixer"}, {"id": "ref-for-s3to5-de-mixer\u2460"}], "title": "8.2.2. De-mixer"}], "external": false};
window.dfnpanelData['s5to7-de-mixer'] = {"dfnID": "s5to7-de-mixer", "url": "#s5to7-de-mixer", "dfnText": "S5to7 de-mixer", "refSections": [{"refs": [{"id": "ref-for-s5to7-de-mixer"}], "title": "8.2.2. De-mixer"}], "external": false};
window.dfnpanelData['tf2tot2-de-mixer'] = {"dfnID": "tf2tot2-de-mixer", "url": "#tf2tot2-de-mixer", "dfnText": "TF2toT2 de-mixer", "refSections": [{"refs": [{"id": "ref-for-tf2tot2-de-mixer"}, {"id": "ref-for-tf2tot2-de-mixer\u2460"}], "title": "8.2.2. De-mixer"}], "external": false};
window.dfnpanelData['t2to4-de-mixer'] = {"dfnID": "t2to4-de-mixer", "url": "#t2to4-de-mixer", "dfnText": "T2to4 de-mixer", "refSections": [{"refs": [{"id": "ref-for-t2to4-de-mixer"}, {"id": "ref-for-t2to4-de-mixer\u2460"}], "title": "8.2.2. De-mixer"}], "external": false};
window.dfnpanelData['down-mixed-audio'] = {"dfnID": "down-mixed-audio", "url": "#down-mixed-audio", "dfnText": "down-mixed audio", "refSections": [{"refs": [{"id": "ref-for-down-mixed-audio"}], "title": "8.2.2. De-mixer"}], "external": false};</script>
<script>/* script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>